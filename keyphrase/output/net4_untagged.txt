computer networks prof dr sujoy ghosh department of computer science and engineering iit kharagpur lecture -16 error control good day in the last lecture  we have seen some functionalities of the data link layer namely framing etc and we have been talking off and on about the error control error control means error detection correction  etc we will be talking about error detection correction in this lecture we will be talking about error control now  refer slide time  01  14  03  35  now data errors  when data is transmitted over a cable or a channel there is always a chance that some of the bits will be changed or corrupted due to noise  signal distortion or attenuation etc so many things may happen ; for example  suppose you have a wireless channel and suddenly there is a burst of noise  so some of the data will get garbled similarly the data may have become very attenuated due to some loose contact somewhere or something and the one that was sent was not received or maybe it was received as a 0 or something so  whenever you are sending some data or something  there is some communication going on over some transmission line  you always have to assume that data may not reach the other side in a perfect condition and error control has to deal with how to handle that so if errors do occur then some of the transmitted bits will either change from 0 to 1 or from 1 to 0 now what do you mean by error ? some bits were transmitted from 1 and were changed to 0 or from 0 they was changed to 1 so this is the only kind of error that may occur and if you knew where the position of that error is  we can correct it because the correct one will be the reverse of the faulty one so if it is 0  then the correct one is 1 and if it is 1 then the correct one is 0 the whole trick is to find out whether any errors or any change has occurred and if such a change has occurred  where it has occurred and how to handle it there may be a lot of noise and a lot of data may get corrupted in this fashion so we will see how or what we can do about this this data error will also depend on the kind of transmission medium we are using so that is always there  refer slide time  03  37  04  20  so  random errors change bits unpredictably each bit transmitted has a probability of being changed these errors are often caused by thermal noise ; because this thermal noise is something very general and is always present in any kind of these things there is higher thermal noise or there may be low level of thermal noise but this thermal noise is always present so these cause some random errors there are some burst errors or a change in a number of bits in succession they are often caused by faults in electrical equipment or by interference on some neighboring things so  electrical interference is a very major cause of such burst errors  refer slide time  04  21  05  17  so  we take transmission errors as inevitable  resulting in the change of one or more bits in a transmitted frame the rate of error may be high or low  but there will always be some error ; that is what we assume let us just see what it means  if there is a finite probability of error for a particular bit let us just have a look at some notations let pb be the probability of a single bit error called bit error rate so the probability of a single bit error is the bit error rate or b e r as they are sometimes called p1 is probability that a frame arrives with no bit errors  that means there is no error and p2 is the probability that a frame arrives with one or more undetected bit errors so  p1 is no error and p2 is one or more errors  refer slide time  05  17  05  55  p3 is a probability that a frame arrives with one or more detected bit errors  but no undetected bit errors sometimes we can detect which bits are in error and sometime we can not so  we will come to this later let f be the number of bits in a frame  if no error detection scheme is used suppose we are not detecting it specifically so p3 = 0 ; we can not detect which bits are in error so p1 =  1 ? pb  f  refer slide time  05  55  06  01  if you remember  pb is a bit error rate since pb is a bit error rate probability of a single bit error  p1 would be 1 ? pb for one particular bit  refer slide time  06  02  06  04  in one particular bit  the probability of error is pb so  the probability for that particular bit has no error  that is  1 ? pb and we are assuming that these errors are sort of independent  which may not always be the case with burst errors but for thermal noise  we assume that there are bit errors we will see that the noise will introduce an error or some other error will creep in let us say they are independent so if there are f bits in a frame  the probability that a frame arrives with no error is  1 ? pb  f  refer slide time  06  47  06  58  and p2 arrives with one or more errors   1 ? p1   p2 = 1 ? p1 so  clearly longer frame and higher pb leads to lower p1 let us try to look at some numbers  refer slide time  06  59  07  11  so  this is an illustrative example a defined specification for isdn connections ? you remember isdn means integrated service data network which is the digital service given through the telephone lines so that is the isdn so in isdn connections  bit error rate on a 64-kbps channel should be less than 10 ? 6 on at least 90 % of the observed 1-minute intervals suppose that looks quite low  rate of error is 1 in 1016 that means only in a million bits 1 one bit may come in error suppose we want that at most one frame with an undetected bit error should occur per day on a continuously used 64-kbps channel  with a frame length of 1000 bits so we want not more than one frame should come with undetected bit error so we are using this for a whole day on the 64-kbps channel and the length of the frame is 1000 bits  refer slide time  08  59  09  34  so number of frames transmitted per day =  64k/1000  ? 60 ? 60 ? 24 = 5.5 ? 106 so if one of them is desired frame error rate  p2 = 1/  5.5 ? 106  = 0.18 ? 10 ? 6  but  if we assume pb = 10 ? 6  then p1 =  0.999999  1000 = 0.999 so if p1 = 0.999  p2 = 10 ? 3  which is about three orders of magnitude too large to meet our requirements that means it is thousand times more  although one bit in a million looks a fairly good error rate but we find that at the end of the day  we may have a thousand frames which are in error well  it does not work out that way that by multiplying with 1000  we will get so many frames in error but the point is that whatever probability we require for a faulty frame we have got a much higher probability than we were prepared we were prepared for say one faulty data frame per day but that is not the case at all so this necessitates the use of error detection ; that means  we have to do something to bring down this error rate the other point is that sometimes one will not have control over the environment or the transmission line directly it is quite difficult  because if you are having a wireless transmission now  some noise will certainly come from some other source may be somebody starting a car will also give out some kind of electrical noise and somebody starting a machine somewhere will give some kind of electrical noise  some mixer or grinder running in the house may give some kind of error all kinds of sources are there  and you do not have any control over it so the point is that  whatever the error that is coming  you have to do something at your end to get better error rates so  we want to detect such errors and if possible we want to correct them so this is what we are going to discuss now  refer slide time  11  11  12  49  error detection  one general principle of getting greater reliability or less error  as i said is always redundancy that means you put in some kind of redundancy in the system in order to get better reliability we have seen this when we were talking about the reliability of optical networks but in this case  the redundancy comes in the form of extra bits that we introduce into the data  which means that whatever data is being sent  we also send in some extra bits specifically for the purpose of error detection and correction so edc are the error detection and correction bits which are actually redundant that means they are not original part of the data  and they are extra bits  which have been introduced suppose d = data protected by error checking ; it may include header fields so the data which we are protecting may or may not include it ; it depends on the protocol it may just be on the payload and the header  all together  we may like to detect the error error detection is never 100 % reliable but the protocol may miss some errors but usually we can bring down the level of errors to a very low figure the larger edc fields yield better detection if you put larger redundancy you have better error detection and correction  refer slide time  12  50  13  42  so you have the datagram coming we add some extra bits edc from there we send it to the bit error prone link  which arrives at d ? and edc ?  now d may be the same as in d ? and has no error and it itself may have corrupted or both may have been corrupted but any way we run some algorithm or some method for finding out whether these are alright and if we think they are alright we say yes otherwise  we say that an error has been detected sometimes  the errors may be such that although we say everything is ok  it may not be so ; in that case  we say that the error has gone undetected  refer slide time  13  42  14  25  now for this error detection and correction  one concept  which is used  is the so-called hamming distance between the two bit patterns and then there are hamming codes also we will not go in to the details of hamming codes here  but let me just tell you what is hamming distance suppose we have two code words  like it has been shown here this one code word is 10101110 and the other one is 0100110  these are the code words by hamming distance  what we mean is that we have to see in how many bit positions the two code words are different  refer slide time  14  35  16  07  so  in order to find that  we simply xor the two so  if we xor these  we get this if you can go through 0 1 is 1  1 0 is 1 and so on so you get 1 1 1 0 0 0 1 1 now we count the number of 1s in this xor  which is 5 so we say that their hamming distance is 5 please note that if the two corresponding bits are different in the two code words 0 and 1  1 and 0  then we get a 1 in this xor if they are the same like 1 1 or 0 0  we get 0 this h hamming distance is the number of positions where the two code words differ if you have a set of code words  say between these two hamming distance is 4  between these two  the hamming distance is 3  between these two also the hamming distance is 3 let us see this differs in one position  two positions  these are the same in the third position this is again the same this differs in three positions similarly  this other h is equal to 3 for other peers in this set as a whole  the minimum hamming distance between two code words is actually 3 h of the code word is actually 3 we take the minimum of all these h values and this comes out to be 3 so we say that for this set of code words  the hamming distance is 3 now  if the hamming distance is 3  we have an interesting situation let us say these code words are what we are sending to the other side ; now if there is a single error ; that means if a single bit has flipped from 1  it has become 0 so what has happened is that this code word will move to another code word so this will appear as another code word in the receiving end ; and the one which is received and the one which was sent ? the hamming distance between the two will be only 1  because only one bit has flipped so  only one position  what was 0 has become a 1 there  or may be what was 1 here has become 0 there so it has changed 1 in one position assuming that there is a single bit error  the hamming distance between the transmitted and the received code word will be 1 now if the system is known  then this is the set of code words which is being used on both the sides ; and first of all you will immediately know that for this particular set of code words h = 3 was there that means  say  this is the set of keywords that i showed you ; those are the only code words  which had been sent so the hamming distance was 3 so for whichever value  this new transmuted or new changed code that was received is not going to be a valid code  because this is only at a hamming distance of 1 from the transmitted code so this is not going to be a member of the set so immediately  we will detect that there has been some error and not only that  if you assume that there is most likelihood that we have got only one error then it is the one which is at a hamming distance of 1 from this transmitted code it will be at a hamming distance of 1 or 2 from the code  whereas it is at a hamming distance of 1 from the code word which was already sent and if you know this and if you assume that there can be only one error then you know that that is the code word so you can not only detect that there has been an error  you can also correct the error by going to the nearest code word from which the hamming distance is minimum  namely  the one which was transmitted so this is the general principle so we will see practically how this is done there is a coding scheme  for which it goes as hamming code we will not discuss that  but there are other schemes  but all of them use this idea of a hamming distance  refer slide time  19  08  19  50  the simplest error detection scheme is the parity check it appends a parity bit to the end of a block of data what is a parity bit ? it is an extra bit  which is sort of added to some data there are two kinds of parity  odd parity and even parity odd number of bit errors can be detected why odd number of bit errors can be detected  i will explain that if an even number of bits is in inverted due to error an undetected error occurs the technique is not foolproof  as noise impulses are often long enough to destroy more than one bit  particularly at high data rates  refer slide time  19  08  23  09  but let us first of all see what a parity bit is suppose 1 0 1 1 0 1 1 1 was the original bit pattern in even parity  what we do is that we make the number of 1 ; we add a bit which is 0 or 1  depending on whether the number of 1s in the original pattern is even or odd if it is even parity  we want to make the number of 1s even  so the number of 1s were originally even over here so in 1 0 1 1 0 1 1 1  we have six 1s so we already have an even number of 1s here  in the added parity bit we just give it a value 0  whereas in the other one  that is  1 1 0 0 0 0 0 1  we have three 1s so this was odd  so the added parity bit was also made 1  so that overall the number of 1s in this data plus parity bit taken together is always even that is  the number of 1s is always even in even parity if everything is fine ; and the number of 1s is always odd similarly  the number of 1s is always odd in odd parity now if you just think about it a bit  if you are using even parity then all the valid code words have even number of 1s in them so what is the number of position and what is the minimum number of positions in which they have to differ ? these two different code words ? well  the minimum number is 2 ; that means  the hamming distance of this set of code words will be minimum 2 and if the hamming distance is 2 and if there is a single error  what is going to come is that we are going to get a code word in the receiving end  which has got an odd number of 1s and  if it has got an odd number of 1s  we immediately know that this could not be a valid code word so we know that there has been some error  although we can not say where that error is  or what the original intended transmitted code is  because if you think of two code words which are at a distance of 2 and the transmitted one ? let us say we had even parity  that is  even number of 1s ; their hamming distance minimum was 2 let us take the worst case  the minimum is 2 and then the transmitted one of this code word was this where one of the bits flipped  we get something in the middle  which is at the hamming distance of 1 from the two valid code words so we know that this has been transmitted as invalid in that sense  this is not a valid code word so an error has occurred but i do not know whether something from here came here or the original transmitted code was here and it came here  because we do not know where the error has occurred so in this particular case  we can nearly detect an error we can not correct it at the receiving end so the case of parity is a very simple kind of scheme  refer slide time  from 23  09 to 24  22  so once again  if you go back to the earlier slide  i mentioned that odd number of bit errors can be detected now as i said if there is a single bit error  it will be detected because now we have got an odd number of points well  if there are odd number of errors  that means if there are one error or three errors or five errors in that bit stream  then again  we will get an odd number of 1s on the receiving end so we can detect that there has been an error we do not know the number of errors  but in any case  we can detect it but if there are only two errors  then it will again become an even number of ones on other side which may be a valid code word so we will not know whether there has been any error or not so if there are an even number of errors  this parity check will go undetected by this single parity bit error checking running the parity check is very easy  refer slide time  24  22  24  37  you just run them through some xors and invert it if you want it in odd parity or if you want an even parity  you can get it and this is very simple  refer slide time  24  22  24  59  now parity testing  the receiving device can work out if a bit has been corrupted in a character by counting the number of 1s in the character and parity bit if even parity bit is being used but there are an odd number of 1s then an error must have occurred similarly  if odd parity is being used but there is an even number of 1s then an error must have occurred  refer slide time  24  59  25  37  one drawback with parity testing errors is that if two errors occur in the same character  they will not be detected this is because if there were an even number of 1s originally  if two bits are changed  then there will still be an even number of 1s because either two 1s will become 0 so the even number of 1s remain even or two 0s will become 1  also even number of 0s remain even or 1 1 has become 0 and 1 0 has become 1 so the number of 1s does not change and they still remain even so it remains undetected  refer slide time  25  37  26  12  there is some improvement over this and we can see how to make it more efficient this is an extension of parity bit  which is called block parity testing this is how it works suppose we have a long stream of 1s and 0s  1s and 0s  1 0 1 1  etc so what we do is  we break them up into blocks of bits let us say 8 bits ; we take the first 8 bits as the first pattern then the next 8 bits are the next pattern  and so on  refer slide time  26  12  27  11  so what we do is  for each group of 8 bits a parity can be added in this case let us say even parity  so the first 8 bits were 1 0 1 0 1 1 1 0 so for even parity if there are five 1s here so i have to add a 1  there are three 1s here  i have to add 1  there are four 1s here ; so i add a 0 in this way for each block of 8 bits  we add a parity bit then for every n blocks the parity is calculated as a new character  in this case 8 ? 8   so this is how it goes what we do is  if you look at this as some kind of a matrix so  we calculate the parity on this side we calculate the parity along the column also so five 1s  so we make it a 1 over here for this parity  refer slide time  27  12  27  40  then for every n blocks the parity is calculated as a new character i have mentioned that i have got parity on this side so for this block of  say  64 characters  i have got say 8 + 8 + 1 = 16 + 1 = 17 parity bits  refer slide time  27  42  28  43  now if there is a single error  which has occurred  what is going to happen is that where ever it may have occurred in that row the parity test will fail similarly in the column also the parity test will fail ; and since one column and one row intercept exactly at one cell  we know that that is the bit which has become corrupted so now if an error occurs  we will know which character and which column it has occurred in not only can we detect the error but we can also correct a single bit error by simply changing it so since we know that this is the bit which is in error  i can simply flip it at the receiving end itself without any referring back to the transmitter and we know that we have got the correct one we can not only detect errors but we can also correct single errors in block parity testing  refer slide time  28  43  29  46  so this is just a better diagram for this ; we have got this system this is using odd parity i mean there is no reason to use the same kind of parity in both the cases you can use odd parity for the transverse parity bits and you can use even parity for this and calculate this so if there is some error we can compute it if there are more than one error then you may get into some kind of trouble because you will not know which bit is in error if there are two rows and two columns which show parity error then you will not know which row and which column will match together to get that particular bit  which has been corrupted  refer slide time  29  45  30  09  so we not only have error detecting codes but we have some error correcting codes also by comparing error detection and error correcting codes  error correcting codes require more number of bits because we want to correct it so we require more number of bits  which is a problem  refer slide time  30  09  30  43  in error correcting codes  rather than just detecting an error  sometimes it is useful to be able to correct an error as well for example  cds use error correcting codes to ensure high-quality sound reproduction even if the cd is slightly damaged so we are talking about some music cd so even if a few bits are in error still it will use error correcting code to handle that we have already seen that we can correct a single error in a block parity check there are other techniques that can correct more number of errors  refer slide time  30  44  32  06  so what happens is that your one scheme could be error detection so suppose some alphabet a was sent  this was a valid code word  and there was a noisy channel so some error got introduced so  1 0 1 1 0 1 became 1 0 0 1 0 1 that means the third one from the left has become a 0 so this is an invalid code word we know that the original one was using odd parity kind of thing  so even number and odd number of 1s were there but in the even number there was even parity and hence even number of 1s were there but i have got an odd number of 1s  i do not know where the error is  so what we do is  we request for retransmission ; that could be one approach but if i can correct a single error on the other side  then i do not need to ask for retransmission overall my efficiency may improve but of course for error correction  i have to send more bits so that is the one area where i am sort of losing something so it all depends on how you do your engineering and how you come to your particular point of say optimal amount of error correction  refer slide time  32  06 ? 32  41  so another way of checking for errors was to use a checksum this checksum is also used in other fields so this has been borrowed not just from communication from other fields for accounting also  sometimes checksum is used this is just used for this sum just for control purpose so in some arbitrary order you sum it and then with all the data you also check with the sum  refer slide time  32  41 ? 33  06  this is a number calculated from the data and sent along with the data if any errors occur during transmission then checksum for the received data will differ from the transmitted checksum of course  the data may arrive alright  but the checksum may become faulty but even then in that case the checksum and the data will not match so checksum can only detect errors ; it will not be possible to correct it  refer slide time  33  06 ? 33  46  a simple checksum can be calculated by adding all the data together for example if the data is 121  17  29 and 47  then the checksum  add all the data  will be 214 we could transmit 121  17  29  47 and 214 we know that the last number is the checksum  which should be the sum of all the numbers which have been sent a checksum is usually restricted to a certain number of bits  typically 16 bits if the checksum is longer than this  then only the lower 16 bits will be transmitted but checksum is not very efficient and not widely used  refer slide time  33  46 ? 34  38  one scheme  which is widely used  is the so-called cyclic redundancy code what is a cyclic redundancy code ? a cyclic redundancy code  crc  is a more sophisticated type of checksum if a crc is used  it is extremely unlikely that any errors will go undetected a lot of different types of errors are caught by the crc although the technique may sound a little complicated  in practice calculating a crc is easy and can be implemented in hardware using linear shift registers which is a very simple kind of circuit ; through that  we can compute it very easily and quite fast so  the crc is preferred in many data link protocols  refer slide time  34  38  34  49  so what is crc ? let us just look at the details of it  refer slide time  34  49 ? 35  21  essentially the data is regarded as being one very long binary number after all what you are sending is a string of 1s and 0s  and you can take a few of them and just look at it as a binary number if you are adding the header also  then it got even more mixed up i mean it was not to be interpreted as a number but for crc purpose  we interpret it as a binary number  refer slide time  35  21 ? 35  44  so to this we add some place holder digits at the end and it is divided by a generator polynomial using modulo 2 division so for modulo 2 division  you do the same kind of division only thing is that if they match then we get a 0  if they do not match we get 1 the remainder at the end of this division is the crc so let us just look at this  refer slide time  35  44 ? 36  48  so given a k bit block of bits  the transmitter generates an n bit sequence  known as a frame check sequence  fcs   so that the resulting frame  consisting of k + n bits  is exactly divisible by some predetermined number the receiver divides the incoming frame by that number and if there is no remainder  assumes there was no error you look at it as a number ; find the crc ; add it to the end ; so what will happen is that you will get a longer number this longer number is supposed to be divisible by the polynomial  which the receiver side knows so the receiver side will do its own division and if the division is ok  then it will assume that there is no error if it is not ok  then obviously there is some error  refer slide time  36  48 ? 37  02  so we have d data bits and r  crc bits so how are the crc bits computed ? d * 2r xor r so this is done by some division so we will see how it is done  refer slide time  37  02 ? 38  52  this is the formula  d ? 2r/g this is the generated polynomial why it is a polynomial ? that we will see actually the bit pattern is represented as a polynomial ; ultimately  this so-called polynomial will be a binary number like this suppose the g is 1 0 0 1 and what you are trying to send is 1 0 1 0 1 1 so this is what we are trying to send ; and this is the generated polynomial what we are going to do is that we are going to add some extra bits so this d ? 2r means  adding so many 0s at the end so in this case  say  r = 3 ; so we have added three 0s to the end and i do a division as it is done so 1 0 0 1 only thing is we do a modulo 2 kind of operation so 1 1 becomes 0 1 0 as it gives 1  you got a 1 0 1 and so you got a 0 and so on so in this way the division goes on till we sort of exhaust this and we get 0 1 1 as the remainder and what will happen is that if you add this 0 1 1 over here  instead of sending 1 0 1 0 1 1  what we do is  we add 1 0 1 any way  if you add it what will happen is that this will become exactly divisible modulo 2 the modulo 2 divisions will come out exactly  refer slide time  38  53 ? 40  22  so the crc process can be very easily implemented in hardware using  lfsr  linear feedback shift register the lfsr divides a message polynomial by a suitably chosen divisor polynomial ; the remainder constitutes the fcs  which is added to the data bits commonly used divisor polynomials are  crc 16 = x16 + x 15 + x 2 + 1 so actually it is a 16 bit binary number as i said the g is called as generator polynomial so g will have one in the sixteenth position  one in the fifteen position  one in the second position  and one in the first  that is  0th position  which means that there are going to be four 1s in this g and all the rest are going to be 0 so how it is generated polynomial ? so we are not going into that  how this particular polynomial  why was this particular polynomial chosen rather then some other polynomial but as we have seen  they cover a lot of different types of errors previously if you remember  in our parity bit we were just getting odd numbers of errors if there are an odd number of errors then we can detect it here and we can detect a lot of different cases of error so it is extremely unlikely that if the crc is alright  then there has been some error so there are different protocols and different systems with different generator polynomial  refer slide time  40  57 ? 41  02  so crc ccitt = x16 + x12 + x5 + 1 and so on  refer slide time  41  03 ? 41  35  from the above slide we can see crc 32 and crc 8 so crc 8 means this is an 8-bit thing this is the eighth position  second position  first position  and zeroth position are all 1s  rest are 0s so this is used in atm crc 10  this may also be used ; and crc 12 so these are the different crcs actually not all polynomials will give you the same kind of error coverage ; that is known  and people have found out some properties which are good properties to have in a generator polynomial and then people have found out some good polynomials which will cover a lot of errors so hdlc uses some kind of errors  refer slide time  41  59 ? 42  09  so csma/cd  fddi  atm ? they use crc 32 and so on i am just showing you  but you need not remember any of these  refer slide time  41  59 ? 42  25  now  we come to a slightly higher level  data link protocols we are still talking about errors and error control  but the point is that  we have been talking about this parity and crc that is error control at a lower levels we say a lower level because it is a small amount of error we can possibly handle it using such error detection or error correction kind of schemes but what might happen is  because of a very vast noise or something it may garble the data so badly  that it is entirely unrecognizable on the other side even if you have an error correction scheme  because none of the error correction and error detection schemes are 100 % infallible so there is still a possibility that there will be some undetected errors and then there will be some data which becomes so bad that there is no question of any error detection or correction we require some higher-level schemes also in addition to whatever we have talked about this parity crc etc so we will now see higher layer data link protocols  refer slide time  43  34 ? 44  07  once again  data link protocols could be of different types ; for example  unrestricted simplex protocol  this does not do much as we will see ; stop and wait protocol ; stop and wait arq for a noisy channel means that arq stands for acknowledgement request that means an acknowledgement is expected one bit sliding window protocol  this is similar to stop and wait  sliding window with go back n arq  sliding window with selective reject arq  and so on  refer slide time  44  07 ? 44  57 the first is unrestricted simplex protocol well  it simply sends  it does not do any kind of error control  and so this is the simplest situation we have a sender to fetch a packet from a network layer  construct a frame ; and send the frame to the physical layer so the sender is just going on sending without bothering about what is happening on the receiver end so if things are alright  the receiver waits for an event  receives a frame from physical layer and passes the packet to network layer the faulty things  which have gone in  may be it is the responsibility of higher layer systems to take care of that but the higher layer application does not bother  if a few bits are bad say in the case of a voice channel  refer slide time  44  58 ? 45  02   refer slide time  45  03 ? 45  04   refer slide time  45  05 ? 45  46  when data is sent as a sequence of frames  two types of errors can occur  one is lost frame  the frame has been lost entirely and the frame fails to arrive at the receiver this may be due to a noise burst destroying the frame beyond recognition it may have a recognizable frame arriving at the receiver but some bits are in error a frame may be damaged or a frame may be entirely lost see sender and the receiver the sender is sending a number of frames one  two  to frame n frame one is going first so the point is that some of the frames in between may get lost all together we have to make the worst case assumptions  refer slide time  45  58 ? 46  11  error control is concerned with insuring that all frames are eventually delivered  possibly in order  to a destination so  how ? three items required are acknowledgment  timer and sequence number  refer slide time  46  12 ? 46  57  acknowledgment ? what do we do with acknowledgment ? typically reliable delivery is achieved using the ? acknowledgments with retransmission ? paradigm  whereby the receiver returns a special acknowledgment  ack  frame to the sender indicating the correct receipt of a frame ; that means the receiver  after receiving the same will send an acknowledgment in some systems  the receiver also returns a negative acknowledgment for incorrectly received frame so this is a hint to the sender  so that it can retransmit a frame right away without waiting for a timer to expire we will come to this timer to expire the point is that there is a two way communication the sender is sending the frames  and the receiver is sending the acknowledgments if it gets a damaged frame  then it will send a negative acknowledgment of course  if it does not get any frame  then it will not know whether anything was sent at all in that case  it may not send any acknowledgment or negative acknowledgment anything at all  refer slide time  47  20 ? 48  05  the situation is something like this  suppose 0 was sent by the sender and it arrived the receiver sent an acknowledgment 0 then a 1 was sent suppose i am just taking this bit by bit  just to make it simpler suppose 1 was sent it came with some error  we do not know about what kind of error it is so the frame number 0 was acknowledged  frame number 1 was received  but it was damaged  so a negative acknowledgment was sent that means  frame number 1 was not rightly received  so frame number 1 is going to be retransmitted by the sender this is the argument  refer slide time  47  20 ? 48  50  the other thing we require is a timer one problem simple acknowledgment  negative acknowledgment schemes fail to address is recovering from a frame that is totally lost  and as a result  fails to solicit an acknowledgment or a negative acknowledgment what happens if an acknowledgment or negative acknowledgment becomes lost ? retransmission timers are used to resend frames that do not produce an acknowledgement when sending a frame  schedule a timer to expire at some time after the acknowledgment should have been returned if the timer goes off  retransmit the frame  refer slide time  48  09 ? 50  51  so this is the scheme  you see a frame which was sent was lost so the receiver of course did not know anything what happens is that as soon as the frame was sent  at the same time a clock was started in the sender ? s end i have to assume that the system has transmission time  and this is the time it might require for the receiver to process it and send an acknowledgment then the acknowledgment will take some time to reach the sender so  all that is taken into the account with some amount of time thrown in  and that is set in the timer so if the timer goes out that means  if there is a time out  now the sender knows that the frame must have been lost  otherwise an acknowledgment would have come so he sends the frame again the other thing that might happen is that suppose the frame was sent the 0 th frame was sent it was received and then an acknowledgment was sent  then the acknowledgment was lost he would not know whether reached at all or the acknowledgement was lost so after a time out  he will send this frame again so this is a case where the frame has been duplicated depending on what kind of protocol we are using the receiver may or may not understand that this frame is actually a duplicate of this maybe two such exactly similar frames were supposed to come one after the other because it is after all coming from some application  which is absolutely unknown to the data link layer so the frame may get duplicated but then there are some protocols which take care of that where if the receiving side will know that this is actually a duplicated frame we will come to that protocol later on  refer slide time  50  51 ? 51  39  and the third technique that we use is the so-called sequence number so retransmission introduces the possibility of duplicate frames to suppress duplicates  add sequence number to each frame  so that a receiver can distinguish between new frames and old copies so that if the frames are numbered sequentially like say 0  1  2 etc as i was showing you the case where the receiver gets two frames which have the same number 0  it knows that acknowledgment must have got lost or something like that happened the sender sends the same frame twice  so he will discard just one of them  refer slide time  51  40 ? 52  01  so collectively  the mechanisms stated are referred to as automatic repeat request  arq   the objective is to turn an unreliable data link into a reliable one three versions of arq have been standardized  stop and wait arq  go back n arq  and selective reject arq  refer slide time  52  02 ? 52  39  so we have the stop and wait arq  which is based on the stop and wait flow control technique the source station transmits a single frame and then waits for an acknowledgment to arrive no other data frames can be sent until the destination stations reply arrives at the source station so it waits for the acknowledgment ; if the acknowledgment does not come it will resend after a automatic repeat request so it will automatically repeat the frame  refer slide time  52  40 ? 53  39  so this is the scheme  we have the sender which fetches a packet from network layer  construct a frame  send the frame to physical layer  wait for an event so if it gets an acknowledgment then it is fine then it is going to send a second frame if it does not get an acknowledgment it will send the same frame again so until it gets an acknowledgment or the timer runs out  the frame which was already sent that has to be stored locally in some buffer in whichever system is handling this data link control and the receiver side also waits for an event  receive a frame from the physical layer  pass a packet to the network layer  send an acknowledgment to the physical layer so this is the stop and wait protocol this is a very simple protocol unfortunately  this is not very efficient as we will see that later  refer slide time  53  30 ? 53  35  and so we will continue our discussion on this error control and then we will move on to flow control in the next lecture so this is a simple kind of protocol but this has got efficiency problem  in the sense that this is not very efficient so we will continue this discussion in the next lecture thank you preview of next lecture lecture # 17 stop and wait protocol good day  so in the last lecture we were discussing about stop and wait protocol .we have seen what it is it is really a simple kind of protocol which is used both for error control as well as for flow control in some cases but since this is a simple protocol we will look at its performance now  refer slide time  54  34 ? 54  38  so we will first finish our discussion on this stop and wait protocol  refer slide time  54  39 -55  21  and this we have already seen  so each sender station sends one packet which are ack ? ed if it is comes with some error it may send a negative acknowledgement  it may not arrive at all  in that case the sender will time out in either case that means  it is getting a negative acknowledgement or whether it is getting a time out it will retransmit that frame retransmit whichever frame was just transmitted earlier and the point to note is that there is only one frame  which is in transit in the channel at any point of time whether it is the frame or the acknowledgment  now we have discussed some of the major techniques which are used in the data link layer  so what we will do now is that we will look at just one more protocol this is somewhat general version that we have discussed ppp that is the point to point protocol which is used for point to point communication but there could be a point to multi point communication also for this we have this high level data link control  this is the name of the protocol so this is the name of the protocol or hdlc in short i mean this is not so high level any longer this is not considered  so high level any longer but even then this is an important protocol so there are some variations of this  which are used in various places so we will just look at some generic the way how this hdlc is important  refer slide time  56  32  56  59  now this is an important data link protocol this hdlc or some variant say this is widely used  it also is the basis for many other important data link control protocols so we suggest three types of stations one could be primary station this is responsible for the operation of the link by the way you do not have to remember all these because when you are trying to use it or design it for some particular situation you can always look up the reference and see what exactly the different frames are what are their formats etc  i am trying to give you a flavor of the kind of information about which a typical protocol would need to exchange so with this example we come to the end of this general data link control  but still we have seen some examples of data link control  for example we have seen some examples of mac like with token bus  token ring  etc we will see other examples of mac as we take up other kinds of networks similarly we have seen some kind of error and data control by the way the similar approach is used in some other higher layers also we will talk about it when we come to it and we will talk about more specific and more widely used systems in the next class onwards so in the next class what we will do is  we will look at another type of communication and how mac is done on that in satellite communication .so that will be the next topic thank you computer networks prof sujoy ghosh dept of computer science& engineering iit kharagpur lecture 12 protection and restoration  refer start time  00  43  good day in this lecture we are going to discuss the various protection and restoration mechanisms which are usually employed in optical networks  refer slide time  00  57-00  59  we have to discuss what is protection and what is restoration and why we need them  refer slide time  01  08-01  18  what is protection  what is restoration  comparison between the two and the different schemes of protection would be our general outline of presentation   refer slide time  01  19-01  26  network is unreliable ; and then so many failures can occur ? a node may fail  a link may fail or a link may get cut  some fiber optic line may cut in-between because somebody cut it while digging a hole or something a node might fail  there may be power failures at nodes and so there are failures in the network but if you remember  one of the most important places where we deploy optical networks is in the core of the network the core of the network connects so many people to so many other people and it is very vital that we can not allow the services to be severely disrupted because that would have very grave consequences and anyway the service provider attempts to give a high level of service although failures are unavoidable in real life  we have to find some way of combating this ; that means if there is a failure we want to recover from it as soon or as fast as possible that is what protection and restoration is all about another thing is that when we want to give some reliability  protection  restoration  etc  in some form or the other we always have to bring in some redundancy without any redundancy  a system can not be protected  or it can not be restored without any replacement  etc there has to be some redundant capacity in some form in the network in order to achieve protection and restoration so how this is done is what we will discuss  refer slide time  03  20-03  25  protection and restoration are the mechanism to recover from network failure  their difference will be discussed in the following parts  refer slide time  03  26-03  37  why we need protection and restoration is now clear  to recover from network failure  to prevent the lot of data loss now another point is what would we mean by prevent lot of data loss ? the point is that we will be talking about protection at the optical level  at the lower  transport level  that is  the low physical level above this physical level  there are a whole lot of other layers like data link layer  network layer  transport layer  etc they may have their own protection mechanism and they might be able to tolerate in some cases  if such a protection is sort of implemented at higher level  such protection usually would tolerate a small amount of data loss  which they will retransmit or do something in the protocol to take care of that we will be talking about this later on within that limit we do not have a 100 % tight case  but we have something to play with within that limit  if the physical layer can come back up  then that is nice ; then the end user who is sitting at the top of the application layer would not notice that a failure has actually occurred so this is our general goal and  of course  to prevent lot of data loss  refer slide time  05  13-05  18  to provide reliable communication service is a reason for having protection and restoration  refer slide time  05  19-05  39  protection is the primary mechanism ; this is fast and routes are usually preplanned ? we will come to this part later on ? whereas restoration is the secondary mechanism  used to provide more efficient routes or additional resilience  etc  over and above protection we will see both of these later on  refer slide time  05  40-06  11  techniques for protection  we could protect a path  which is called path protection ; we could protect a link ; that is called link protection there are various schemes of protection  like 1 + 1 protection  1  1 protection  1  n protection  m  n protection this depends on what kind of redundancy we have built into the network so we will look at some of these techniques one by one  refer slide time  06  12-06  26  so what are the considerations and tradeoffs that we have for protection ? for support for fast protection  time is dictated by the client layer this is what i was talking about earlier ? in the client layer  whatever the higher layer we are talking about  all of them are clubbed together  and we are calling them client layer  let us say in the client layer we may have some resilience ; that means  we can tolerate some small amount of data loss so depending on that  and beyond that  it will be taken that the service will fail this is dictated by the client layer and that is the constraint within which we try to do our protection or restoration at the bottom layer  that is  the physical layer we require some switching technologies  refer slide time  07  13-07  33  as we will see  and how to implement protection it could be through dedicated hardware or through software here we will only be talking about ? since we are talking about the physical layer ? hardware protection  where some hardware has been put in order to take care of this protection  refer start time  07  34-07  51  support for low priority traffic ? that is another consideration we might have so low priority traffic supported using the protection bandwidth ; traffic dropped in case of a failure as i mentioned earlier that in order to give some protection capability into the network we have to build in some kind of redundancy over there now when there is no failure  naturally the redundant link would be idle what you could do is that if you have some low priority traffic  which could be dropped whenever there is a problem  under normal circumstances you can use your provision in the network to carry the low priority traffic  and as soon as there is a failure  where naturally the provision is going to be used up for providing protection  restoration  etc  the low priority traffic would be discontinued so that is one thing we could do  refer slide time  08  46-09  03  support for mesh topologies ? mesh topologies are bandwidth efficient  fast signaling mechanism  flexibility in choice of routes by preplanned routes  etc if we have support for mesh topologies  it is also nice as a matter of fact  if you remember our discussion about different types of topologies ? we have star  tree  ring  mesh etc  so these are the different possible topologies out of all these  point-to-point connection  ring and mesh are the three topologies  which dominate most of the wan when you want to communicate between two points  you first set a point-to-point link now consider that link to be quite important then what you would like to do is that you would like to put in some kind of reliability over there  by making it into a ring for example  we discussed sonet a sonet gear quite often is put in the form of ring  rings that would touch  mutually touching rings for example  the telecom people put up all these sonet rings through fiber optic networks the rings are quite easy to handle and we will discuss the protection mechanism in ring quite a lot but if you go to a wider geographical area ring  it may not to be feasible due to various reasons what you have is a mesh a mesh  if you recall  is just a graph  where the nodes are connected in some fashion it has to be a connected graph and actually later on we will see that for giving proper protection  it has to be not only a connected graph  it has to be biconnected graph as well that means between the two nodes  which are communicating  there have to be two alternatives paths  which are linked somehow otherwise  you will not be able to give protection giving protection in mesh networks is also an important consideration  refer slide time  11  17-11  55  other important considerations are maintenance of large distributed routing tables  that is  precomputed routes or up to date topology maps so you have to maintain this dynamically  because a network is a very dynamic thing as links come up or go down or nodes come up or go down  this may have to be recomputed and stored in a distributed fashion we would like to have support for all failure modes  node failure for mesh networks and for ring networks  so or it may be of course ring failures  refer slide time  11  55-13  05  first  let us talk about path protection it uses more than one path to guarantee that data be sent successfully if you look at this graph  it will have a 6-node graph where 1 and 6 are communicating and on the top  through the dashed line  we show the primary path  which is the primary connection between 1 and 6 now what might happen is that the link between 2 and 3 might snap due to some reason we have already got a backup route  which is calculated going through 1  4  5 and 6 so we will channel our communication through the backup link please note that this backup or secondary path from the source to the destination does not share any link with the primary path that is the requirement  if any link in the primary path fails  assuming there is only one failure  which means that the backup link is all intact and you can switch to the backup path for this particular communication  refer slide time  13  06-13  16  now path protection  there are various ways to protect a path  that is  various ways of provisioning the extra bandwidth capacity in the network so that you can give protection you need to build in some kind of redundancy in the network so there are various ways you can build in the redundancy and the schemes may be divided as dedicated path protection   refer slide time  13  40-13  50  or shared path protection dedicated path protection may be shown as 1 + 1 protection and shared path is 1  1 protection or 1  n protection so we will look at this one by one  refer slide time  13  51-15  31  this is an example of 1 + 1 protection so you have the source on the left  and then  you have destination on the right so it is communicating what you can see is that from the source  the signal is coming to the splitter if you remember  the splitter is going to split it into two halves  may be of equal power or something  and then the same signal is been carried through two different links and over there  we a switch the switch determines which signal is better and may be switches to that and a communication is going on if that particular link  say  this top one fails  it automatically switches to the other protection link so this is some kind of hot redundancy we have that means there is redundant source of information in the destination side ; so if the primary one fails  the secondary one is already on so protection would be very fast the only trouble is that for each such path  you will have to give an alternate path  which is also being used at the same time this is a dedicate path protection ? for this particular path there is a dedicated alternative path ; although this is very good  it is costly  refer slide time  15  32-16  57  now we come to shared mode protection ; in the shared mode  the figure looks almost the same  expect if you note  this splitter on the left has been replaced by a switch so what we have is we have a working fiber and we have a protection fiber unlike the 1 + 1 protection  this is not a hot standby this is cold in the sense that the protection fiber  to start with  is not carrying any signal  let us say the source is just simply passing through the switch  the signal from the source is passing through the switch  then down the path through the destination switch to the final destination if the working fiber goes down  then this switch will flip and the protection fiber would be in place since this is not a hot standby  meaning that since it is not carrying any signal under normal circumstances  you could share this path with something else you can use this to send some other channel or some other information  etc so that is why this is a shared mode of protection  refer slide time  16  58-19  35  generalizing this  we get this 1  n protection  where n line is sharing 1 protection line we have the inputs from 1 to n lines  so these are the n sources  and let us say so many destinations so they may be going ? 1 to 2 and n to n and so on ; this is the normal mode of operation this part of the network is for normal mode of operation and each of them is connected to a switch over here another link from the switch comes to one bigger switch  so this is an n input port over here and then there is a single link from this switch to this switch  on the destination side  which again feeds to all the switches what would happen is that in case there is a failure in any one  let us say  ith link from 1,2 to n  out of that  the ith source to ith destination  which is going through the ith link and the ith link fails  what this ith switch could do is that the ith switch could switch the signal from the ith source to this particular switch at the bottom and now the protection fiber would be carrying the signal that was flowing down ith channel over there and then again it will feed it to the ith switch on that side of course these two switches have to communicate that the ith one has failed over here  so you switch it to your ith mode  or this switch may sense it that this line has gone down  so it will take signal from this line this one protection fiber is been shared by these n working fibers  and as i mentioned earlier  when everything is fine this protection fiber could be carrying some low priority data when everything is fine these n working fibers are actually carrying the most of the important traffic so some low priority data could be flowing down the protection fiber as soon as there is any failure anywhere  the low priority data would be stopped or it will be dropped and then this protection fiber would switch to give the services between the nodes that have experienced a link failure just as we have a path protection that means for a path you try to give an alternate path  similarly you could do it at the link level also in general  it may be more efficient or more proper to do that because if you have n nodes and if it is slightly large  potentially you have very large number of paths through the networks and for each path having an alternate path may not always be a very good idea so we concentrate at the link level and for each link level we may give a protection  refer slide time  20  21-20  43  so use an alternate path if the link has failed this is the primary where the link may have failed so i have an alternate path to that from 2 to 3  2 to 4  4 to 5  5 to 3 this alternative  please note  is for the link from 2 to 3 we will have another diagram for that  refer slide time  20  44-21  09  dedicated link protection is not always practical although sometimes we may have it ; shared link protection is practical and it is quite often implemented this link protection may fail because here you are only provisioning for the failure of a link  but if a node fails  then it may lead to some complication as we will see  refer slide time  21  10-21  28  to compare between path switching and line switching  path switching is a coarser scheme and line switching is finer scheme ; and line switching can again be a span protection span may be several links together ; that may be span or a line protection  refer slide time  21  29-21  57  in mesh networks of course restoration is possible only if the graph is two edge connected i.e  biconnected  which means that there are two edge disjoint paths between any pair of nodes so that no single edge failure can disconnect the network this is a necessity and we usually try to keep it that way unless its very difficult or very cost it ? s not cost effective  etc  refer slide time  21  58-22  42  protection in a mesh network is more complicated then a ring simple minded scheme would be two edge or node disjoint paths for each connection  1 + 1 as is mentioned  it is not very efficient there may be many paths and provisioning double the number of paths  which are pair wise mutually node or edge disjointed may be very difficult that may be a lot of extra provisioning in the network a better approach would be line protection  which of course has the problem of coordination i will show that and protection cycles in mesh net later on  refer slide time  22  43-23  24  in the path layer and mesh protection  there is protection of mesh networks to protect the mesh at the single unit pre-computed routes means all possible routes and alternative routes are pre-computed 1 + 1 protection is protection route per light path  protection route per failure we will discuss this later but  as i said  this is a costly alternative or what we might do is that we can do on-the-fly route computation ; that means it is not pre-computed as there is a failure  centralized route computation and coordination route computation and coordination are done at end nodes or distributed route computations ? all these are possibilities  refer slide time  23  25-24  03  this is an example of mesh network  where let us say this is the primary path and this is an alternate path this alternate path may be pre-computed or it may be computed on the fly when there is a failure similarly  from here to here this may be the primary path and this is an alternate path please note that this communication as well as this communication are going through the same fiber maybe they are going through different wavelengths or maybe they are combined together ; so there are various way of handling this  refer slide time  24  04-24  51  let us look at some diagrams  this is a mesh network naturally once again  it has the same 6-node network and this is the normal operation  that is  communication from this node  node 1 to node 6 now there is link failure over here ; what you might do is you might switch the entire path like this so this was the pre-computed path for this path you switch to that ? this is one possibility or this particular span  the span could be live from here to here or from here to here that may have an alternative path  to which you switch  refer slide time  24  52-25  50  or this particular line may have this alternative ; that means from this node to this node if this is the link  the alternative to this link is this section from here to here to here to here it is trying to go through the same path  but then it takes a diversion when there is a link failure through the alternative  which is provided for this particular link i have shown only one node coming into this but you can appreciate that this path may be very long so you do not have to re-compute the path over the entire length ; rather locally  you can re-compute that for this particular link as an alternative so the alternative may well be through some local nodes only so this path just gets a slight diversion ; that is line protection  refer slide time  25  51-25  59  we talked about protection cycles in a mesh network  now for protection cycles  what we do is that for each of the paths we try to form a cycle ? cycle of provisioning of light paths  let us say the point in the cycle is that suppose we are going through some arc of the cycle and if some link in-between breaks  you can always go in the other direction so you try to form these cycles in the mesh which you keep ready and pre-computed so whenever there is a failure you can switch you can see here  refer slide time  26  38-27  03  there are pairs of a fibers going in both the directions and there you can form cycles over there one of them would be protection edge  maybe the inner one ; and one of them would be the working edge if one of them fails  the other will automatically take over ; the other direction will automatically take over  refer slide time  27  04-27  25  so this is another example of a network with both working and protection fibers the working fibers have been shown in solid lines whereas protection fibers have been shown with dashed lines once again you must realize that you may not provide the same level of protection to all paths or to all parts of the network ; depending on which part you consider more sensitive or more important  you may put your protection there a mesh network may be partially protected some of the parts may be protected or some of the parts may not be protected  refer slide time  27  51-29  53  so some more cases  line protection in a mesh network what we have is a unidirectional light path from node a to node d ; so from node a to node d we have an unidirectional light path going may be like this through nodes b  c  and e we are talking about this path a to b to c and then to e now after the link bc fails  the light path is rerouted by nodes b and c along the route a b f e c e d the unidirectional light path was going from a b c e and then to d ; so this was the path a b c e d now bc has failed ; so a b f e c e d you can see what has happened is that there was no point in coming from e to c and then back from c to e what has happened was that we were doing line protection ; that means  for bc my protection was from b to f to e to c because i wanted to go from b to c so i am going from b to f to e to c and so now bc has failed so that is what i do and from that point i continue wherever i was going and actually i was going from c to e to d  so once again from c  i go back to e and then to d such a thing is possible because we are taking a local decision ; that means  for this particular link what to do in the case of failure that has already been pre computed ? we are not taking a global picture ; here i have shown you a very small graph so you can immediately see the entire global picture with your own eyes but for local nodes we may not have the global pictures where this node is coming from and where this path is finally going to so all the intermediate nodes may not have the global pictures because if all of them had the global pictures maybe they could have computed a better path but this is for line protection  refer slide time  30  41-31  57  now line protection in mesh network  here what might happen is that erroneous connection due to the failure of a node is being treated by its adjacent nodes as link failure this is one case of the so-called race condition what might happen is that node 1 has failed ; so what would 6 do is that it may assume that the link from 6 to 1 has failed  whereas 2 may assume that the link from 2 to 1 has failed so both of them perceive as two different failures  so they take some local decisions  and it might lead to a funny situation where you are going in a cycle maybe other kinds of things may happen after node 1 fails ? node 5 gets connected to node 4 after node 6 and 2 invoke line protection independently if they perceive the same failure  the actual failure was that of node 1 ; but if they perceived differently as failure of link 6 1 and failure of link 2 1 and they have independent actions  it may lead to race conditions  refer slide time  31  58-32  14  the advantages and disadvantages of protection  we will also be talking a little bit of restoration protection is simple ; it ? s quick ; does not require much extra process time ? and this is the important part  since this is quick as i mentioned earlier  there will not be a lot of data loss for example  a sonet ring would sort of come back up from a failure in a less than 15 milliseconds so that is a benchmark ; you are back in action in less than 15 milliseconds  so whatever little you might have lost during that time would be taken care of by the higher layer protocols  refer slide time  32  51-33  08  but usually they can only recover from single link faults if there are multiple link faults  all kinds of funny things may happen there is inefficient usage of resource  because protection needs a lot of resources  even if we are sharing them  refer slide time  33  08-33  19  dedicated protection needs even more resources ; we talk about path restoration and link restoration  refer slide time  33  20-33  30  what we do is that we compute the path after the failure and the resource is reserved and then used so in restoration what you try to do that is that you try to look at the current actual situation you try to have some protocol for keeping track of the present situation and then you compute some root and then you reserve the path and then restore the original service this has got some software parts  so some data has to be processed  etc this usually takes more time  so this has a hardware as well as software aspect to do it   refer slide time  34  00-34  25  the path is discovered at the end nodes of the failed link ; but this is more practical than path restoration we have both path restoration and link restoration path restoration means the path may be long and to find out an alternative  it may be more difficult  whereas links are between the adjacent nodes so they may quickly find an alternative  refer slide time  34  26-34  53  advantages and disadvantages of restoration are the following  usually it can recover from multiplex element faults because you are sort of having some protocol to exchange information and then find the current situation and form the alternatives  etc there is more efficient usage of resources ; it is more complex ; it is slower ; it requires extra process time to set up path or reserve resources  refer slide time  34  54-35  19  so for comparison between protection and restoration  in protection the resources are reserved before the failure ; they may not be used in restoration the resources are reserved and used after the failure so this is the main difference between the two route  in protection it is predetermined  in restoration it can be dynamically computed resource efficiency  in protection it is naturally low and the restoration is comparatively high  refer slide time  35  20-35  55  time used for protection is short ; for restoration it is longer reliability  protection is mainly for single fault  whereas restoration can survive under multiple faults well  it is not that it can always survive under multiple faults ; it depends on the where the faults are  but if it is survivable after multiple faults  it will take global view and say that ok  still i can give the services so restoration will take care of that  whereas in protection it may not be possible to handle multiple faults implementation  protection is simple and restoration is naturally more complex  refer slide time  35  56-36  21  for optical networks  we not only talk about physical links we talk about virtual wavelength paths so in light paths also routing can be centrally controlled or distributed ; resource reservation  forward reservation  as well as backward reservation are done as we do in optical networks we will talk more about this later  refer slide time  36  22-37  15  now let us come to this all-important topic of fault management in ring networks as i said  ring networks are very ubiquitous in wan all the telecom people will love these things because naturally it allows them to give very high level of service so we have so many rings ; these sonet rings are very common  and rings are a very common kind of topology one of the chief attractions of the ring topology is its capability to allow some kind of protection and restoration with some redundancy in-built  as we will see we will look at two different cases  unidirectional path switch rings and bidirectional line switch rings or upsr and blsr  refer slide time  37  16-39  22  this is a diagram of upsr we have ab  means a to b and ba  means b to a first of all you see that we have these two rings ? we have this working fiber as well as a protection fiber working fiber is going in only one direction and protection fiber is going in the other direction  in the counter clockwise direction so for connection from a to b and from b to a ? this is a  and this is b ? my working fiber is going in this direction a to b is really going in this direction ; b to a is coming in this direction so a to b  b to a  this is the protection fiber part  a to b the working fiber is going in the other direction a to b is going like this and b to a is coming all the way like this let us say the outer one is a working fiber  it is through the outer ring for a to b  this is the path ; and b to a  this is the path  whereas for protection purpose ? and please note that this is a 1 + 1 scheme ; that means for this the alternative is already provisioned and maybe it is something like a hot standby so a to b is through the protection fiber and now this path from a to b is going via d and c  so a d c b  that is a to b and b to a the protection path is from this through the protection fiber so if there is a failure anywhere  this can still continue  so this is a unidirectional path switched ring  refer slide time  39  23-40  29  there are some limitations of upsr it does not spatially reuse the fiber capacity ; so what is happening is that since this is unidirectional  what is happening is that even if two nodes are side by side  if they are in wrong direction then it has to come all the way through and naturally all those links ? even if we are talking about particular ? s i mean wdm systems ? in the ring are entirely sort of covered by this otherwise even if we are talking about a wdm system what is happening is that at least one ? around the whole ring is getting occupied because two side by side things want to communicate so it does not spatially reuse fiber capacity and if there is some  you could use it for some other purpose that is not possible in a unidirectional ring each bidirectional sonet sdh connection uses up capacity on every link that is the thing ; if you look at the previous picture  refer slide time  40  30-40  44  we are just talking about a connection from a to b and b to a ; that ? s all  so this entire ring now has been used up assuming only one wavelength the entire ring now has been used up ; these adms of course are the adms of sonet  refer slide time  40  45-40  50  so it is efficient for lower-speed access networks  one to multipoint only  refer slide time  40  51-41  27  and the other point  which may become a problem  is that delays are different for the two paths because one of them is small and the other one is quite large  all the way around the link the relays in the two paths are quite different a remedy could be bidirectional lines ; that means  bidirectional line switched rings or blsr so we were in upsr  now we will be talking about blsr  bidirectional line switch rings this provides spatial reuse capabilities and additional protection mechanisms and adopts span as well as line protection we will have a look at both of these  refer slide time  41  28-42  26  this is a four-fiber bidirectional line switched ring ; so once again we have two working fibers  say  the outer two ones and two protection fibers or the inner ones so we actually have four fibers this is a four-fiber system and it is going  so we are using two such working fibers one of them is going in one direction the other is going in the other direction  so this is bidirectional we can communicate both ways  so if a to b and b to a both can communicate on the working fiber in this part at all  the rest of the space can be used for other communication so spatial reuse is much better for bidirectional line switched rings  and the protection fibers are there because if one of them fails then the protection fiber may take up  refer slide time  42  27-43  10  this is a span protection so we are talking about bidirectional traffic supports  maybe 16 nodes or some distances  etc  from a to b you may pre-compute a span that if this span goes down what is the alternative span if this is the case of line protection  if this line fails what is the alternative line ? now the alternative line of course may go in the other direction  depending on what the failure is so there are many different possibilities with this blsr  refer slide time  43  11-44  24  there is also two-fiber version of blsr  namely blsr/2 here both the fibers are working as well as protection fibers that means if one of them fails the other one will give the protection in the other direction of the ring if you note  the rings are going in the opposite directions and there is a line failure in both of these working as well as protection fiber that means a to b is communicating in this direction  b to a is communicating in this direction but if one of them fails  the other one will give the protection by going in the other direction in that case we have to go all the way round  then you will have to reserve the resource and if there is something already going on here  you may be blocked or this may have to be dropped and so on so naturally you have two fibers  we have less flexibility but with two fibers we can get this bidirectional thing going on  refer slide time  44  25-46  19  comparison of different types  these are all self healing rings what we mean by self healing is that the nodes  these adms and the sonet  etc  are programmed in such a fashion that as soon as they sense a failure they know what local action to take and how to adjust the switch internally  so that it automatically switches from the working fiber or from the working span or working fiber or whatever through the protection side that is why these are self healing rings  so they heal automatically and as i said these sonet rings really do this in less than 15 milliseconds ; the entire thing will again be up so we can compare the three  upsr  blsr/4  and blsr /2 for example  fiber pairs 1  2 and transmission receiver pair 2 4 and 2 spatial reuse in upsr it is none  in blsr it is there  and in blsr/4 it is there production capacity is equal to the working capacity link failure is path protection in the case of upsr or span or line protection in the case of blsr/4 in case of blsr/2  it is only line protection because it will have to go in the other direction node failure  it is path protection  line protection and line protection restoration is faster in upsr ; somewhat slower in blsrs and restoration speed is this node complexity is low  high and high another thing we talked about is the dual homing  refer slide time  46  21-47  50  by dual homing we mean that suppose we want to deploy your network in such a way that it is very mission critical and no failure is acceptable and we want a hot standby so what you might to do is that you may get connected through two different hubs and what you want to do is that you want dual home to these two hubs and these two hubs take independent paths to your destination this shows a dual homing to handle hub on node failure ; so we have these four adms  once again four nodes  let ? s say a b c d so the end node is a and these are the two hubs  b and c what we want is that not only some link failure but even if one of the hubs fails  i should still be able to communicate so what you do is on this ring you communicate with hub 1  let us say you are communicating with hub 1 through this a d c b and you are communicating with hub 2 through a b c as we will note  even if one of the hubs fails  you can still communicate through other one so this is another kind of protection  refer slide time  47  51-48  14  and finally i have mentioned this point before ? just a reminder that a network consists of many layers and each layer may have its own protection mechanism built in  independent of other layers so there are both advantages and disadvantages to this we have already talked about the advantages  refer slide time  48  15-49  51  this is an example of a wdm link carrying sonet traffic so there is a wdm link  so there is a sonet adm this is a working fiber pair and protection fiber pair please note that the pair has been shown as one line over here because usually as you know that fiber optic line is a simplex line ; that means it goes in only one direction ; there is a source in one side and the detector on the other side usually these fibers always come in pairs the other side is for the communication in other direction so we have a working fiber pair over there and protection fiber pair through this wdm link look at this 1  2 protected scheme what is happening is that there is one protection fiber pair  there may be protection fiber pair and through the working fiber there may be multiple virtual links going through the working fiber using different wavelengths a is a normal operation and b link is cut and the traffic is restored by the optical layer that means you automatically assign new wavelengths and new paths through the fibers etc  to bring it up so this you may do at the optical layer rather than at the electronic layer  refer slide time  49  52-51  58  but the case we are talking about here is that the sonet is riding on the optical layer so we have the optical layer at the bottom then you have a sonet on top of it on top of sonet also there will be the data link layer and then so on all the other links what we are saying is that each layer may have its own protection mechanism so for example i mentioned that the sonet will also have a protection mechanism of its own so if a sonet lte  i.e  the sonet line terminal equipment  senses that it can not communicate to the next lte  this will automatically reroute the traffic and try to reroute the traffic in the other direction sometimes it is good to have multiple protections at multiple layers but what might also happen is that they might sort of cancel each other or they might go into a race condition so these are the disadvantages of having protection at various layers there could be some disadvantage also if they are not very well coordinated  which usually would not be because these layers are sort of independent of each other they talk only to their peers and go through their own protocol and give protection apart from these of course the other disadvantage is that you may redo some part of the protection unnecessarily you may be unnecessarily duplicating the work at various places so these are the disadvantages of having protection at multiple layers  refer slide time  51  59-52  34  what is the advantage of optical layer protection ? speed and efficiency limitation would be detection of all faults may not be possible ; protects traffic in units of light paths so this is another problem as i mentioned  in light path the granularity is very coarse it may be 2.5 gbps ; so you are really giving the protection at a level of granularity  which may be quite high as i just now mentioned ; it could lead to race conditions when optical and client layers both try to protect against the same failure  refer slide time  52  35-53  28  of course  on the optical layer you have one more dimension to play with  which is in the case of a wdm that means you have different wavelengths  so instead of 1 + 1 link  you can talk about 1 + 1 wavelength path selection you can sort of try to select two independent light paths and the signal is bridged on both protection and working fibers if you are doing 1 + 1 protection kind of thing ; the receiver chooses the better signal in case of a failure  the destination switches to the operational link that is operational light path ; there is revertive or non revertive switching ; that means  if the original link comes back  it may revert or it may not revert ; and no signaling is required  refer slide time  53  29-53  30  so that is the unidirectional light path i have just shown you some of the schemes which are used for protection and restoration and as i mentioned  the schemes may be partially deployed and some of the parts may be protected and some of the parts may not be protected and so on but the essential idea is the same ? that you build in some kind of redundancy and the redundancy may be in the form of entire fibers or the redundancy may be in the form of light paths or wavelengths it may be pre-computed and pre-reserved like 1 + 1 ; it may be pre-computed but not pre-reserved like in a shared one or it may be computed as and when the failure occurs ; that is  in the case of restoration so there are various approaches to it depending on how critical the problem is or how critical the application is  what is the cost and how much extra provisioning you can do  you can choose your own way of protection and restoration thank you preview of the next lecture lecture ? 13 multiple access good day so today we will talk about multiple access ok now what is multiple access  refer slide time  54  59-57  54  if you remember that we had seven layer in the so called osi stack the top on being application then we have presentation session transport network link and physical ok we had been mostly talking about the physical layer till now although for optical networks we sort of ventured into some of the hired layers but from this lecture onwards we want to concentrate on the link layer ok now what medium access does is it coordinates competing request request for what for medium that means that there is a medium which may be an object of contention meaning that i mean several nodes may want to use it and this medium access control protocol has to do with how to handle that so sharing of link and transport of data over the link that is an general the description of what the data link layer does so when we share a link there is a question of committing request and we have to have some way of reserving that and of course there is a also question of transport of data over a link link if you remember when we say a link i mean that two nodes which are connected the nodes may be or computers routers switches etc they are two networking nodes they are directly connected now the when i do like this it might mean cable copper cable or a fiber or it might mean a shared medium like the free space ok so there is a but there is some way of communicating directly between these two nodes that is what we mean by link that means that is just one hop in the network that is what we are talking about in the data link layer so there is a question of reliable transfer of data over these link and if this link like when you have a free space transmission with so many nodes in the network now so many people would like to transmit so there is a question of sharing this medium and there is a question of who would access it when and just as i said free space could be a shared medium similarly if you remember that if you have some kind of a bus if you remember our discussion about topology of networks when we have some kind of a bus from which the number of nodes are hanging and that bus may also be an object of contention so that bus is the medium through which communication is taking place and there is an there is some kind of competition or sharing between the of this shared medium between the nodes so we have to handle that that is the other thing so examples of contention based or aloha and slotted aloha  refer slide time  57  57-59  00  these refers to some protocols which we are used in satellite communication so we will discuss these and we talk about satellite communication we have csma it stands for carrier sense multiple access or csma cd which is carrier sense multiple access with collision detection there are other variance of these like carrier science multiple access with collision avoidance and things like that so these aloha slotted aloha for satellite csma csma cd or specific specifically csma cd is used by ethernet in many situations and then we have csma ca may be for cellular communication etc so these are contention based mac and round robin there are these are token based protocols and so two very common ones are token bus and token ring so actually we will discuss these in the next in this lecture as well as the next we will be discussing these computer networks prof sujoy ghosh department of computer science and engineering iit  kharagpur lecture-18 satellite communication  refer slide 1  good day ! in this lecture we will be discussing one very important component of world wide communication  which is satellite communication  refer slide 1  slide 1 communication through satellite has been going on for quite sometime now satellite communication is fairly mature technology although some improvements are taking place satellite communication is an important component of world wide communication infrastructure we will also see how specifically mac  which is media access control  is handled in satellite communication this is important  since we obviously need mac because the communication medium is the electro magnetic field around us  which is common to everybody  refer slide 2  slide 2 we now talk about satellite communication satellite can be looked upon as a big microwave repeater repeater is something  which repeats the signal it takes in the incoming signal  amplifies it and then sends it back it contains several transponders transponders listen to some portion of the spectrum each transponder is listening to some portion of the spectrum so that several transponders together can listen to the wider band of the spectrum it amplifies the incoming signal and broadcasts in another frequency back to earth satellites are up in the space ; they take the incoming signal  amplify it and broadcast it back so satellite has to broadcast in a different frequency so as to avoid interference with the incoming signals  refer slide 2  slide3 this can relay signals over long distance ? this is one strength of satellite communication  because  if you send it all the way up and then when it is sending all the way down  and if it does so at an angle  the signal can reach a very long distance there are different kinds of satellites and the most commonly known ones are geostationary satellites because they are above the equator at a distance of 2300 miles approximately and are in the geosynchronous orbit they travel around the earth in exactly the time the earth takes to rotate  refer slide 3  slide 4 we have an uplink station from where some signal is going and then it is being listened to by one particular transponder in the satellite it amplifies signal and sends it back to earth where the downlink station  another dish  which is facing the satellite and tracking the satellite receives the signal over here this is the just reflected part which then gets on the horn this signal is taken down and amplified then we can use it  slide 4  earth stations communicate signals to satellite on an uplink they are called earth or base stations on the ground the satellite then repeats these signals back to the down link this feature is attractive for distribution of tv programmes it is known that many of our television channels  unless coming through cable  are coming from satellite  which is beaming back the signal over a very wider area and all the receivers around can receive the signal and then amplify it and use it so it is very popular for such kind of applications like distribution of television programming slide 5 there are other applications these signals are used to transmit signals and data over long distances for weather forecasting  television  internet communication and global positioning system these are the various applications of a satellite the space orbit allows more surface coverage  refer slide 5  slide 6 the spectrum is usually used by the satellite and is divided into sections ; each of these bands have names like c band  ku band or ku band and ka band or ka band the c band may have four downlinks and six uplinks ; c band is from 3.7 to 4.2 ghz this part of the spectrum is reserved for the c band communication through satellite ; that is  3,7 to 4.2 ghz for downlink and 5.925 to 6.425 ghz for uplink there is a 0.5 ghz bandwidth for downlink and another 0.5 ghz bandwidth for uplink since the uplink is at a higher frequency  you can have more channels over there the capacity is not very high by today ? s standard  especially  if you compare with fiber  this is really low but at the same time  at one point of time  when transoceanic fibers were not there  satellite was the chief medium of communication across continents the capacity is low but still it is useful ; however  terrestrial interference is a problem because when the weather is bad or when there are other kinds of extraneous sources of some electromagnetic noise  etc  these interfere with the signals but still it has got a lot of strong points ; that is why it is still an important component of communication these days  refer slide 6  slide 7 next set of transponders come in ku band they can accommodate greater number of transponders ? 12 on the downlink to 14 on uplink rain interference is the problem here ku band is from 11.7 to 12.2 ghz and 14.0 to 14.5 ghz in this band  rain is a problem though it has higher capacity and is less crowded than c band c band is very crowded  if you consider people with a sort of dish antenna for receiving satellite signal ? i am not talking about the base station ? those using 1-meter antenna are possibly using c band for ku band  the antenna size is smaller and pizza shaped at something like 18 to 20 inches they have a higher bandwidth ; however  rain and terrestrial interference are the problems faced in c band different parts of electromagnetic spectrum are most susceptible to interference and noise  etc  but ku band has higher capacity the ka band is at an even higher frequency ? 19 downlink and 29 uplink transponders are needed the equipment needed for this is quite expensive it is from 17.7 to 21.7 ghz and 27.5 to 30.5 it covers a greater bandwidth  but it is still not very widely used slide 8 satellite can be used for point-to-point transmission  to transfer large volume of data ; voice data and communication and for video conference satellite is not just for broadcast ; satellite can be used for point-to-point communication you may look it as point-to-multi-point communication so we can say that point-to-point and point-to-multi-point communication are supported also  standard broadcast is supported point-to-multi-point communication can be data communication  internet  and video conference broadcast services include television  refer slide 8  slide 9 the advantages are that you can reach a large geographical area and have a high bandwidth ; it is cheaper over long distances it is certainly cheaper than wiring it up  but if you are covering long distance  because of its inherent high capacity  the economy is in favor of the fiber optic cable and it is almost even in some cases but in many situations satellite retains its advantage it can transmit to places where the cable can not reach these are applications where satellites have an undoubted advantage over any wired kind of system it may be a remote area  which is not very easily reachable and road or other kind of communication is not well established to take cable over there but the satellite  since it is sitting high up in the sky  can cover any area without any difficulties hence this is a very strong point in favor of satellite it is especially useful for technology deployed at multiple sites regardless of location  like mobile technology nowadays the first thing people think about to be mobile is the cellular phone  which uses the nearest base station  which is usually wired but in some places where it can not be wired  it may go through the base station and may be connected to the backbone through a satellite that is one thing ; and if you want 100 % roaming all over the earth wherever you go  then you may not have a base station around the place where you are in that case  some satellite or the other would be visible to you and you can communicate through the satellite so mobility and accessibility to places which are difficult to reach otherwise are very strong points of satellite and of course standard communication is also a point slide 10 the disadvantage is the high initial cost you have to build the satellite and then to put it up in the space through some launch vehicle involves high investments but laying fibers all over is also costly so we have to work it out on a case by case basis and determine which one comes out to be better we can not do much at the physical level about susceptibility to noise and interference because the physical media is such that all kinds of noises are being generated all over the place and crowding this shared medium so we have to handle it in some other way at a higher layer then there is a propagation delay ; and this is a significant disadvantage compared to terrestrial communication for many satellites  especially the geostationary satellites we will come back to this point later on geostationary satellites are thousands of miles above earth so although your electromagnetic signal is travelling at the speed of light which is very high but even then to go all the way up to the satellite and then come all the way back down takes significant amount of time and this has lot of implications it has the implications on the mac and it has the other implications like delay and may be quality of service in some cases so this is an issue  a potential disadvantage and security can also be an issue since this medium is open to everybody whatever you are communicating  anybody else can listen on to it if you are trying to send some very sensitive data through satellite and you do not want other people to listen to what you are sending  then you have to take some other measure like encryption  etc we will talk about encryption much later in the course  refer slide 10  slide 11 there are different types of satellites and they have different types of orbits  circular or elliptical orbits the circular orbits will centre at the earth ? s centre there is the elliptical orbit with one foci at earth ? s centre there are some equatorial orbits above earth ? s equator this is quite common and necessary  especially for geostationary satellite it is necessary that they go around the equator but then you could also have a satellite pass over both the poles other orbits are referred to as inclined orbits  refer slide 11  slide 12 the altitude of the satellites and their distance from the earth have significant implication in terms of the time it takes for the signal to travel we have three different classes of satellites  geostationary orbit satellites  geos ; medium earth orbit satellites  meos ; and low earth orbits  leos out of these  geo is the most common one  refer slide 12  geos go around the equator and have a high bandwidth but they also require high power ? this is an important point ? and long latency these are the important issues when you are trying to communicate with some satellite  which is very far away  then your transmitter has to be strong enough so that the signal reaches the satellite if the transmitter power has to be large then you require lot of power in order to power this  it may be difficult to power it with a battery that kind of battery power may not be enough to reach a geostationary satellite the mobility becomes difficult from this power angle so this is an important issue  refer slide 13  slide 13 meo has a high bandwidth ; medium kind of power ; and medium kind of latency leo has low power and latency  but you require more number of satellites they have smaller footprint we have vsat  which means very small aperture when we talk about vsat  we are not actually referring to any satellite we are referring to the ground equipment that we use and vsats have small apertures  which private wans can use with smaller antenna but if they are using c band or ku band they use antenna which has a dimension of either 1 meter or 18 inches but for the main base station of the satellite  usually a much larger antenna is put in place we will first talk about geostationary satellite this is the most common type of satellite today and it is in a circular orbit we say it in miles about 23,000 to 22,000 odd ; and in kilometres it is 35,000 odd kilometres above the earth in the equatorial plane these satellites remain in the same position over the earth as it rotates  refer slide 14 and slide 15  slide14 and 15 slide 16 as the earth is moving  the satellite is moving along with that from some point on the earth  it would appear that the satellite is stationary over its head at all times that is why this is so sacrosanct about this geostationary satellite  this distance of 35,785 kilometres you can always calculate this distance by finding out about the centripetal force and the earth ? s gravitation etc you can put it in that equation and calculate that this is the exact distance at which  if you put a satellite with a particular angular velocity  which is the same angular velocity as that of the earth  what will happen is that to the people directly under it  it will appear as if the satellite is stationary so this is the good thing about this geostationary satellite and this is why this distance is so fixed  refer to 16  slide 17 from such a long distance  if you send a beam which has a reasonable solid angle over here  it will cover a large portion of the earth as a matter of fact  it has been calculated that with three or four satellites you can cover the entire surface of the earth ; but of course  three or four satellites would not be sufficient to handle the bandwidth that we require these days furthermore since this distance is so fixed  there is only one band in space where the satellites can be parked the other point is that if two such satellites are very close to each other  the signals will start interfering with each other so there has to be a minimum distance between two geostationary satellites the geostationary orbit and these parking slots are internationally decided  but these parking slots are quite crowded some nations may not put the satellite but would have reserved some parking slots these parking slots are quite crowded today with so many geostationary satellites up in the space  refer slide 17  slide 18 these have a coverage of about a fourth of the earth and have good tracking properties that means you can track it very easily but their signal weakens over great distance and the propagation delay can be large the propagation delay we are talking about is of the order of 0.24 seconds usually we talk in terms of milliseconds but here we are forced to talk in terms of seconds it may also be hard to get coverage at the polar regions because this geostationary satellite has to be over the equator ; it is difficult to get coverage at the far northern and southern hemispheres  refer slide 19  slide19 geo satellite provides universal connectivity in its footprint its footprint means the area of earth  which is covered by one particular transponder  let us say on one particular satellite so it covers all that area at the same time so now within its footprint it covers universal connectivity from any particular point  you can communicate with the satellite and possible satellite parking slots are quite crowded wide beams are circular  whereas spot beams  which are more focused  are elliptical apart from broadcasting  they may also be used with vsats for point-to-point communication we will come back to this point later  refer slide no.20   slide 20 so they are at this kind of distance that requires large transmitter power making them large and expensive there is considerable space delay and large cell size  which means smaller number of channels this is one particular point and we will come back to this point in greater detail when we discuss terrestrial wireless communication but the point is that a satellite has some amount of bandwidth which is assigned to it which it can handle ; now within that bandwidth for communication  namely  the voice channels require about 64 kbps rate one particular transponder can handle 800 such channels if the footprint of the satellite is very large  that means it is covering a large number of people but all these large number of people are constrained with those 800 channels a large cell size also necessarily means a smaller number of channel density on earth  refer slide 21  slide 21 a typical satellite has 12 to 20 transponders  each with a 30 to 50 mhz bandwidth ; a transponder can carry about 800 voice channels fdm  frequency division multiplexing  was used in early satellites nowadays tdm is also used ; as a matter of fact  a mixture of tdm and fdm is also used the cost of transmission is independent of distance sometimes this is an advantage when you are communicating via a communication satellite with somebody who is  say  10 kilometres away or with somebody who is 100 kilometres or 1000 kilometres away  the cost is constant over the entire footprint that may be an advantage in some cases  refer slide 22  slide 22 for some applications this may be useful security and privacy pose a problem as mentioned earlier so encryption is essential mobility is easily achievable and setup time is not required if the satellite is in space  then you do not require any setup time if the satellite is not there  you have to send it there gps is an interesting application we will see  refer slide 22  slide 23 we now come to the middle earth orbit satellites these are used for global wireless communication coverage they maintain orbit about 8000 miles from earth the moment you come out of the geostationary orbit  the satellite can not remain stationary over somebody ? s head any longer now the satellite will necessarily move over your head so in meos and leos what will happen is that you will find that the satellite is coming over your head just as other stars move so the satellite will move over in the sky and it will be there for sometime and then it will be out of your reach because it will go down below the horizon this is what is going to happen with meos as well as leos how soon will they come back depends on how far they are and what is the speed  etc so it orbits around earth once in about every 2 to 12 hours depending on its parameters so more satellites are needed and some handoffs are required as the satellites orbit now what is this handoff we are talking about ? you are communicating through the satellite to somebody else but the satellite has moved away so now the communication link will break in order that the communication link does not break what will have to happen is that another satellite will have to come and take its place and there has to be a handoff of communication from this satellite to this satellite before this satellite disappears altogether so that this communication between the two end points can continue so these handoffs are required as satellite ? s orbit and transmit data rate at 9.6 kbps to 38.4 kbps transmission delay is less than 0.1 seconds so this is considerably less than the 240 milliseconds we had earlier  refer slide 23  slide 24 taking it still further down  we have the low earth orbiting satellites  launched like a large flock of birds you require a lot of satellites because each of these satellites is visible to one particular point in earth only for a short duration of time so in order to give continuous coverage  you need a large number of satellites this cell size or the footprints will also become smaller so in order to cover the entire earth  you need a very large number of satellites orbiting at constant altitude of 400 to 1000 miles they must travel very fast to avoid gravity forces because in that case they will fall down to lower orbit  which allows for transmission of the 2.4 to 9.5 kbps it travels at 17000 miles per hour  circles earth approximately every 90 minutes so this goes around very fast it is used for mobile voice low and high-speed data ; internet access via mobile phones and pdas and gps  etc so the low earth orbiting satellites are what are used for the so-called sat phones it is dual linked due to some reason since this is low earth orbiting  the power that you require to reach the satellite is much less so now you have a handheld device  which may be a little bigger than your standard cell phone  but not very much bigger you can still carry it in your hand and with that now you can phone from anywhere from the earth because you are just communicating through the satellite  refer slide 24  slide 25 low earth orbiting satellites are individually cheaper they also give lower space delay  which is much less because we are that much nearer however a large number of satellites need to be deployed as the satellites keep moving  ground stations which are communicating  will have to switch from one satellite to another and quick handoffs will be required  refer slide 25  slide 26 one of the examples was the iridium set of satellites there were 66 satellites  which offered mobile telephony  paging and data communication unfortunately by 1990 they went out of service what happened was that  sat phone services became very costly by that time  other kinds of technology like fiber technology and the terrestrial wireless technology developed to such an extent that a major part of the market was captured by those  which were giving the same service to the end user at a much cheaper rate furthermore we require 66 of them  all of them moving very fast and you have to have this complicated handoff from satellite to satellite to make it low enough so that you can communicate from a handled device etc this could not be supported in the market since there are very few people going to such remote places where there can not be any other communication infrastructure majority of the users would have some base station for some terrestrial wireless nearby and that is why this price became very uncompetitive there were some efforts to revive this company  but finally it did not work out and they became bankrupt at present there is the ambitious ongoing project called teledesic in leo  which includes 288 leo satellites to provide low-cost high-speed internet access  networking and teleconferencing across the globe  refer slide 26  slide 27 here  as i mentioned  the space delay is lower and becomes comparable to terrestrial lines in the l band it is possible to communicate with it using battery powered handheld devices however cell sizes are still too large compared to terrestrial cells  refer slide 27  slide 28 iridium system had 66  so each satellite was to have 48 spot beams  giving a total of 1600 cells  each with 174 channels but 174 channels or total of 183,000 channels are not so many globally because terrestrial service providers give millions of channels over the area so finally  the cost turned out to be too high and the project went bankrupt  refer slide 28  slide 29 now we talk about vsats  which are small terminals with about 1-meter antenna and 1 watt transmitter power often the downlink capacity is more than the uplink speed for point-to-point communication usually goes through a hub if two persons want to communicate the communication will go from here to the satellite and from the satellite to a central hub  which will have a very big antenna and it can handle all the mac part of it we are not going into the details of this but anyway this will go to the hub and from the hub again it will go to the satellite and then go the point b let a be the sender and b be the receiver so it goes in two hubs ; so the space delay is doubled because we are going in two hubs  sometimes with the help of the satellite modem kind of thing  you can go in one hub so those channels are more costly otherwise  with the usual two hubs  there is considerable delay of the order of a half a second for this communication between a and b  but then there is no setup time so various combinations of tdm  tdma  fdm  and fdma are used for handling the mac and all this is controlled by that central hub  refer slide 29  slide 30 as i mentioned  one important application was the gps satellite constellation this is a global positioning system and this is operated by us air force another gps system is on the drawing board ; it will be deployed by some other consortium so there are 28 satellites in this and it has six orbital planes at a height of about 20,200 kilometres since this is not the geostationary orbit  they keep on moving and a minimum of five satellites are visible at all times so with this what you can do is that you can locate any position on the ground  if you have a gps terminal somewhere a very common application of gps is to put that antenna on a car so the car can be tracked anywhere on the earth  refer slide 30  slide 31 for gps we do a trilateration suppose there are a number of satellites which are visible to any of the ship  plane or a car as shown in the picture suppose we are measuring the car ? s distance from a number of satellites since for the satellites we know relevant parameters  from three different readings and three different distance measurements  if measured quite precisely and accurately  you can get the accurate position of the car there are so many different applications  which are possible for example  there is a central database  if you give information about where you want to go  then it can tell you the path to take or the alternative paths and which of them is crowded in many places in europe  you can get very precise information about where you are  which road you should take to reach the final destination  refer slide 31  slide 32 the advantages of avl  automatic vehicle location  are fast despatch ; customer service ; safety and security ; digital messaging ; dynamic route optimization and driver compliance slide 32 shows a mobile gps unit located on a truck with gps satellites  you can give faster dispatch of goods for example  some company has to deliver a lot of goods to a lot of warehouses so it may ship something and now the customer wants to know where it is you can immediately know where it is because you know into which truck you have put these goods and where it is exactly so  for courier service and similar services  you can give enhanced and sophisticated level of service through gps  refer slide 32  slide33 in conclusion  we can say that satellite communication will continue to serve where broadcasting is essential or where terrain is hostile or very sparsely populated it also has a niche where rapid deployment is extremely critical let us consider battlefield kind of situation where you want to rapidly set up some communication network if you have a satellite up in the sky already  you can take that transponder may be there is a disaster where you want to quickly set up disaster recovery and relief operations you can use this satellite because satellite communication will still go on whatever may happen even if there is a flood and everything is flooded  the satellite communication will still go on moving with your mobile units in other combination with terrestrial radio links fiber is likely to hold the advantage  refer slide 33  slide34 now we come to an interesting part of the satellite communication we see how this mac works for satellite communication this is another class of media access control technique  which we mentioned earlier this is the first example that we see it is random access protocol  refer slide 35  slide 35 we mentioned random access protocols earlier just as we talked about token based protocols  etc we also talked about random access protocols this is the first example of a random access protocol random access protocol is actually very simple when a node has a packet to transmit at full channel data rate  so just do not bother whether somebody else is transmitting or not transmitting or wants to transmit or it ? s going to transmit right away  you just do not bother about anything you just try to put in whatever you want to transmit on to the channel now what will happen if you are lucky since you are doing the random thing without any knowledge or consideration about what other people are doing  your transmission may get go through so there is no a priori coordination among the nodes but your transmission may still go through what will happen is that two or more stations may try to communicate at the same time or very nearly the same time what may happen is that the packet or the frame sent by one station a and the frame sent by the station b may collide and what will happen is that both the frames will be lost and will become garbled since you are talking about a medium  which is shared by everybody  these two transmitting stations a and b would also be able to listen to this and find out that both of their messages are garbled if they find that both are garbled  they will retransmit as a sort of backup for a random amount of time that is very important once again the second random is also very important this backing a random amount of time because if the protocol says no both of them backup for a fixed amount of time and after the lapse of that fixed amount of time both of them will start communicating again it is important that the backoff for a random amount of time and hopefully the random number generated by one station and the random number generated by the other station happen to be two different numbers so now they are going to stay communicating at two different points of time but they will not collide they may collide with other stations that is a different issue to ensure the random access protocol  if two or more transmitting nodes start transmitting at the same time we have a collision random access mac protocol specifies how to detect collisions and how to recover from collisions ; for example  via delayed retransmissions these are the two parts of any random access protocol  refer slide 36  slide 36 this satellite protocol  which is called aloha or slotted aloha is the simplest kind of random access protocol we will see other examples like csma csmacd csmaca etc later on so these are the examples of random access mac protocols aloha which was the original grandfather of all these protocols first came  then slotted aloha and then all these csma csmacd and csmaca etc were used  refer slide 36  slide 37 the aloha protocol was originally developed for packet radio in 1970s this was applicable to any system with uncoordinated users competing for a shared channel there was no carrier sensing carrier sensing means you do not try to find out whether or not somebody is already communicating that may sound a little strange at first ; because if you could find out that somebody is already communicating  then by trying to transmit at that point of time you are not only sure to fail because your own message will get garbled and somebody else ? s frame will also get garbled  but then you will also have a more crowded media for satellites there is a problem you can not always do this carrier sensing  due to space delay since we have a 240 milliseconds space delay  whatever you are listening to now was actually transmitted 240 milliseconds earlier so if you find that the channel is quiet now  there is no guarantee that after 240 milliseconds also it will also remain quiet that is why it is difficult to do carrier sensing in the case of a satellite that is why this latency  space delay  has a very significant impact on how we handle the mac here we do not do it ; 240 milliseconds is a lot of time in which a number of frames may be sent so we do not do any carrier sensing we simply send whenever we have to send something and then later on listen to the medium to find out whether or not there has been a collision this is the pure aloha protocol  refer slide 38  slide 38 users transmit whenever they have data if there is collision within a time frame  dictated by the space delay  it backs off for a random amount of time and sends it again if the first bit of a new frame collides with the last bit of a frame that is just finishing  both are taken as garbled so there is no such thing that the frame has gone through 95 %  either the frame has gone entirely  or even if one bit has collided  both the frames are taken as garbled and lost  refer slide 38  slide 39 collision detecting by listening to broadcast channel or by absence of acknowledgement  if collision occurs  each user waits random length of time as already mentioned various collision resolution algorithms are available station does not transmit new frame until old frame has been successfully transmitted the station is stuck with the frame until it can successfully send it  refer slide 39  slide 40 the slotted aloha has better performance all frames are of the same size time is divided into equal size slots and each slot is to transmit one frame with some distance if the transmitters and the receivers are synchronised they try to send frames only at the beginning of a slot so nodes start to transmit frames only at the beginning of slots nodes are synchronized ; if two or more nodes can still try to transmit in a slot  all nodes detect collision there may be collisions even after making the slots for example  suppose within the span of the fifth slot three different stations are ready to transmit something what will happen is that at the beginning of the sixth slot  all three will be communicating and all three will collide  refer slide 40  slide 41 when node obtains fresh frame it transmits the next slot as soon as it gets a frame to send  it sends it in the next slot no collision node can send new frame in the next slot if there is a collision  the node retransmits the frame in each subsequent slot with probability p until it attains success  refer slide 41  slide 42 this is a picture of a slotted aloha there is a collision over three nodes ? nodes 1  2  and 3 all three of them wanted to transmit they start transmitting and then collision occurred then all of them backed off it may so happen that the second slot went empty then in the third slot  what happened was that number 3 had backed off randomly for a long period of time but node 1 and 2 may have decided on the same number over here so 1 and 2 collide again what might happen is given as an example  may be in the fourth slot  2 has tried again and it has been successful so there is a success over there then next slot is empty node 1 and node 3 are trying and then they collide again then may be in the next slot  3 succeeds and so after 9 slots  the three have been able to communicate these three frames so you see because of this  collision affected efficiency  refer slide 42  slide 43 in slotted aloha pros a single active node can continuously transmit at full rate of channel if nobody else is transmitting one active node can go on transmitting this is highly decentralized only slots in nodes need to be in sync ; so that may be taken care of from the hub or through the satellite etc ; it is a very simple kind of protocol  refer slide 43  the cons are that there are idle slots and hence low efficiency  refer slide 44  slide 44 now what is the efficiency ? efficiency is the long run fraction of successful slots there are many nodes each with many frames to send suppose n nodes with many frames to send each transmitting slots with the probability p so probability that first node has success in a slot is equal to p  1 ? p *  n ? 1    so it is the probability p that that particular node sends and it is the p1 ? p that all the other n ? 1 do not send so only then you will have a success ; and probability that any node has a success is np  1 ? p  n ? 1  refer slide 44  slide45 so for maximum efficiency with n nodes  we have to find a p * that maximizes np  1 ? p  *  n ? 1  .hence this value for many nodes  we take the limit of np *  1 ? p *  n ? 1 as n goes to infinity and this gives a value of 1/e  which is 0.37 so this is the efficiency ? 37 % is the maximum theoretical efficiency that you can achieve in slotted aloha so at best  channels have useful transmissions ; 37 % of time  which may not look like a very high figure  but then you are absolutely uncoordinated ; but if you have low load then that may be alright  refer slide 45  slide 46 for pure or unslotted aloha  is simpler because there is no need for synchronization when a frame first arrives  it is transmitted immediately so collision probability actually increases a frame sent at t0 collides with other frames sent in t0 ? 1 assuming that each frame takes one unit of time to send up to t0 + 1 ; so there is a big interval from t0 ? 1 to t0 + 1  where things may collide  refer slide 45  slide 47 so this will overlap so this frame will overlap and now there is no question of any slots  so anybody can start transmitting at any point of time  refer slide 47  slide 48 what will the efficiency be like ? p of success by a given node is equal to p that the node transmits multiplied by the probability no other node transmits in  t0 ? 1  t0  ? p  a probability that no other node transmits in t0  t0 + 1 so this is p  1 ? p  n ? 1 ?  1 ? p  n ? 1 so p  1 ? p  2  n ? 1   so choosing optimum p and then letting n tend to infinity gives as an efficiency of 1/  2e  or about 18 %  so this is a rather low efficiency for transmission  refer slide 48  slides 49 and 50 when a computer network developed there were a number of competing lan technologies but today ethernet has a come to dominate a lan almost totally excepting for the newly emerging wireless part which we will discuss later so this ethernet is not only a lan nowadays people are talking about ethernet in the man that is metropolitan network area also so ethernet  as you understand is very important so we will talk about ethernet it ? s a dominant data link layer technology  refer slides 49 and 50  slide51 the multiple access scheme of ethernet is csmacd now  refer slide 50  slide 52 so this minimum time is which may vary from system to system  that means a network to network so this is how it is calculated so far let us see how the minimum time would comes suppose this is the shared bus we put two nodes at the two extreme ends suppose now packet starts at over here at time t equal to zero packet is almost reached b at time t ?  at which point of time  it does not transmit suppose the propagating time of the packet for moving from one end to the other is ?  at ?  ? it has almost reached b at that point of time b starts transmitting  because we have been finding that the bus has been very quiet there is no signal at end so b can start .so b starts and if there is a collision and this collision is at one this end of the of the medium .so the collision bus starts transmitting back the jam signal .so it again take s almost tau to reach .soa so the total time is ? noise so collision detection can take as long as 2 ?   slide 52  computer networks prof.sujoy ghosh lecturer name # 19 ethernet ? csma/cd  refer slide time  00  41  good day today  we will talk about ethernet this is possibly the most ubiquitous lan technology today as a matter of fact  when computer network developed  there were a number of competing lan technologies but today ethernet has come to dominate lan almost totally  excepting for the newly emerging world spot also  which we will discuss later not only lan  nowadays people are talking about ethernet in the man  i.e  metropolitan area network also ethernet as you understand is very important so we will talk about ethernet  refer slide time  01  37  01  59  it is a dominating data link layer technology and the multiple access scheme of ethernet is csma/cd we will talk about ethernet and csma/cd ; this will be our first lecture on this we will continue on this topic in the next lecture also  refer slide time  02  00  02  54  what is the broad outline of the ethernet ? first of all  it was conceived as a broadcast network  so single communication channel that is shared by all the machines on the network this would be the kind of medium we will have we have a shared medium where everybody broadcasts it is supposedly one of the common broadcasts in the early days  one of the common physical organizations of ethernet where some machines were connected to a coaxial cable this is a lan technology unlike the satellite technology that we have talked about ? remember that in satellite technology  which is also a shared medium  we of send data and then detect collision this is further advancement the multiple access technique of ethernet is just some refinement over that but this is essential in a lan environment  meaning it is for a small geographical area we have packets ; that means packets are sent over this  we will see later on how it frames them so short messages sent by any machine are received by all others since this is a broadcast network  a message which is sent by any machine is received by all networks and so naturally you have to give the destination address there are various fields in the ethernet header and we will look at that later on one of them has to be the destination address so that we understand because otherwise the recipients will not know for whom this frame is meant  refer slide time  04  05  04  57  since it is a shared medium  all these machines are supposed to be in the so-called same collision domain ; because if two machines are sending simultaneously  their packets will collide suppose you have the sender over here and sender has a packet to send  it puts it on this common bus the packet travels both ways and then it is received by all the recipients all of them copy the frame into their nic they would compare the destination address with their own address  if it is not for them  they will simply ignore it if it is meant for this node  it will absorb it and then send it to the higher layer  refer slide time  04  58  05  58  all machines receive the packets but only one would process it ; i.e the mode of operation is broadcasting it is also possible to address a packet to a subset of machines ; this is called multicasting this mode of operation is called multicasting  meaning we have two ends of the spectrum  one is a point-to-point communication  one sender and one receiver on the other end of spectrum is a broadcast where one sender and everybody else is a receiver somewhere in between is a multicast ; meaning there is one sender and several receivers in order that several receivers can receive it  we have to do something with the address so we have to give a special kind of address ; that is also possible it is possible to multicast since it is possible to broadcast  refer slide time  05  59  07  22  just to remind you about our discussion on satellite communication  if you remember  the satellite communication used a mac protocol called aloha there were two versions of aloha and one was the pure aloha  whereby if anybody has any data to send he simply sends it if there is a collision  he would back off and maybe send it again that is a pure aloha scheme and we saw that this is the form of s = ge ? 2g where s is the throughput  that means how much you are actually able to communicate successfully  and g is the number of attempts per packet time this is the s versus gee of pure aloha  which gives about 18 % of efficiency at the maximum slotted aloha is where you can send only from the beginning of a slot time ; that has considerably better performance then it comes to about 37 %  the formula is s = ge ? s refer slide time  07  23  09  39  ethernet is something similar that means we broadcast and then we detect collision  so it should be the same as some kind of aloha the only thing is that since this is a local area network  a small network  what we can do is that we can sense the carrier ; that means we can sense whether somebody is sending if somebody is sending  we refrain from sending anything ; so that is called carrier sensing we discussed this earlier that it is not possible to do carrier sensing in satellites because the space delay is so high  whatever you are listening to now must have happened may be 250 milliseconds earlier ; that is a long time back but that is not the case in a small lan the timeframes are much smaller  so you can actually listen to the medium and find out whether somebody is actually broadcasting something at that particular point of time in that case  even if you have something to send  you do not do so that reduces the collision considerably and that naturally leads to an improvement in the efficiency so this stream is called carrier sense multiple access and we find that even if you are doing carrier sensing  there can be some collisions although there will be reduced number of collisions compared to pure aloha  slotted aloha we have to detect the collision and this cd part the full mac protocol that is used by ethernet is the csma cd ; this is the dynamic channel allocation technology or the random access mac for this  used in old ethernet nowadays we have moved to fast ethernet  where we have reduced collision and switched ethernet  which we will discuss these in the next lecture  refer slide time  09  40 ? 09  55  so we have carrier sense multiple access we improve the performance of our simple network greatly if we introduce carrier sensing ; with carrier sensing each hosts listens to the data being transmitted over the cable  refer slide time  09  56 ? 10  25  a host will only transmit its own frames when it can not hear any data being transmitted by the other hosts when a frame finishes an inter frame gap of about 9.6 ? s is allowed to pass before another host starts transmitting its frame so he listens to somebody sending and then he naturally waits and then after that frame is over  he gives a gap of about 9.6 ? s and then starts transmitting  refer slide time  10  27 ? 13  03  collisions can still occur mainly because of the propagation delay propagation delay means two nodes may not hear each other ? s transmission as before  if there is a collision  the entire packet transmission time is wasted ; and naturally the distance and propagation delay has a strong role to play in the collision probability let us look at this suppose this node b starts transmission at time t0 naturally  the transmission goes both towards a as well as towards c and d so there is a cone like this ? if you plot it against time and distance ? over which b ? s transmission is going what happens is that c was listening and at this particular point of time  t0 or even later than that  c did not have any carrier to sense  because b ? s transmission  although it had started in terms of absolute time  had still not reached c so it will reach c only at this particular point of time during this period  the transmission from b will reach d at a much later time  let us say t2 or something if d starts its transmission t1  what will happen is that somewhere in-between they are going to collide ; and these garbled bits will now start propagating on both sides  which is shown in this hashed figure what happens is that  naturally b ? s transmission is lost and d ? s transmission is also lost so there will be a finite probability of collision and this probability will depend on the time it takes for the frame to reach all the nodes because if it had reached some other node  that particular node would not start transmitting ; but it takes a finite amount of time  and within that finite amount of time  if somebody else starts transmitting  we have a collision so we can still have collision ; that is why csma is not enough ; we have to do cd also  refer slide time  13  04 ? 14  53  so csma  as we mentioned  means listen before transmit if a channel is sensed busy  defer transmission ; and persistent csma means retry immediately when channel becomes idle ? this may cause instability this is called persistent csma that means retry immediately when channel becomes idle ; because what might happen is that during the time when the frame is being sent ? that may be a considerable amount of time ? more than one node may become ready to transmit if more than one node is ready to transmit  naturally all of them will pounce on it after giving a 9.6 ? s gap and start transmitting  and naturally they are going to collide if they collide they know that is bad  so they allow that collision to subside and then they start again by this time  quite a lot of time has elapsed somebody else may become ready and somebody else may again start persisting ; so this may grow to some kind of instability being totally persistent is not very good  as we will see the performance of each of this ; but that is persistent csma we call a strategy as pure persistent ; that means  we retry in the next immediate available time with the probability of p  which means  with the probability of 1 ? p  we do not persist that means  we defer still more  refer slide time  14  54 ? 15  34  there is a non-persistent csma ; that is  somebody is ready to send something ; finds that it is busy then he will retry only after the random interval he generates some random numbers and decides by himself to wait for this random amount of time collisions may still exist  since two stations may sense the channel idle at the same time or within a vulnerable window  which is equal to the round-trip delay in case of collision  the entire packet transmission time is wasted ; so we have pure aloha this is the group of protocols  we have pure aloha  then we have slotted aloha  persistent csma  p persistent csma  non-persistent csma ; and here is how they behave  refer slide time  15  53  17  54  we have already seen these two curves  pure aloha and slotted aloha they are used in satellite communication because we can not do area sensing over there because of the significant space delay if you do carrier sensing and if it is persistent  the performance improves somewhat ; so it may go slightly above 50 % and then comes down you can have different values of p  remember p is the probability that the node will try immediately when it senses that the channel is available ; that probability will be 0.5 at probability 0.5  it will not try at all at 0.5  persistent csma is good  0.1 persistent csma is even better ; that means what it will do is with 0.1 probability it will try and with 0.9 probability it will differ if it is non-persistent  this is the 0.01 persistent csma and non-persistent csma non-persistent means it will always go back if you draw the throughput versus load curve  this is the kind of curve you get but the exact throughput will depend on how many nodes are there and what their distances are  etc these are somewhat idealized figures but you get something like this as you can see  with non-persistent or very low persistent csma  we get very high throughput even when the load is going up so when the load is going up  it is not falling down steeply like aloha or slotted aloha this is the channel utilization by the various mac protocols  refer slide time  17  55 ? 18  08  so csma/cd is carrier sensing  deferral as in csma ; collision is detected within a short time ; colliding transmissions are aborted  reducing channel wastage  refer slide time  18  09 ? 18  39  collision detection is easy in wired lan ; it measures signal strengths and compares transmitted and received signals this is how you detect a collision it is somewhat more complicated in wireless lans we will discuss wireless lans later on as we move on  but the receiver is usually shut off while transmitting this is a problem with the wireless lans  where collision detection is difficult we go for some other kind of scheme over there  which is called collision avoidance  we will discuss it later  refer slide time  18  54 ? 19  49  as i mentioned  ethernet is the dominant lan technology  and since this is dominant  people who followed the ethernet line had the great advantage of having a huge market that really drove down the cost and today ethernet is cheap ethernet network interface card costs in the order of some $ 20 or something of that order for a 100 mbps card  which is quite fast  it is very cheap it is the first widely used lan technology ; it is simpler and cheaper than token lans and atm ? so that is a great advantage and it kept up with speed rates of 10,100  or 1000 mbps ethernet started with 10 mbps  then went on to 100 mbps  which is a standard today people are talking about 1000 mbps or 1 giga bit ethernet  which is also making inroads into the backbones of lans etc maybe in a couple of years ? time  it will go into the desktop also  if it has not already reached some desktop so ethernet is a very widely used technology this is  refer slide time  20  26 ? 20  54  a diagram to show you how the original ethernet looks you have a cable  which would be terminated on two sides ; it would be tapped and then a transceiver will tap into it  to connect it there will be an interface cable from the transceiver to the interface of the controller this is basically the nic  and this is how it will be connected to various machines  which should be tapped into the cable at various points of time  so this is the so-called ethernet  refer slide time  20  55 ? 21  34  now  we go into the details of how exactly this is done we have discussed the basic technology already ethernet uses a bus topology ; it assumes a bus topology  carrier sense multiple access in csma/cd  each station has equal access to the network but it can broadcast only when the network is idle before transmitting  a station   1  listens to the network to sense if another workstation is transmitting  which is carrier sense if the network is still idle after a certain period   2  the station will transmit  refer slide time 21  35 ? 21  42  it is possible that two stations will listen and sense an idle network at the same time each will then transmit a message  which will collide  refer slide time 21  43 ? 22  05  while transmitting  a station must perform collision detection to detect if its message was destroyed if a collision is detected  the detecting station broadcasts a collision or jam signal to alert other stations that a collision has occurred each transmission station then waits a random amount of time ranging from 10 to 90 ? s before attempting the transmission again  refer slide time  22  06  22  36  so this is the same algorithm step by step ; adapter gets datagram from the network layer and creates a frame that means it adds a header to create a frame if the adapter senses that the channel is idle  it starts to transmit the frame ; if it senses that the channel is busy  it waits until the channel is idle and then transmits if the adapter transmits the entire frame without detecting another transmission  the adapter is done with the frame if the adapter  refer slide time  22  39 ? 25  50  detects another transmission while transmitting  it aborts the transmission and sends a jam signal this is an interesting point ? it needs to detect collision only while it is transmitting after the transmission is over  there is no detection within that frame transmission time ; you can forget about collision that means just some time after that  you may still detect the collision that collision would be presumed to be due to another station  not your frame ? because if you detect a collision after sending a frame  you have to understand whether it was your frame which collided or your frame went through and somebody nearby started transmitting and they collided so the idea is that while you are transmitting  that time only should be enough for any collision  any inadvertent collision to happen ; we will come back to this point so if there is a collision  it aborts ; after aborting  the adapter enters an exponential back-off algorithm what is an exponential back-off algorithm ? what might happen is that the frame sent might have collided and then it might have backed off for sometime ; it may have tried again and it may have collided again ; maybe the network is busy what is the remedy if the network is very busy ? obviously if the network is very busy  what is going to happen is that more and more people will try to send ; they will fail and then they will try again this may bring down the overall throughput of the system to a large degree so what is done is that if the network is busy  everybody tries to make the network less loaded  which means that they wait for longer before they try to send it what they do is that they generate this random number over an exponentially increasing period so that the probability of a higher random number becomes more and more if the network is more loaded  which means that you are backing off for a larger amount of time that is exponential back-off  so after the mth collision  the adapter chooses a k at random from 0,1,2 ? 1 if m is 10  it chooses a random number between 0 to 1023 the adapter waits k = 512 bit times and then returns to step 2  which means  suppose k is 100  it would be 100 ? 512 bit times it waits 512 bit times and tries again  refer slide time  25  51  26  36  so jam signal makes sure that all other transmitters are aware of the collision we send a jam when it detects a collision and backs off we calculate the amount it backs off as follows  let us say bit time is 0.1 ? s for 10 mbps ethernet for k = 1023 if you remember 512 into 0.1  512 bit time should be about 51.2 ? s and 51.2 ? s into 1023 will be approximately 50 msec  i.e it waits for 50 msec  if k has to come out as 1023  refer slide time  26  37  28  16  the idea of this exponential back off is to adapt retransmission attempts to estimated current load if it is heavy  the random wait will be longer once again  we do this because if the load is heavy at some particular point of time  then people in general should refrain from sending so that the load comes down if the load is kept high and everybody starts to transmit  there will be even more collision and even less throughput than what you would achieve by a number of people backing off this backing off is done exponentially  so first collision  choose k from 01  and delay is k ? 512 bit transmission time  which means that with 50 % probability  we try to transmit immediately  and with 50 % probability  we would back off for this k ? 512  i.e  51.2 ? s before listening and trying to send again after the second collision  we choose k from 0123 the aim is increasing ; the number of collisions is increasing after 10 collisions  it is not allowed to increase more than that this range of k becomes fixed and you always choose from this 0 to 1023 this is the exponential back-off algorithm ; for heavier load presumably a node will choose a larger k and wait for longer  reducing the load on the system and increasing the throughput this csma/cd system can be in  refer slide time  28  23 ? 28  40  one of the three states there may be contention  there maybe successful transmission  or it may be idle there may be contention slots or frames or idle period  refer slide time  28  41 ? 29  50  ieee 802.3 defines this ethernet protocol if you remember 802.2 was llc and 802.3 was for csma/cd and 802.45 etc  like token bus token ring etc there are a couple of variants of ethernet  one is ieee 802.3 and the other is dixie ethernet we will maybe mention it later on  but they are more or less the same  excepting for minor differences 802.3 is the more dominant one these days ; besides  this is the standard 802.3 is the number of the standard and it describes the format of the frames and the type of encoding used for transmitting frames it also describes what the frame format is and what kind of encoding is used for transmitting the frame the minimum  refer slide time  29  59 ? 31  01  length of frames can be varied from network to network this is important because  depending on the size of the network  the frames must be of a suitable minimum length remember that a node has to detect collision only during the transmission time if transmission is over and there has been no collision detected  it assumes that its own frame has reached whatever destination it was supposed to reach after that  if there is a collision  it is supposed to be between two other nodes because once there is a collision only the sender would know whether his own frame has collided because you can not really decipher the address field of the collided frame the collided frames are gone  they are garbled the standard also makes some suggestions about the type of cabling that should be used for csma/cd  bus lans  etc  refer slide time  31  02 ? 32  41  this minimum time may vary from system to system ; that means  network to network this is how it is calculated first of all  let ? s see how the minimum time would come suppose this is the shared bus we put two nodes at the two extreme ends  the packet starts over here at time t = 0  it almost reached b at time  t ? ?   suppose this propagation time of the packet  from one end to the other  is ?  at  ? ? ?   it has almost reached b at that point of time b starts transmitting because while b has been finding that  the bus has been very quiet ; there is no signal on it b can start transmitting and it starts sending there is a collision at one end of the medium the collision bursts  starts traveling back and the jam signal is sent that starts travelling back  it again takes time ? to reach a the total time is 2 ?  the collision detection can take as long as 2 ?  the point is that your transmission time has to be greater than this 2 ?  there are a few other issues ; we will discuss them later  refer slide time  32  42 ? 35  19  this is what we were discussing  minimum frame length to ensure that no node may completely receive a frame before the transmitting node has finished sending it ethernet defines a minimum frame size  i.e no frame may have less than 46 bytes of payload remember payload is the packet  which the data link layer receives from the upper layer what happens if the packet is much smaller ? the application itself is such that you have to send maybe 1 character or 2 characters ; what happens to it ? ethernet does not allow less than 46 bytes  so you have to pad it up ; we will come to that later the minimum frame size is related to the distance which the network spans  the type of media being used ? because of the time it takes for the signal to travel ? and the number of repeaters which the signal may have to pass through to reach the furthest part of the lan repeater if you remember is something  which enhances the signal as a signal travels down the transmission line  it tends to get weaker and weaker because of attenuation at some particular point of time the signal may have to be amplified a repeater does just that  it takes some incoming signal and amplifies it  maybe some wave shipping or something there may be a number of repeaters each of these repeaters might introduce some delay because the repeater will not go through instantaneously there will be some delay in this repeater and if there are a number of repeaters  this delay would get added remember what we are trying to find out when the packet being sent from one end of the network  reaches the other end and almost at the other end  there is a collision and that collision comes back what is this total time ? during this whole time  this packet must be transmitting because it will detect the collision only during the packet transmission time the number of repeaters also is important as are the type of media and distance to the furthest part of the lan together these define a value known as the ethernet slot time  corresponding to 512 bit times at 10 mbps  refer slide time  35  20 ? 35  56  the longest time between starting to transmit a frame and receiving the first bit of a jam sequence is twice the propagation delay from one end of the cable to the other this means that a frame must have enough bits to last twice the propagation delay the 802.3 csma/cd bus lan transmits data at the standard rate of r = 10 mbps this was the earlier standard of 10 mbps the speed of signal propagation is about v = 2 ? 108 ? s in this coaxial cable  refer slide time  35  57 ? 36  28  the cable maybe of 400 m length  transmission speed = 10 mbps  so propagation speed is 2 * 10 * * 8 ? s let us see what the delay is and what the minimum frame size comes out to be propagation delay time is tprop ; the round-trip propagation delay is twice this number of bits we can fit into a round-trip propagation delay  the minimum frame length nb  refer slide time  36  29 -37  04  tprop = d/v = 2 ? 108 and distance is 400 m  which makes it 2 ? 10 ? 6 sec or rather 2 ? s  2 ? tprop ; that means  for the signal to travel all these 400 m and come back  it takes 4 ? s for the 4 ? s  the transmitting station must go on transmitting and the transmitting station is pumping data at the rate of r = 10 mbps  refer slide time  37  05 ? 37  52  a bit time  the time to transmit 1 bit is 1/r ; it is 1/10 megabits  which is 10 ? 106 which is 0.1 ? s the minimum number of bits the frame must have is 2 ? tp/tb tp is the propagation delay ; 2 ? tp for the round trip propagation delay divided by tb = 4/0.1 = 40 bits this calculation brings us to 40 bits as i said the minimum size is much bigger than 40 bits  and we will see why  refer slide time  37  53 ? 38  07  the minimum frame length is thus 40 bits or 5 bytes a margin of error is usually added to this  often to make it a power of two  so we might use 64 bits or 8 bytes  refer slide time  38  08 ? 38  53  let us see another example  calculating something else but it is closely related two nodes are communicating using csma/cd protocol  and the speed transmission is 100 mbps this is a fast ethernet and frame size is 1500 bytes the propagation speed is 3 ? 108 meters per second ? that is the speed of the light calculate the distance between the nodes such that the time to transmit the frame equal the time to recognize that the collision has occurred we want to calculate the distance  refer slide time  38  54 ? 39  12  since frame time is given we calculate the propagation delay from this so tround trip = tframe = 2 ? tprop so tprop = tframe/2  and what is the tframe ?  refer slide time  39  12  39  22  we have 1500 bytes  which is being pumped at the rate of 100 mbps  refer slide time  39  23    if you multiply 1500 bytes into eight  that means how many bits will get 12000 bits which is 1.2 ? 10 ? 4  i.e  6 ? 10 ? 5  refer slide time  39  53 ? 40  17  the maximum distance is calculated using the propagation velocity  tprop = d/v = tprop ? v =  6 ? 10 ? 5  ?  3 ? 108  = 18 ? 103 = 18 km with this kind of minimum frame length  you can go up to 18 km remember  the minimum frame size has become 1,500 bytes this standard  refer slide time  40  29 ? 40  48  frame length is at least 512 bits or 64 bytes long  which is much longer than our minimum requirement of 64 bits which is 8 bytes we only have to start worrying when the lan reaches lengths of more 2.5 km  refer slide time  40  49 ? 41  41  802.3 csma/cd bus lans longer than 500 m are usually composed of multiple segments joined by in-line passive repeaters as a signal travels down transmission line  what would happen is that it will become weaker  so we will have to put a repeater  and one kind of repeater maybe called a hub in-line passive repeaters output on one cable the signals received on another cable or we may simply have an amplifier over there when we work out the minimum frame length for these longer lans  we also have to take the delays caused by the passive repeater ; each passive repeater introduces a delay of about 2.5 ? s each  so we have to take this into account as well  refer slide time  41  42 ? 43  23  let us say we have 500 m on each segment  we have 4 repeaters  so 5 segments that is about the maximum you should go nowadays we do not use such coaxial cables what happens is that 64 bytes sent at 10 mbps would take 64 ? 8 = 512 bits ; 512 bits at 10 mbps is 51.2 ? s and 500 m per segment four repeaters between the nodes means there are 5 segments ; 2500 m in all this gives rise to 25 ? s propagation delay  because remember our propagation velocity is about 2 ? 108 if you calculate  it comes to about 12.5 ? s from one end to the other  twice that is about 25 ? s the frame should be long enough for the sender to detect the collision in 2 ? 25  this is 125 and the other 25 is these 4 repeaters together  about 50 ? s ; 64 bytes sent at 10 mbps is 51.2 ? s if you have a frame length of 64 bytes  that is quite good  refer slide time  43  24 ? 45  27  let us look at the details of the ethernet frame all information on an ethernet network is organized into frames also called packets or may be packet is what the upper layer gives and then this is formed into a frame contents of an ethernet frame  sending adapter encapsulates ip datagram or other network layer protocol packet in ethernet frame this is what the ethernet frame looks like  we have a preamble of 7 bytes  we have a start of frame of 1 byte  we have a destination address of 6 bytes  we have a source address of 6 bytes  we have frame length of 2 bytes and then data may vary from 46 to 1500 bytes and then followed by crc of 4 bytes if you remember crc is the cyclic redundancy code which ethernet uses for error detection on the other side so you have actually about 72 bytes  which is even larger than the 64 bytes we require 46 bytes the minimum and 1500 bytes is the maximum length of the payload  this is the payload part ; to this we have to add this header and trailer part in the trailer you have the crc in the header the source address destination address  etc this frame length is required because you might have padding over here in some other version of ethernet  there is a type field over here  which gives the network layer protocol type let us look at the  refer slide time  45  28 ? 46  08  details quickly sending adapter encapsulates ip datagram ethernet frame ; preamble has 7 bytes with the pattern 10101010 please note that 1s and 0s are alternating ? and there is a reason for that ? followed by 1 byte with pattern 10101011 ; so these 7 bytes are called the preamble this 10101011 is the start of frame delimiter  7 bytes of pattern this 1 0 is required ; it is used to synchronize receiver and sender clock rates that is why we alternate 1 and 0 etc  refer slide time  46  09 ? 47  47  we have an address of 6 bytes if the adapter receives a frame with matching destination address or with broadcast address  for example an arp packet  it may be broadcast  it may be multicast or it may be unicast if actually a frame would be broadcast  only 1 would come up arp is the address resolution protocol ; we will discuss this in the next lecture it passes data in the frame to the net layer protocol ; otherwise the adapter discards the frame so this address has to be there the destination address and source address are also put over there type  as i said  in some form the type indicates the higher layer protocol  mostly ip  but others are supported  such as novell ipx and apple talk what type of network layer protocol is it talking to ? the same ethernet ? as i mentioned before ? the same data link layer protocol may be supporting a number of network layer protocols in that case  there has to be multiplexing and de-multiplexing in the receiver side when a packet comes  maybe this data link layer knows that this is for this particular machine because its address is there so it will absorb it but then send it if there are two different network layer protocols  which are running at the same time  whom will it send it to ? that type is mentioned in the field so that it can do a de-multiplexing properly crc or cyclic redundancy code is checked at the receiver if an error is detected  the frame is simply dropped  refer slide time  47  48 ? 49  53  the other thing to understand is that this ? ethernet gives you an unreliable connectionless service it ? s connectionless  and there is no handshaking between sending and receiving adapters ; so it is connectionless the sender simply sends some packet and there is no handshaking between the two the actual reliability  whether there will be error or not  will depend on the quality of the cable  the quality of connections  whether all standards have been followed very meticulously  and the quality of distance and the ambient noise and these kinds of things that is not what we are talking about  it is unreliable in the sense that whatever physical layer parameters are there  they are given to the data link layer  that is  the ethernet layer but the ethernet does not really try to take any special care to see that the communication is reliable it has a crc for sure  so on the other side if the receiver sees that the crc shows some error  it may drop the packet but the receiver does not send any acknowledgement to the sender the sender does not know about it if that packet is dropped that frame is dropped if that has to be handled  it can only be handled at a higher layer so it is unreliable in that sense  receiving adapter does not send acks or negative acknowledgements to the sending adapter the stream of datagrams passed to network layer can have gaps ; that means some of the frames may have been dropped gaps will be filled if the application is using tcp this is one kind of transmission protocol  which we will discuss later  which tries to take care of such errors otherwise  the application will have to handle these gaps  refer slide time  49  54 ? 52  20  just a couple of words about the addresses ? remember there are 6 byte addresses every network card in the world has a unique 46-bit serial number  called a mac address we are talking about the ethernet  there is 46 bit ; 246 is about 64 trillion  which is a very large number and these numbers or these addresses are distributed by ieee a manufacturer who manufactures ethernet nic ? that means ethernet network interface cards ? will apply to ieee and get a whole chunk of addresses  whole block of addresses and will put these addresses one by one into the network cards that are produced and then sell in the market what happens is that one of the network cards may have gone to india and the next network card may be used in beijing it may so happen that the network cards we have and not the network addresses in the lan will have very contiguous addresses they may not ; anyway  what is guaranteed is that since this is distributed centrally from ieee  no two addresses  i.e no two mac addresses of two network interface cards or two ethernet cards are going to be the same they are all going to be distinct  because we have this pool of 64 trillion addresses being distributed by ieee ieee allocates these numbers to network card manufacturers  who encode them into the firmware on their cards it is almost in the hardware  encoded in the firmware in the card  the destination and source address fields of the mac frame have 48 bits set aside remember 6 bytes is 48 bits there is a 2-bit discrepancy these 2 bits are used for something  the standard also allows for a 16-bit address but they are rarely used  refer slide time  52  21 ? 53  47  in these 2 bits  the most significant bit is set to 0 to indicate an ordinary address  and 1 is to indicate a group address this is for multicasting  which means that frames are sent to several hosts remember  in the beginning of the lecture we said that although the medium is broadcast  usually there will be 1 sender and 1 receiver  i.e  it is a unicast ; that means 1 sender 1 receiver sometimes you may have a broadcast ; that means it is meant for everybody  and sometimes you may have a multicast ; that means it is meant for a few of the hosts in the network  not for all how do you indicate the address ? you indicate a very special address starting with a 1 for multicasting if all 48 bits are set to 1  frames are broadcast so for the destination field if all bits are 1  there is a very special address  not the address of any particular machine  which is meant to match with any ethernet address on that particular lan if 2 most significant bits are both 0  the 46 least significant bits contain the mac addresses of the source and destination hosts this is how you make out  refer slide time  53  53 ? 54  49  also this is connectionless and unreliable in the sense that it does not take any special care for reliability this is also non-deterministic network ; this means that no host is guaranteed to be able to send its frame within a reasonable time  just a good probability of doing so theoretically what might happen is that you may try to go and find it busy again you come back and then go ; it might collide next time you come back and this might happen an indefinite number of times although the probability of its happening in a large number of times becomes lower and lower  with a very good probability  we will be able to send it but there is no guarantee that within this time you will definitely be able to send your frame when the network is busy  the number of collisions rises dramatically and it may become very difficult for any host to transmit its frames  refer slide time  54  50 ? 55  19  this makes it not suitable for a real-time computing application at least this bus type network may not be suitable for a real-time computing application such as an assembly line  which will demand that data be transmitted within a specified time period since the 802.3 bus lan can not guarantee this  its use for real-time applications may not only be undesirable but sometimes potentially dangerous there are other ways of very high-speed network when this is low ; then the chance of not being able to send at all becomes very low indeed just one  refer slide time  55  36 ? 56  42  last word about the csma/cd efficiency we will not go to the details of this discussion suppose each station transmits during a contention slot with probability p the probability a that some station acquires the channel in that slot is a = kp  1 ? p  k ? 1 so p is the probability that a particular contention slot is taken by one node and 1 ? p is the probability that all the other k ? 1 nodes have not taken and that a particular slot is being used  i.e kp  1 ? p  k ? 1 so a is maximized when p = 1/k with a tending to 1/ ? ? as k tends to ?  the probability that the contention interval has j slots in it is a  1 ? a  j ? 1  refer slide time  56  43 ? 57  02  the calculation of channel efficiency would be p  where p is the time that a node needs to transmit mean frame and 2 ? is slot duration so p/p + 2 ? /a means that if p is large  that means if we are sending a large frame  the channel efficiency increases  refer slide time  57  03 -57  15  as you will see in this slide  with 1024-byte frames  the channel efficiency is very high if you send in small frames  the channel efficiency tends to be smaller this plot is with a number of stations trying to send with this  we come to the end of this lecture in the next lecture  we will look at the modern versions of ethernet like switched ethernet and how different networks are connected together thank you computer networks lecture name # 20 prof sujoy ghosh dept of computer science and engineering i.i.t kharagpur modern internet  reference time  00  46  good day ! in this lecture we will continue our discussion about ethernet in the previous lectures  we have seen the basic data link protocol used in ethernet ethernet is a very popular and nowadays it is almost ubiquitous in the lan area it is a very widely used system and it has evolved from whatever was the approach to ethernet in the earlier days and the basic ethernet protocol that we had discussed people are sort of shifting away from it because as the technology develops and as things like switches etc  become cheaper as the speed of network goes up  there is a slight shift in emphasis in modern ethernet in this lecture  what we are going to do is that first  we are going to have a look at the physical layer of the ethernet there is not much to discuss about that  and then we will see how we are shifting from a shared medium to a switched ethernet kind of concept  and how speed is increasing then  we will discuss a little bit about ethernet  lan as a concept is so  we discuss the modern ethernet that is how the ethernet is evolved  refer slide time  02  15  02  20  before we go into that   refer slide time  02  21 ? 02  47  we will look at the topology and some of the limitations of the earlier versions of ethernet the topology of a network refers to the pattern of workstations  cables and repeaters in an ethernet  there are two primary limitations to the topology  transmission accuracy and end-to-end transmission time transmission accuracy means that ethernet really under a data link layer is an unreliable protocol in sense that it does not do a lot of acknowledgement or negative acknowledgement and things like that therefore  essentially the transmission accuracy should be fairly tolerable what happens is that the maximum distance for accurate transmission is determined by signal attenuation along the cable  and it would depend on the on the quality of the cable  the kind of cable we used and the data rate the other important point is the end-to-end transmission time as we have seen  because of this collision and other things this end-to-end transmission time is important it ? s not just for the data rate or things to move faster but for other reasons  also this end-to-end transmission time is a factor  refer slide time  03  48  04  56  these are the ethernet physical layer standards that we have ? some of them  they are actually more so 10base5  that is  10 mbps base band transmission and 500 m ; this 5 here stands for 500 m cable length  this is called thick ethernet or has thick coaxial cables and this has become obsolete then 10base2 is 10 mbps base band transmission ; once again all of these are base band transmissions ; that means we do not modulate them to a higher channel or frequency channel so  10 mbps and 2 for above 200 m cable line  or lines of 180 to 200 m length then  10baset ; this again is for 10 mbps base band transmission  which uses utp cable there are various versions of utp cable like categories 3  4  5  etc 100base-tx is 100 mbps base band transmission  also uses utp cable  refer slide time  04  58  06  28  so  these are the of maximum segment length as we can see  10base5 is 500 m ; 10base2 is 185 m ; 10base-t is 100 m fibre optic cable 10base-fl goes up to 2 km actually  10base-f is not in much use these days  because fibre optic components became cheap and available  and people have moved from this 10 mbps rate to the 100 mbps rate the point is that  the fibre optic cable goes much longer than copper cables and it is best between buildings ; that means when it goes through some open space  etc  we avoid copper cable most times because of electric interference and other problems  not to mention the distance the nodes per segment in 10base-f could also be more ; we will come back to this topic of nodes per segment later as we have seen previously  10base5 and 10base2 have many limitations ; for example  in 10base2  you see the figure of 30 and a network segment having only 30 nodes is a constraint these days because all kinds of things are being networked for completeness sake  i will make a mention of 10base2 and other kinds of  refer slide time  06  51  07  18  technologies  although they have become obsolete now ? 10base2 has 10 mbps  200 m maximum cable length  is a thin coaxial cable in a bus topology ; this is a classical bus topology repeaters are used to connect up to multiple segments repeater repeats bits ; it hears on one interface to the other interface  so this is a physical layer device just for amplification  strengthening the signal  refer slide time  07  19  07  53  this is a figure showing how they are connected we have this thin cable  which has terminated on both the ends and these nodes would be connected using some t connectors over here  and this is the network adapter when a network adapter pushes some signal on to the cable  the transmitted packet travels in both the directions  refer slide time  07  55  08  32  this is just a mention about 10base5  because connecting a 10base5 is more cumbersome and in 10base2  connection would get loose quite often in the earlier days anyway  this is a 10base5 ; it has a thick coaxial cable  the transceiver  and transceiver  drop cable and there would be a network interface card here with this mac unit and protocol control firmware etc as i said  this has become obsolete now  refer slide time  08  33  09  21  let us talk a little about repeaters repeater is a physical layer kind of device  which regenerates the signal  and provides more flexibility in network design because it depends on where we want to extend your lan so if you want to extend your lan in some direction  make running into this distance limitation 200 m for 10base2 etc you may sort of increase that by just putting another segment on the other side of repeater so that you can go another 200 m therefore you can extend the distance over which a signal may travel down a cable ; an example of a repeater is ethernet hub a hub has two purposes  one is to provide a collision domain and replace the cable the other function of the hub is the repeater function ; that means it regenerates the signal this connects  refer slide time  09  48  10  02  together or a repeater or a hub it connects together one or more ethernet cable segments of any media type if an internet segment were allowed to exceed the maximum length or the maximum number of attached systems to the segment  the signal quality would deteriorate  refer slide time  10  03  10  36  you can see that you have one cable segment here this goes up to its maximum distance there is a cable segment too again going up to the maximum distance but we put this repeater in between so that  we can increase the total distance that may be covered these are the different computers connected to the cable it is used between a pair of segments ; this is a simple repeater to provide signal amplification and regeneration to restore a good signal level before sending it from one cable segment to another  refer slide time  10  37  13  02  hubs are essentially physical layer repeaters ; bits come in one link and go out all other links there is no frame buffering or csma/cd at the hub adapters detect the collisions and provide net management functionality  which means that this hub  although it is an active device  in the sense that this has some electronics in it  in its action it is more passive its active component is restricted to the fact that it regenerates the signal ; it amplifies and regenerates it so far as the other intelligence is concerned  like detecting collisions  it does nothing like that if two signals coming at two different ports of the hub come to the hub at the same point of time  they will collide so  a hub is a whole co-axial cable  which has been collapsed into one collision domain inside the hub ; we could look at that way but it does provide some net management functionality that means  if you have a managed hub  there are two kinds of devices the point is that a network is usually a geographically distributed  dispersed kind of entity ; but this has to be managed therefore if there is a problem somewhere  may be some user has put in a complaint  what we will do is that there are so many things which connect from the user to the central network there are cables  may be switches  hubs  and other things  so it is important that you should be able to remotely tell whether some active device is functioning we can not do this on passive things like a cable but there are managed switches and managed hubs etc  whom a central network station may interrogate and find out whether its health is alright or not so if you have a managed hub  you have net management functionality ; of course  the managed hubs are costlier than unmanaged hubs  refer slide time  13  03  13  24  so this is the picture of hub this is a co-axial cable coming in here and this is a t joint ; the t joint is feeding into the hub there may be a number of ports and a number of segments may be connected together  refer slide time  13  25  14  40  now  we come to 10baset ; so far as the physical part is concerned  this 10baset can go on to become 100baset ; that means  from 10 mbps it can go to 100mbps but for this utp  unshielded twisted pair cable of various categories like 3  4  5  etc  are the dominant physical medium and the varying technology today for local area networks we can have category 5 cable data transmission up to 100 mbps and we can go a little bit more on this depending on the distance the impedance of a utp cable is about 100 ohm  give or take another 15 ohm over the useful frequency range of the cable the transmission speed is 0.6 to 0.65 ? c  which is about 2108 m/s time delay is about 5 nanoseconds /m  refer slide time  14  42  15  40  here  you can see there are some 10baset repeaters and then 10base-fl segments this is just to give you an idea about the various delays which are involved the first segment delay is about 0.57 ? s for this 100-m segment  middle segment delay is about 10 ? s and last segment delay of about 0.57 ? s the transceiver delay is about 7 ? s  fl repeater delay is about 1.7 ? s  10baset delay is about 21 ? s and so on all these delays really add up and you have some limit on this in order for your csma/cd to work properly  refer slide time  15  41  15  57  so this is the same data in tabular form it has various types of cables and these are all fibre optic kind of cables  which go up to 2 km or 1 km these are obsolete now ? these are the maximum lengths and these are the delays  the receiver delay and the delay at the repeater and so on now  what happened was that the people moved as the demand for bandwidth grew ; so at least in the lan it moved much faster when lan bandwidth became quite cheap and everybody wanted to move from 10 mbps to the next speed  which is 100 mbps  and this was called fast ethernet one thing was that  when we come to fast ethernet  this co-axial cable really was out so the thing preferred was the unshielded twisted pair or utp category 5 is preferred for 100 mbps operation  although category 4 would also work it is possible to transmit it over category 4 cables also ; but category 5 cables are preferred now one thing about this utp cables is that because they are used for connection from end to end unlike the coaxial cables ? in coaxial cables  we have one cable and many nodes may be connected at intermediate points ? you put a connector  usually an rj45 kind of connector on the two ends and then go into two nodes it is as simple as that so if there are no nodes in between  just two end point connections  where this part of the medium is not shared  at one end may be the computer  and the other end might go into another machine straight away these two machines network together usually the other end would go to a network device let us say  to start with  it might go into a 100 mbps hub so  all the nodes which are connecting  that means which are part of the network  all of them are connected by this utp cable to the central hub so the central hub is a shared medium at the collision domain but so far as the utp part is concerned  there is no collision just as we had the 10base-t  which supported 10 mbps  may be with the same kind of cable with this utp cable  we could support fast ethernet  that is  100base-t there was 100base-tx  but there are some problems with this  one is to increase to 100 mbps  we have got one order of magnitude jump in the speed that is not a mean achievement on the same medium depending on the quality of the medium  as the speed goes up  its performance tends to decrease so depending on what kind of medium it is  there is only a certain amount of bandwidth in a certain range that you can support on that medium so to increase to 100 mbps  different encoding is used to reduce the bandwidth of the transmission encoding data at 100 mbps using manchester encoding would create a bit stream of 200 mbps so  we can not straight away use manchester encoding here  because this is for supporting 200 mbps  we requires at least 100 mhz of analog bandwidth  which is too much category 5 utp cable is rated up to 100 mhz but for keeping some margin etc  transmitting a signal of 100 mhz bandwidth would be unreliable so what we do is that instead of manchester encoding  we use a different kind encoding  which is called multiple or multilevel encoding to reduce the bandwidth  a different encoding scheme is required 100base-tx uses a multiple level encoding scheme  that is mlt3  multiple level transition 3 the bandwidth required in this case has come down quite sharply to 31.25 mhz the encoding is somewhat like this ? 0  there is no transition and 1  there is a transition and this transition could be of various types from low to 0  high to 0  0 to low or 0 to high  depending on the context for example  this is a 10110001110 that is being encoded suppose with the 1 there is a transition from 0 to low  that is  0 to low level  then for 0 there is no transition  after 0 there is 1 now there is a transition ; since we go to low now  and the only place to go to is high  we go to a high and then there is another 1 and since we are going high  we go high some more  that is  another 1 should this go from 0 to high  then three 0s  that is  no transition at all then from 0 to 1  now from high since 1 has come  you will have to come to low and again another one has come ; we are going in the downward direction so we continue from 0 to low and then  another 1 from low to high and then 0 ; there is no transition so  this is the way an mlt encodes using different levels or multiple levels of signals this reduces the net analog bandwidth requirement for the cable so this is how  the ten-fold increase in the speed was achieved on the same physical infrastructure so bandwidth required for mlt is half the bandwidth required for a two-level scheme half is a rough figure long stream of zeros will cause the line to hold a constant voltage and lose clocking  synchronization is necessary to read the signal this is one problem  which is handled in various ways one way is to encode each 4-bit sequence as a 5-bit pattern 4b5b encoding in this 4b5b encoding what is done is that instead of a 4-bit sequence we introduce a 5-bit sequence so we get some transition and we can hold on to synchronization this pushes up the bit rate to 125mbps for100base-tx  where data is only 125mbps/4 = 31.25 mhz category 3 or 4 cable is used for a rate of 100 mbps by using all four twisted pairs in the utp cable ; so this is also possible three pairs will transmit data while the fourth pair is used by each station for collisions as in 10base-tx  a three-level signal is transmitted in 100base-t4 t4 is when we are using category 4 cable but the data rate must be minimised further therefore the signal is broken into 8-bit sequence and each 8-bit sequence is represented as 6 three level signals  or 8/6t if we are trying to put in a new network today we are never going to use category 4 utp  we are always use category 5 or better you know about the increasing requirement of speed in the lan  but these techniques were developed so that ethernet could move into some existing physical infrastructure like wiring  where category 4 cable is used for moving from 10 to 100 mbps ; that is why these were developed fast ethernet is done with cabling of the following types ? 100base-t4 with category 5 100base-tx ; and 100base-fx is quite common as i said  10base-fl has become outdated but 100base-fx is still there  which uses fibre optics and goes up to 2 km category 5 utp goes only up to 100 m or may be some people are conservative and limit it to 75 m at full duplex at 100mbps  fibre is again full duplex at 100 mbps ; these are the advantages the advantage of t4 is that  it uses existing category 3 utp these are the repeater delays 10base-t and 100base-tx wiring goes like this ? from the end station a maximum distance of 100 m to the hub we can use multiple hubs  a maximum of four  to increase the distance between any two stations ; a hub may go to another hub ; that may go to a station again now  there are three segments we can use a maximum of four hubs and five segments with 100 m from the node to the hub for upgrading from 10base-t to 100base-tx  we need new hubs or switches you may have some 10 mbps ports to handle 10base-t ; nics may have auto sensing 10/100 ports that handle either auto sensing ports are quite common as a matter of fact  most of the network interface cards you get today are 10/100 ; that means they are auto sensing ports an nic senses the network device at the other end if the other end supports a rate of 100 mbps  this nic will operate at 100 mbps if it senses that the opposite end can handle only 10 mbps  it will use only 10 mbps by the way  if there are problems with the varying connection  etc  it may send 100 mbps port as 10 mbps so  if you want to upgrade from 10base-t to 100base-tx  you may need new nics  and only for stations that need more speed and no need to rewire ? that may be a big advantage in some cases we may have 100 multiple hubs  one connecting to the other ; you can have multiple hubs for connecting etc in 100base-tx there is a limitation that you can have only maximum two hubs and they must be within a few meters of each other so  the maximum span using these hubs is only 200 m  which is shorter than 10base-t it could be a big problem and that is why 100 mbps hubs are also becoming obsolete people have migrated from hubs to switches  and that is what we will be talking about so if you had used hubs  this would have been a limitation ; but nowadays people do not usually use hubs we will come back to the topic about hubs and switches later on what happened is that this development went on and now we are moving into the era of gigabit ethernet the gigabit ethernet in the desktop is still not very common  but it is coming and for servers etc  nowadays we routinely get gigabit ports and  may be  soon your desktop computer may also be connected with gigabit ports so  this is a depiction of a two-station ethernet ? two computers connected straight away  this is a switch or a hub which operates at gigabit speed so  these allow point-to-point links and shared broadcast channels through some hubs if they are there in shared mode  csma/cd is used for the short distance between the nodes to be efficient ; but this is not very common it uses standard ethernet frame format 802.3z ; the normal mode is full duplex mode with a central switch this is the most common one connected to computers in this configuration all lines are buffered on the right-hand side  you see one switch and the nodes are connected straight to the switch so this is a switch rather than a hub  where each of the ports has a buffering since each of the port is buffered  contention is impossible ; because data can always and gets it on the buffer so  it makes no sense to the channel to see if it is idle or not because if there is no contention  csma/cd protocol is not used at all and this is the mode  in which gigabit is usually used  although there are buffered distributors also now people are talking about moving to 10 gbps  at least in the metropolitan area network they use copper and fibre with 850 nm or 1300 nm lasers and some kind of encoding the ethernet is moving really fast  because it is upgrading quite fast ? it went from 10 mbps to 100 mbps ; from 100 mbps we are moving to 1gbps ; and from 1gbps  we can see the possibility of moving to 10 gbps  and 10 gbps is already in operation today from 10 mbps to 10 gbps is a 1000-fold increase in a very short span of time  which is really amazing for gigabit  refer slide time  32  16  32  56  ethernet  we have 1000base-sx ; this sx shows the multimode fibre for 1000base  so the maximum segment size would be about 550 m 1000base-lx uses single or multimode  so this goes upto 5000 m shielded twisted pair would only take to 25 m and 1000baset can go up to 100 m using category 5  category 5b or  for gigabit ethernet  category 6 is preferred we will talk more in detail about the switching  which is very important so  ethernet is  refer slide time  33  17  33  38  usually considered as a shared media lan only one station can be transmitted at a time even when you have multiple hubs  these hubs are all shared domain  which means that only one can transmit all other stations must wait while one station sends so this is the big limitation of latency and congestion with hubs  refer slide time  33  39  33  45  to improve this  people moved over from hubs to switches packet switches are very useful they give you improved security users are less able to tap into other users ? data in a shared medium  we know everything is being broadcast so all packets are going to every other node that is poor security ; this gives you much better security ; better management ? we can control who receives what information that means  even using a switch  even within a lan  we can create a work group and make users members of different virtual lans these virtual lans may be packet filtering between the virtual lans  etc  to give a better management and limit the impact of network problems this switch will also give you full duplex communication  rather than half duplex one side effect of having a shared medium is that only one sends  and every body else is in the receiving mode obviously that channel can not work as a full duplex mode because two of them can not send simultaneously at the same time  only one may be sending and the other may send at most  this works as a half duplex channel  whereas over here this can work as full duplex channel a hub simulates a single  refer slide time  35  20  36  07  shared medium  whereas switch simulates a bridged lan with one computer per segment for example  we have only one computer and many segments  and there is only one computer for each segment so it does not have any collision and from two different computers you can send data at the same time to the switch the switch will buffer it and there will be no collision so collision detection may be eliminated some of these may connect to a hub instead of going to a computer so a switch may be connected to another switch  that switch may connect to hub  and that hub may connect to so many computers so there are many possibilities  refer slide time  36  08  36  01  ethernet switches are highly scalable we had 10base originally ; we went from 10baset hubs to 10baset switches 10baset switches are increasingly being replaced by 100base-tx switches with auto sensing codes 100base-tx switches are very common these days  they have higher performance and their costs have come down these days we get 100base-tx switch at the cost of what a 10baset hub would cost a few years ago we can see how the technology and the economy have improved gigabit ethernet switches are still expensive ; it will take some more time in order for them to move to the desktop  refer slide time  37  02  37  16  other advantages of switches are that there are no limits on the number of ethernet switches between the farthest stations and no distance limit on size of switched networks you remember when we were talking about 100base-tx and when we were using 100 base tx hubs you can only have a maximum of two hubs and these two hubs have to be close together ; they can not go far long so  the maximum span of a local area network could almost be 200 m  which was really a limitation  but then people moved to100base-tx they also moved from hubs to switches with these switches  now there is no problem because the distance limitation had to do with the round-trip propagation delay and things like that since there is no contention and the switches have buffers  there is no distance limitation at all you can have any number of switches connected to each other ; there is no distance limit on size of switched networks so often individual hosts  are connected to switches and may be different switches are also connected this is ethernet without collisions or csma/cd  refer slide time  38  17  38  55  here  we have a  b  c  and so on suppose a wants to communicate with a ' and b wants to communicate with b '  both the communications may take place simultaneously this is a switch if this had been a hub that would not be possible but since this is a switch  b can communicate to b ' and a can communicate to a '  just as in a telephone switch  two pairs or distinct pairs of people can communicate at the same time similarly  two distinct pairs of machines  through this packet switch  can communicate at the same time  refer slide time  38  56  39  22  this is essentially a multi-interface bridge ; it has a layer 2 frame forwarding  filtering using lan addresses ; lan addresses mean mac addresses we will talk more about mac addresses presently it allows switching a to a ' and b to b ' simultaneously  but there are no collisions this can have a large number of interfaces a modern switch may have hundreds of ports  so hundreds of machines can be connected to the same switch similarly  a number of such switches can connect to each other ethernet switches  refer slide time  39  34  40  04  must be arranged in a hierarchy or daisy chain with only one possible path between any two stations suppose  from 4 to 3 there is only a single path that is 4  2  1  3 ; you do not make a loop connecting two ports of a switch because that would really create a lot of problem therefore  ethernet switches must be arranged in a hierarchy or daisy chain there is only one possible path between any two stations or switches  refer slide time  40  05  42  27  a station is an ethernet frame switch plug-in card it checks to see if it is destined to the same card if so  the frame is copied there we mentioned that in a packet switch  usually the ports would be grouped into small groups and each of these groups will go into a particular line card this line card is similar to the ethernet a switch is nothing but a packet switch ; there will be line cards over there and may be 4 lines coming to one particular line card and may be there are 8 line cards for a 32-port switch now  for those that are coming into the line card  there are variations of how they are handled by the line card it could be that a frame which has arrived in a switch plug in card is destined to the same card ; that means it is destined to some other line in the same card if so  the frame is simply copied there ; if not  the frame is sent now these line cards should get connected to each other through the backplane if the frame is sent over from the high-speed backbone to the destinations card  it will travel to the other distinct destination through the switching fabric this backplane may be active or passive ; they are of various types anyway  the backbone typically runs at many gigabits per second as a matter of fact  nowadays it is possible to have a high-end switch with something of the order of 100 gbps backplane switch it is a very high-speed switch that can support a lot of machines at the same time if two machines attached to the same plug in card transmit frames at the same time  what would happen ? there are two machines attached to the same plug in a card and they transmit frames at the same time ? what would happen would really depend on the way the card handles it ; here there are some variations for example  let us say  there are 4 line cards ? 1  2  3  4 ? coming into this one particular line card line 1 and line 2 frames arrived simultaneously and both of them are destined to line 3 ; what is going to happen ? it depends on how it is handled one possibility  refer slide time  42  54  43  41  could be that all the ports on the card are wired together to form a local  on-card lan this lan card itself is a local on-card lan  and on this on-card lan  there will be a csma/cd network csma/cd may operate on that particular card itself ; in that case  there will be a collision that will be detected only one transmission per card is possible at any instant of time  so if you are doing that  you have made that line card to be a shared medium all the cards can be transmitting in parallel ; the different cards may be transmitting in parallel each card forms its own csma/cd network independent of the others ; that is one possibility  refer slide time  43  42  44  04  the other possibility is that the plug-in card of each input port is buffered ; so incoming frames are stored in the cards on board this allows all input ports to receive or transmit frames at the same time for a parallel  full duplex operation this is not possible with csma/cd on a single channel previously we had talked about buffers in packet switches we mentioned how buffers could be on input side  how buffers could be on output side and distributed through out the switch fabric that was from the point of view of handling head of line  blocking  switching  speed etc here  it is slightly different in the sense that if there is some small buffer at each of the ports and on input side  full duplex transmission at the same time is possible on all the lines instead of making a local csma/cd and allowing some kind of collision  this naturally is a better kind of switch once a frame has been completely received  the card will then check to see the frame is destined for another port on the same card  or for a distant port in the a case  it can be directed to the destination ; in the b case it must be transmitted over the backbone to the proper card  refer slide time  45  12  45  21  each port has a separate csma/cd so collisions do not occur there is now no question of any csma/cd because each port has only one machine  refer slide time  45  23 45  51  then there is another term called cut through switching  frame forwarded from input to output port without waiting for assembly of the entire frame that means even when the frame has not fully come in  the bits are transmitted and there is a slight reduction in latency so  combinations of shared dedicated 10/100/1000 mbps interfaces are possible on the same switch you might get some 10 mbps ports  some 100 mbps ports  also some 1000 mbps or giga bit ports for uplinking to the main backbone  refer slide time  46  03  48  04  this is a typical lan of an ip network let us look at this figure ? some hubs are remaining  but these hubs will give way to switches from 10baset to 100baset very soon  but let us say  there is a legacy system  through which some 10baset hubs and some computers are connected to this these hubs may be connected to a switch this switch could be connected to another switch and that switch might connect to some other nodes  etc this constitutes the lan ? may be there is a 100 mbps connection from this switch to the mail server  because mail server may be something which everybody is using this is a server  and you might want to have a higher speed of this one also ? these are 10 mbps ports you might want to make it 100 mbps there is a www server  that is  a web server  which is also connected through a 100 mbps port so from the same switch  you may connect to some hubs  you may connect to some servers  you may connect to some individual desktops  pcs or machines so this is what the lan part looks like and of course  nowadays nobody would want a lan which is standing by itself people want to connect their lans to the internet  which is the great network of networks there are probably lot of networks  may be millions of networks  in other places ; we want to connect to other networks also so we have to go through what is known as a router we go through a router to the external internet we will be talking about this part when we talk about the network layer in more detail ; so this is a typical picture of a lan  refer slide time  48  05  48  34  if we abstract this a little bit  we have a lan  and different nodes or the different machines are connected to this lan and then there is a router  which connects you to the internet this internet may be a connection between a lot of different networks  may be a lot of different lans to their own routers etc this is a slightly more abstract view  refer slide time  46  35  48  39  and then looking into it in detail in the lan part of it  if we go to the previous picture   refer slide time  48  40  48  44  this is the lan part of it and these nodes are connected these nodes are usually connected  refer slide time  48  45  51  34  through adapters that means the network interface card  nic  or the adapter these nodes may communicate with each other in the lan if it is connected to the internet naturally it may communicate with the other machines in the outside world also ; but let us for the time being just focus our attention on the nodes which are in the lan  and they are sort of trying to talk to each other if they want to talk to each other using either a hub or a switch  or in this case  the ethernet frame format  what is going to happen is that the frame format has certain fields and those fields have to be filled up that means the destination address has to be there  and the destination address is the lan address or the mac address or the hardware address sometimes this is also called an ethernet address and this ethernet address is distributed by ieee ; the manufacturers of these adapters buy blocks of addresses from ieee and these are all 6-byte addresses  something like this  1a23f9  each of then is 1 byte and if you look at this figure  say 1a23f9cd069b and 88b22a do not have any relationship with each other they are just 6 bytes  may be 6 arbitrary bytes this card may have come from some manufacturer and got entirely different blocks from ieee  the other may have an entirely different address  which has no relationship with the other ; but they are all sharing this lan there is a small problem ? how does the source node get to know the destination address ? one thing is sure ? since one central agency  namely ieee  gives this ethernet addresses  each adapter on lan has a unique lan address ; no two adapters will ever have the same address sometimes  there may be some nodes with a number of lan addresses  with a number of adapters etc  but one particular adapter will have one unique address  two addresses will never be the same the point is that  how do get to know this is the source ? this is a destination ? how does the source know the destination  lan address or the mac address ?  refer slide time  51  35  51  46  there are at least two kinds of addresses  which are used in networks one is the ip address  which is used by the network layer to decide on the total route from the source to the destination what will happen is that it will know where it will have to go ; in order to reach its destination address  it must have some kind of relationship with geography and then  there are these hardware or mac addresses  which are at a lower level and are just as unique ; they do not have any relationship with each other so we have this 32-bit ip addresses   refer slide time  52  32  52  50  network layer addresses used to get datagram to the destination ip we have lan  mac  physical  ethernet or hardware address used to get datagram from one interface to another physically connected interface in the same network so this is a 48-bit mac address for most lans burned in the adapter rom  refer slide time  52  51  53  01  analogy of mac address is like a social security number ; ip address is like postal address the question is how do you get to know the  refer slide time  53  02  53  16  other person ? s address ? address translation  how does a host know the mac address of the other host in its local area network ? and secondly  how does a router determine the mac address from the ip address of a host ? this are two interrelated questions  refer slide time  53  17  53  36  we need some kind of a translator for ip addresses from mac addresses address translation can be static or dynamic ; static translation means you keep some static table static translation requires a lot of book-keeping work from system administration and this is not feasible  refer slide time  53  37  54  39  we have this address resolution protocol or automatic resolution protocol  the so-called arp protocol  which is a dynamic address translation scheme if the destination ip address is not in the local arp cache ? arp cache is a table  which is stored in the local machine and which gives this ip address to mac address mapping  the broadcast query for that address  ? at the most one host will reply because the ip address will match with only one of the host addresses so  the arp table entries are cached for up to 15 minutes  unless if refreshed it is firmly at 15 minutes so that a machine can go from one lan and can also be shifted to another lan what will happen is that these old entries must automatically wash out and if the new entries communicate to their communicating machine  their mac addresses are going to come into the cache so this is how it is always kept fresh arp uses layer 2 broadcasting  refer slide time  54  40  54  59  each ip node on lan has an arp table arp table is ip  mac address mapping for some lan nodes and there is a time to leave  something like 15 minutes or so  it depends on the time after which the address mapping will be forgotten ? it is typically around 15  20 or 25 minutes  refer slide time  55  00  55  36  so starting at a  we want to send a datagram addressed to b we look up the net address of b or link layer what will happen is that we want we do not need b ? s mac address that means this 2 23.1.1.1 is an ip address ? we know it is b ? s ip address  but we want to know its mac address so a ? s ip address  b ? s ip address and some ip pay load form a frame like this  which is broadcast  refer slide time  55  37  56  08  a wants to send datagram to b and a knows b ? s ip address suppose b ? s mac address is not in the arp table  a broadcasts an arp query packet containing b ? s ip address all machines on lan receive the arp query b receives the arp packet ; replies to a with b ? s mac address ; the frame is sent to a ? s mac address  which is unicast it is now specifically given as mac address is known  because a sent the query with a source address  refer slide time  56  09  56  34  a cache saves ip to mac address pair in its arp table until information becomes old  that is  it times out but if it is being used  then it will not become older so in a soft state  information that times out  goes away unless refreshed arp is plug and play  otherwise it will get washed out and new entries will come in automatically nodes create their arp table without intervention from the node administrator  refer slide time  56  35  56  53  all hosts receive the request but only b responds with the ip address ; however  other nodes may update their own cache from the transaction the cache is required since broadcast is a very expensive proposition and more than one packet transfer is very likely between any two stations  refer slide time  56  54  57  12  this is an important question  what is a network ? we always talk about networks ; it is the interconnected nodes in the same broadcast domain we are doing the broadcast ? this broadcast is limited to that domain networks are connected through routers  refer slide time  57  13  57  30  when we want to route to another lan  it is more involved we will talk about going through a router and then we will specifically discuss bridges thank you  refer slide time  57  45  57  47  today we will be talking about local internetworking  refer slide time  57  56  58  18  our topic of today is local internetworking  what is internetworking ? internetworking is connection of different networks  everybody is aware of the term internet today why are comes to this term internetworking and by internetworking we mean connecting different networks just to remind you   refer slide time  58  20  58  40  what is a network ? we discussed this in the last lecture that the interconnected nodes in the same broadcast domains and networks are usually connected through routers but as we will see for local internetworking we may not need a router we may need something called the bridge we will come to that this is the set of nodes which are in the same broadcast domain  this broadcast may be a good thing to have for some applications but for the operation of the network there is one very crucial reason  why we require the broadcast that is to discover the mac addresses of the different computers 
operating/VBG/operating systems/system/JJ/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/1/CD/04/1 module/NN/module 19/CD/19 /:/: system/NN/system administration/NN/administration in/IN/in unix/NN/unix in/IN/in the/DT/the context/NN/context of/IN/of the/DT/the os/NNS/os service/NN/service provisioning/VBG/provisioning /,/, system/NN/system administration/NN/administration plays/NNS/plays a/DT/a pivotal/JJ/pivotal role/NNP/role. this/DT/this is/VBZ/is particularly/RB/particularly the/DT/the case/NN/case when/WRB/when a/DT/a system/NN/system is/VBZ/is accessed/VBN/accessed by/IN/by multiple/NN/multiple users/NNP/users. the/DT/the primary/JJ/primary task/NN/task of/IN/of a/DT/a system/NN/system administrator/NN/administrator is/VBZ/is to/TO/to ensure/VB/ensure that/IN/that the/DT/the following/VBG/following happens/NNS/happens /:/: a/NNP/a. the/DT/the top/JJ/top management/NN/management is/VBZ/is assured/VBN/assured of/IN/of efficiency/NN/efficiency in/IN/in utilization/NN/utilization of/IN/of the/DT/the system/NN/system 's/POS/'s resources/NNP/resources. b/NNP/b. the/DT/the general/JJ/general user/NN/user community/NN/community gets/VBZ/gets the/DT/the services/NNS/services which/WDT/which they/PRP/they are/VBP/are seeking/NNP/seeking. in/IN/in other/JJ/other words/NNS/words /,/, system/NN/system administrators/NNS/administrators ensure/VBP/ensure that/IN/that there/EX/there is/VBZ/is very/RB/very little/JJ/little to/TO/to complain/VB/complain about/IN/about the/DT/the system/NN/system 's/POS/'s performance/NN/performance or/CC/or service/NN/service availability/NNP/availability. in/IN/in linux/NN/linux environment/NN/environment with/IN/with single/JJ/single user/NN/user pc/NN/pc usage/NN/usage /,/, the/DT/the user/NN/user also/RB/also doubles/VBZ/doubles up/RP/up as/RB/as a/DT/a system/NN/system administrator/NNP/administrator. much/RB/much of/IN/of what/WP/what we/PRP/we discuss/VBP/discuss in/IN/in unix/NN/unix context/NN/context applies/NNS/applies to/TO/to linux/VB/linux as/IN/as well/NNP/well. in/IN/in all/DT/all unix/NN/unix flavours/NNS/flavours there/EX/there is/VBZ/is a/DT/a notion/NN/notion of/IN/of a/DT/a superuser/NN/superuser privilege/NNP/privilege. most/JJS/most major/JJ/major administrative/JJ/administrative tasks/NNS/tasks require/VBP/require that/IN/that the/DT/the system/NN/system administrator/NN/administrator operates/VBZ/operates in/IN/in the/DT/the superuser/NN/superuser mode/NN/mode with/IN/with root/NN/root privileges/NNP/privileges. these/DT/these tasks/NNS/tasks include/VBP/include starting/VBG/starting up/RP/up and/CC/and shutting/VBG/shutting down/IN/down a/DT/a system/NN/system /,/, opening/VBG/opening an/DT/an account/NN/account for/IN/for a/DT/a new/JJ/new user/NN/user and/CC/and giving/VBG/giving him/PRP/him a/DT/a proper/NN/proper working/VBG/working set-up/NNP/set-up. administration/NN/administration tasks/NNS/tasks also/RB/also involve/VBP/involve installation/NN/installation of/IN/of new/JJ/new software/NN/software /,/, distributing/VBG/distributing user/NN/user disk/NN/disk space/NN/space /,/, taking/VBG/taking regular/JJ/regular back-ups/NNS/back-ups /,/, keeping/VBG/keeping system/NN/system logs/NNS/logs /,/, ensuring/VBG/ensuring secure/NN/secure operations/NNS/operations and/CC/and providing/VBG/providing network/NN/network services/NNS/services and/CC/and web/NN/web access/NNP/access. we/PRP/we shall/MD/shall begin/VB/begin this/DT/this module/NN/module by/IN/by enlisting/NN/enlisting the/DT/the tasks/NNS/tasks in/IN/in system/NN/system administration/NN/administration and/CC/and offering/NN/offering exposition/NN/exposition on/IN/on most/JJS/most of/IN/of these/DT/these tasks/NNS/tasks as/IN/as the/DT/the chapter/NN/chapter develops/NNP/develops. 19.1/CD/19.1 unix/CD/unix administration/NN/administration tasks/NNS/tasks most/JJS/most users/NNS/users are/VBP/are primarily/RB/primarily interested/JJ/interested in/IN/in just/RB/just running/VBG/running a/DT/a set/NN/set of/IN/of basic/JJ/basic applications/NNS/applications for/IN/for their/PRP$/their professional/JJ/professional needs/NNP/needs. often/RB/often they/PRP/they can/MD/can not/RB/not afford/VB/afford to/TO/to keep/VB/keep track/NN/track of/IN/of new/JJ/new software/NN/software releases/NNS/releases and/CC/and patches/NNS/patches that/WDT/that get/VB/get announced/NNP/announced. also/RB/also /,/, rarely/RB/rarely they/PRP/they can/MD/can install/VB/install these/DT/these themselves/NNP/themselves. in/IN/in addition/NN/addition /,/, these/DT/these are/VBP/are non-trivial/JJ/non-trivial tasks/NNS/tasks and/CC/and can/MD/can only/RB/only be/VB/be done/VBN/done with/IN/with superuser/NN/superuser privileges/NNP/privileges. users/NNS/users share/VBP/share resources/NNS/resources like/IN/like disk/NN/disk space/NN/space /,/, etc/FW/etc. so/RB/so there/RB/there has/VBZ/has to/TO/to be/VB/be some/DT/some allocation/NN/allocation policy/NN/policy of/IN/of the/DT/the disk/NN/disk space/NNP/space. a/DT/a system/NN/system administrator/NN/administrator needs/VBZ/needs to/TO/to implement/VB/implement such/JJ/such a/DT/a policy/NNP/policy. system/NN/system administration/NN/administration also/RB/also helps/VBZ/helps in/IN/in setting/NN/setting up/IN/up user/NN/user 's/POS/'s working/NN/working environments/NNP/environments. on/IN/on the/DT/the other/JJ/other hand/NN/hand /,/, the/DT/the management/NN/management is/VBZ/is usually/RB/usually keen/VBN/keen to/TO/to ensure/VB/ensure that/IN/that the/DT/the resources/NNS/resources are/VBP/are used/VBN/used properly/RB/properly and/CC/and efficiently/NNP/efficiently. they/PRP/they seek/VBP/seek to/TO/to monitor/NN/monitor the/DT/the usage/NN/usage and/CC/and keep/VB/keep an/DT/an account/NN/account of/IN/of system/NN/system usage/NNP/usage. in/IN/in fact/NN/fact /,/, the/DT/the system/NN/system usage/NN/usage pattern/NN/pattern is/VBZ/is often/RB/often analysed/VBN/analysed to/TO/to help/VB/help determine/NN/determine the/DT/the efficacy/NN/efficacy of/IN/of operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/2/CD/04/2 usage/NNP/usage. clearly/RB/clearly /,/, managements/NNS/managements '/POS/' main/JJ/main concerns/NNS/concerns include/VBP/include performance/NN/performance and/CC/and utilisation/NN/utilisation of/IN/of resources/NNS/resources to/TO/to ensure/VB/ensure that/IN/that operations/NNS/operations of/IN/of the/DT/the organisation/NN/organisation do/VBP/do not/RB/not suffer/NNP/suffer. at/IN/at this/DT/this juncture/NN/juncture it/PRP/it may/MD/may be/VB/be worth/JJ/worth our/PRP$/our while/IN/while to/TO/to list/NN/list major/JJ/major tasks/NNS/tasks which/WDT/which are/VBP/are performed/VBN/performed by/IN/by system/NN/system administrators/NNP/administrators. we/PRP/we should/MD/should note/VB/note that/IN/that most/JJS/most of/IN/of the/DT/the tasks/NNS/tasks require/VBP/require that/IN/that the/DT/the system/NN/system administrator/NN/administrator operates/VBZ/operates in/IN/in superuser/NN/superuser mode/NN/mode with/IN/with root/NN/root privileges/NNP/privileges. 19.1.1/CD/19.1.1 administration/NN/administration tasks/NNS/tasks list/VBP/list this/DT/this is/VBZ/is not/RB/not an/DT/an exhaustive/JJ/exhaustive list/NN/list /,/, yet/CC/yet it/PRP/it represents/VBZ/represents most/JJS/most of/IN/of the/DT/the tasks/NNS/tasks which/WDT/which system/NN/system administrators/NNS/administrators perform/NN/perform /:/: 1/CD/1. system/NN/system startup/NN/startup and/CC/and shutdown/NN/shutdown /:/: in/IN/in the/DT/the section/NN/section 19.2/CD/19.2 /,/, we/PRP/we shall/MD/shall see/VB/see the/DT/the basic/JJ/basic steps/NNS/steps required/VBN/required to/TO/to start/VB/start and/CC/and to/TO/to stop/VB/stop operations/NNS/operations in/IN/in a/DT/a unix/NN/unix operational/JJ/operational environment/NNP/environment. 2/NNP/2. opening/VBG/opening and/CC/and closing/JJ/closing user/NN/user accounts/NNS/accounts /:/: in/IN/in unix/NN/unix an/DT/an administrator/NN/administrator is/VBZ/is both/DT/both a/DT/a user/NN/user and/CC/and a/DT/a super-user/NNP/super-user. usually/RB/usually /,/, an/DT/an administrator/NN/administrator has/VBZ/has to/TO/to switch/VB/switch to/TO/to the/DT/the super-user/JJ/super-user mode/NN/mode with/IN/with root/NN/root privileges/NNS/privileges to/TO/to open/VB/open or/CC/or close/JJ/close user/NN/user accounts/NNP/accounts. in/IN/in section/NN/section 19.3/CD/19.3 /,/, we/PRP/we shall/MD/shall discuss/VB/discuss some/DT/some of/IN/of the/DT/the nuances/NNS/nuances involved/VBD/involved in/IN/in this/DT/this activity/NNP/activity. 3/NNP/3. helping/VBG/helping users/NNS/users to/TO/to set/VB/set up/RP/up their/PRP$/their working/NN/working environment/NN/environment /:/: unix/NN/unix allows/VBZ/allows any/DT/any user/NN/user to/TO/to customize/VB/customize his/PRP$/his working/NN/working environment/NNP/environment. this/DT/this is/VBZ/is usually/RB/usually achieved/VBN/achieved by/IN/by using/NN/using .rc/JJ/.rc files/NNP/files. many/JJ/many users/NNS/users need/VBP/need help/NN/help with/IN/with an/DT/an initial/JJ/initial set-up/NN/set-up of/IN/of their/PRP$/their .rc/JJ/.rc files/NNP/files. later/JJ/later /,/, a/DT/a user/NN/user may/MD/may modify/VB/modify his/PRP$/his .rc/JJ/.rc files/NNS/files to/TO/to suit/VB/suit his/PRP$/his requirements/NNP/requirements. in/IN/in section/NN/section 19.4/CD/19.4 /,/, we/PRP/we shall/MD/shall see/VB/see most/RBS/most of/IN/of the/DT/the useful/JJ/useful .rc/NN/.rc files/NNS/files and/CC/and the/DT/the interpretations/NNS/interpretations for/IN/for various/JJ/various settings/NNS/settings in/IN/in these/DT/these files/NNP/files. 4/NNP/4. maintaining/NN/maintaining user/NN/user services/NNS/services /:/: users/NNS/users require/VBP/require services/NNS/services for/IN/for printing/VBG/printing /,/, mail/NN/mail web/NN/web access/NN/access and/CC/and chat/NNP/chat. we/PRP/we shall/MD/shall deal/VB/deal with/IN/with mail/NN/mail and/CC/and chat/WP/chat in/IN/in section/NN/section 19.4/CD/19.4 where/WRB/where we/PRP/we discuss/VBP/discuss .rc/JJ/.rc files/NNS/files and/CC/and with/IN/with print/NN/print services/NNS/services in/IN/in section/NN/section 19.5/CD/19.5 where/WRB/where we/PRP/we discuss/VBP/discuss device/NN/device management/NN/management and/CC/and services/NNP/services. these/DT/these services/NNS/services include/VBP/include spooling/VBG/spooling of/IN/of print/NN/print jobs/NNS/jobs /,/, provisioning/VBG/provisioning of/IN/of print/NN/print quota/NN/quota /,/, etc/FW/etc. 5/CD/5. allocating/NN/allocating disk/NN/disk space/NN/space and/CC/and re-allocating/JJ/re-allocating quotas/NNS/quotas when/WRB/when the/DT/the needs/NNS/needs grow/VBP/grow /:/: usually/RB/usually there/RB/there would/MD/would be/VB/be a/DT/a default/NN/default allocation/NNP/allocation. however/RB/however /,/, in/IN/in some/DT/some cases/NNS/cases it/PRP/it may/MD/may be/VB/be imperative/JJ/imperative to/TO/to enhance/NN/enhance the/DT/the allocation/NNP/allocation. we/PRP/we shall/MD/shall deal/VB/deal with/IN/with the/DT/the device/NN/device oriented/VBD/oriented services/NNS/services and/CC/and management/NN/management issues/NNS/issues in/IN/in section/NN/section 19.5/CD/19.5. 6/CD/6. installing/VBG/installing and/CC/and maintaining/VBG/maintaining software/NN/software /:/: this/DT/this may/MD/may require/VB/require installing/VBG/installing software/NN/software patches/NNS/patches from/IN/from time/NN/time to/TO/to time/NNP/time. most/JJS/most oss/NNS/oss are/VBP/are released/VBN/released with/IN/with some/DT/some bugs/NNS/bugs still/RB/still present/NNP/present. often/RB/often with/IN/with usage/NN/usage these/DT/these bugs/NNS/bugs are/VBP/are identified/VBN/identified and/CC/and patches/NNS/patches released/NNP/released. also/RB/also /,/, one/CD/one may/MD/may have/VB/have some/DT/some software/NN/software installed/VBD/installed which/WDT/which satisfies/NNS/satisfies a/DT/a few/JJ/few of/IN/of the/DT/the specialized/VBN/specialized needs/NNS/needs of/IN/of the/DT/the user/NN/user operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/3/CD/04/3 community/NNP/community. as/IN/as a/DT/a convention/NN/convention this/DT/this is/VBZ/is installed/VBN/installed in/IN/in the/DT/the directory/NN/directory /usr/local/bin/NNP//usr/local/bin. the/DT/the local/JJ/local is/VBZ/is an/DT/an indicator/NN/indicator of/IN/of the/DT/the local/JJ/local /NN/( and/CC/and therefore/RB/therefore a/DT/a non-standard/JJ/non-standard /NN/) nature/NN/nature of/IN/of software/NNP/software. we/PRP/we shall/MD/shall not/RB/not discuss/VB/discuss the/DT/the software/NN/software installation/NN/installation as/IN/as much/JJ/much of/IN/of it/PRP/it is/VBZ/is learned/VBN/learned from/IN/from experienced/VBN/experienced system/NN/system administrators/NNS/administrators by/IN/by assisting/VBG/assisting them/PRP/them in/IN/in the/DT/the task/NNP/task. 7/NNP/7. installing/NN/installing new/JJ/new devices/NNS/devices and/CC/and upgrading/VBG/upgrading the/DT/the configuration/NN/configuration /:/: as/IN/as a/DT/a demand/NN/demand on/IN/on a/DT/a system/NN/system grows/VBZ/grows /,/, additional/JJ/additional devices/NNS/devices may/MD/may need/VB/need to/TO/to be/VB/be installed/NNP/installed. the/DT/the system/NN/system administrator/NN/administrator will/MD/will have/VB/have to/TO/to edit/VB/edit configuration/NN/configuration files/NNS/files to/TO/to identify/VB/identify these/DT/these devices/NNP/devices. some/DT/some related/JJ/related issues/NNS/issues shall/MD/shall be/VB/be covered/VBN/covered in/IN/in section/NN/section 19.5/CD/19.5 later/JJ/later in/IN/in this/DT/this chapter/NNP/chapter. 8/NNP/8. provisioning/NN/provisioning the/DT/the mail/NN/mail and/CC/and internet/NN/internet services/NNS/services /:/: users/NNS/users connected/VBD/connected to/TO/to any/DT/any host/NN/host shall/MD/shall seek/VB/seek mail/NN/mail and/CC/and internet/NN/internet web/NN/web access/NNP/access. in/IN/in addition/NN/addition /,/, almost/RB/almost every/DT/every machine/NN/machine shall/MD/shall be/VB/be a/DT/a resource/NN/resource within/IN/within a/DT/a local/JJ/local area/NN/area network/NNP/network. so/RB/so for/IN/for resource/NN/resource too/RB/too the/DT/the machine/NN/machine shall/MD/shall have/VB/have an/DT/an ip/NN/ip address/NNP/address. in/IN/in most/JJS/most cases/NNS/cases it/PRP/it would/MD/would be/VB/be accessible/JJ/accessible from/IN/from other/JJ/other machine/NN/machine as/IN/as well/NNP/well. we/PRP/we shall/MD/shall show/VB/show the/DT/the use/NN/use .mailrc/NN/.mailrc files/NNS/files in/IN/in this/DT/this context/NN/context later/NN/later in/IN/in section/NN/section 19.4/CD/19.4. 9/CD/9. ensuring/VBG/ensuring security/NN/security of/IN/of the/DT/the system/NN/system /:/: the/DT/the internet/NN/internet makes/VBZ/makes the/DT/the task/NN/task of/IN/of system/NN/system administration/NN/administration both/DT/both interesting/JJ/interesting and/CC/and challenging/NNP/challenging. the/DT/the administrators/NNS/administrators need/VBP/need to/TO/to keep/VB/keep a/DT/a check/NN/check on/IN/on spoofing/NN/spoofing and/CC/and misuse/NNP/misuse. we/PRP/we have/VBP/have discussed/VBN/discussed security/NN/security in/IN/in some/DT/some detail/NN/detail in/IN/in the/DT/the module/NN/module on/IN/on os/NNS/os and/CC/and security/NNP/security. 10/NNP/10. maintaining/NN/maintaining system/NN/system logs/NNS/logs and/CC/and profiling/VBG/profiling the/DT/the users/NNS/users /:/: a/DT/a system/NN/system administrator/NN/administrator is/VBZ/is required/VBN/required to/TO/to often/RB/often determine/JJ/determine the/DT/the usage/NN/usage of/IN/of resources/NNP/resources. this/DT/this is/VBZ/is achieved/VBN/achieved by/IN/by analysing/NN/analysing system/NN/system logs/NNP/logs. the/DT/the system/NN/system logs/NNS/logs also/RB/also help/VB/help to/TO/to profile/VB/profile the/DT/the users/NNP/users. in/IN/in fact/NN/fact /,/, user/NN/user profiling/VBG/profiling helps/NNS/helps in/IN/in identifying/VBG/identifying security/NN/security breaches/NNS/breaches as/IN/as was/VBD/was explained/VBN/explained in/IN/in the/DT/the module/NN/module entitled/VBD/entitled os/NNS/os and/CC/and security/NNP/security. 11/NNP/11. system/NN/system accounting/VBG/accounting /:/: this/DT/this is/VBZ/is usually/RB/usually of/IN/of interest/NN/interest to/TO/to the/DT/the management/NNP/management. also/RB/also /,/, it/PRP/it helps/VBZ/helps system/NN/system administrators/NNS/administrators to/TO/to tune/VB/tune up/RP/up an/DT/an operating/NN/operating system/NN/system to/TO/to meet/VB/meet the/DT/the user/NN/user requirements/NNP/requirements. this/DT/this also/RB/also involves/VBZ/involves maintaining/VBG/maintaining and/CC/and analysing/VBG/analysing logs/NNS/logs of/IN/of the/DT/the system/NN/system operation/NNP/operation. 12/CD/12. reconfiguring/VBG/reconfiguring the/DT/the kernel/NN/kernel whenever/NN/whenever required/VBN/required /:/: sometimes/RB/sometimes when/WRB/when new/JJ/new patches/NNS/patches are/VBP/are installed/VBN/installed or/CC/or a/DT/a new/JJ/new release/NN/release of/IN/of the/DT/the os/NNS/os is/VBZ/is received/VBN/received /,/, then/RB/then it/PRP/it is/VBZ/is imperative/JJ/imperative to/TO/to compile/VB/compile the/DT/the kernel/NNP/kernel. linux/NN/linux users/NNS/users often/RB/often need/VBP/need to/TO/to do/VB/do this/DT/this as/IN/as new/JJ/new releases/NNS/releases and/CC/and extensions/NNS/extensions become/VBP/become available/NNP/available. let/NN/let us/PRP/us begin/VBP/begin our/PRP$/our discussions/NNS/discussions with/IN/with the/DT/the initiation/NN/initiation of/IN/of the/DT/the operations/NNS/operations and/CC/and shutdown/IN/shutdown procedures/NNP/procedures. operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/4/CD/04/4 19.2/CD/19.2 starting/VBG/starting and/CC/and shutting/VBG/shutting down/IN/down first/JJ/first we/PRP/we shall/MD/shall examine/VB/examine what/WP/what exactly/RB/exactly happens/VBZ/happens when/WRB/when the/DT/the system/NN/system is/VBZ/is powered/VBN/powered on/NNP/on. later/JJ/later /,/, we/PRP/we shall/MD/shall examine/VB/examine the/DT/the shutdown/NN/shutdown procedure/NN/procedure for/IN/for unix/NN/unix systems/NNP/systems. unix/NN/unix systems/NNS/systems /,/, on/IN/on being/VBG/being powered/VBN/powered on/IN/on /,/, usually/RB/usually require/VB/require that/IN/that a/DT/a choice/NN/choice be/VB/be made/VBN/made to/TO/to operate/VB/operate either/DT/either in/IN/in single/JJ/single or/CC/or in/IN/in multiple-user/JJ/multiple-user mode/NNP/mode. most/JJS/most systems/NNS/systems operate/VBP/operate in/IN/in multi-user/JJ/multi-user mode/NNP/mode. however/RB/however /,/, system/NN/system administrators/NNS/administrators use/VBP/use single-user/JJ/single-user mode/NN/mode when/WRB/when they/PRP/they have/VBP/have some/DT/some serious/JJ/serious reconfiguration/NN/reconfiguration or/CC/or installation/NN/installation task/NN/task to/TO/to perform/NNP/perform. family/NN/family of/IN/of unix/NN/unix systems/NNS/systems emanating/VBG/emanating from/IN/from system/NN/system v/NN/v usually/RB/usually operate/VBP/operate with/IN/with a/DT/a run/NN/run level/NNP/level. the/DT/the single-user/JJ/single-user mode/NN/mode is/VBZ/is identified/VBN/identified with/IN/with run/VBN/run level/NN/level s/NNS/s /,/, otherwise/VBP/otherwise there/EX/there are/VBP/are levels/NNS/levels from/IN/from 0/-NONE-/0 to/TO/to 6/CD/6. the/DT/the run/NN/run level/NN/level 3/CD/3 is/VBZ/is the/DT/the most/RBS/most common/JJ/common for/IN/for multi-user/JJ/multi-user mode/NN/mode of/IN/of operation/NNP/operation. on/IN/on being/VBG/being powered/VBN/powered on/IN/on /,/, unix/CD/unix usually/RB/usually initiates/VBZ/initiates the/DT/the following/VBG/following sequence/NN/sequence of/IN/of tasks/NNS/tasks /:/: 1/CD/1. the/DT/the unix/NN/unix performs/NNS/performs a/DT/a sequence/NN/sequence of/IN/of self-tests/NNS/self-tests to/TO/to determine/VB/determine if/IN/if there/EX/there are/VBP/are any/DT/any hardware/NN/hardware problems/NNP/problems. 2/CD/2. the/DT/the unix/NN/unix kernel/NN/kernel gets/VBZ/gets loaded/VBN/loaded from/IN/from a/DT/a root/NN/root device/NNP/device. 3/CD/3. the/DT/the kernel/NN/kernel runs/VBZ/runs and/CC/and initializes/VBZ/initializes itself/NNP/itself. 4/CD/4. the/DT/the kernel/NN/kernel starts/VBZ/starts the/DT/the init/NN/init process/NNP/process. all/DT/all subsequent/JJ/subsequent processes/NNS/processes are/VBP/are spawned/VBN/spawned from/IN/from init/NN/init process/NNP/process. 5/CD/5. the/DT/the init/NN/init checks/NNS/checks out/IN/out the/DT/the file/NN/file system/NN/system using/VBG/using fsck/NNP/fsck. 6/NNP/6. the/DT/the init/NN/init process/NN/process executes/VBZ/executes a/DT/a system/NN/system boot/NN/boot script/NNP/script. 7/CD/7. the/DT/the init/NN/init process/NN/process spawns/NNS/spawns a/DT/a process/NN/process to/TO/to check/VB/check all/DT/all the/DT/the terminals/NNS/terminals from/IN/from which/WDT/which the/DT/the system/NN/system may/MD/may be/VB/be accessed/NNP/accessed. this/DT/this is/VBZ/is done/VBN/done by/IN/by checking/NN/checking the/DT/the terminals/NNS/terminals defined/VBD/defined under/IN/under /etc/ttytab/JJ//etc/ttytab or/CC/or a/DT/a corresponding/NN/corresponding file/NNP/file. for/IN/for each/DT/each terminal/JJ/terminal a/DT/a getty/NN/getty process/NN/process is/VBZ/is launched/NNP/launched. this/DT/this reconciles/VBZ/reconciles communication/NN/communication characteristics/NNS/characteristics like/IN/like baud/NN/baud rate/NN/rate and/CC/and type/NN/type for/IN/for each/DT/each terminal/NNP/terminal. 8/NNP/8. the/DT/the getty/NN/getty process/NN/process initiates/VBZ/initiates a/DT/a login/NN/login process/NN/process to/TO/to enable/JJ/enable a/DT/a prospective/JJ/prospective login/NN/login from/IN/from a/DT/a terminal/NNP/terminal. during/IN/during the/DT/the startup/NN/startup we/PRP/we notice/VBP/notice that/IN/that fsck/NN/fsck checks/NNS/checks out/IN/out the/DT/the integrity/NN/integrity of/IN/of the/DT/the file/NN/file system/NNP/system. in/IN/in case/NN/case the/DT/the fsck/NN/fsck throws/VBZ/throws up/RP/up messages/NNS/messages of/IN/of some/DT/some problems/NNS/problems /,/, the/DT/the system/NN/system administrator/NN/administrator has/VBZ/has to/TO/to work/VB/work around/IN/around to/TO/to ensure/VB/ensure that/IN/that there/EX/there is/VBZ/is a/DT/a working/NN/working configuration/NN/configuration made/VBD/made available/JJ/available to/TO/to the/DT/the users/NNP/users. it/PRP/it will/MD/will suffice/VB/suffice here/RB/here to/TO/to mention/VB/mention that/IN/that one/CD/one may/MD/may monitor/NN/monitor disk/VB/disk usage/NN/usage and/CC/and reconcile/JJ/reconcile the/DT/the disk/NN/disk integrity/NNP/integrity. the/DT/the starting/VBG/starting up/RP/up of/IN/of systems/NNS/systems is/VBZ/is a/DT/a routine/NN/routine activity/NNP/activity. the/DT/the most/RBS/most important/JJ/important thing/NN/thing to/TO/to note/VB/note is/VBZ/is that/IN/that on/IN/on booting/VBG/booting /,/, or/CC/or following/VBG/following a/DT/a startup/NN/startup /,/, all/DT/all the/DT/the temporary/JJ/temporary files/NNS/files under/IN/under tmp/NN/tmp directory/NN/directory are/VBP/are cleaned/VBN/cleaned operating/VBG/operating systems/system/JJ/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/5/CD/04/5 up/NNP/up. also/RB/also /,/, zombies/NNS/zombies are/VBP/are cleaned/VBN/cleaned up/NNP/up. system/NN/system administrators/NNS/administrators resort/NN/resort to/TO/to booting/NN/booting when/WRB/when there/EX/there are/VBP/are a/DT/a number/NN/number of/IN/of zombies/NNS/zombies and/CC/and often/RB/often a/DT/a considerable/JJ/considerable disk/NN/disk space/NN/space is/VBZ/is blocked/VBN/blocked in/IN/in the/DT/the tmp/NN/tmp directory/NNP/directory. we/PRP/we next/JJ/next examine/NN/examine the/DT/the shutdown/NNP/shutdown. most/JJS/most unix/NN/unix systems/NNS/systems require/VBP/require invoking/VBG/invoking the/DT/the shutdown/NN/shutdown utility/NNP/utility. the/DT/the shutdown/NN/shutdown utility/NN/utility offers/NNS/offers options/NNS/options to/TO/to either/DT/either halt/NN/halt immediately/RB/immediately /,/, or/CC/or shutdown/VB/shutdown after/IN/after a/DT/a pre-assigned/JJ/pre-assigned period/NNP/period. usually/RB/usually system/NN/system administrators/NNS/administrators choose/VBP/choose to/TO/to shutdown/VB/shutdown with/IN/with a/DT/a preassigned/VBN/preassigned period/NNP/period. such/JJ/such a/DT/a shutdown/NN/shutdown results/NNS/results in/IN/in sending/VBG/sending a/DT/a message/NN/message to/TO/to all/DT/all the/DT/the terminals/NNS/terminals that/WDT/that the/DT/the system/NN/system shall/MD/shall be/VB/be going/VBG/going down/IN/down after/IN/after a/DT/a certain/JJ/certain interval/NN/interval of/IN/of time/NN/time /,/, say/VB/say 5/CD/5 minutes/NNP/minutes. this/DT/this cautions/NNS/cautions all/DT/all the/DT/the users/NNS/users and/CC/and gives/VBZ/gives them/PRP/them enough/RB/enough time/NN/time to/TO/to close/VB/close their/PRP$/their files/NNS/files and/CC/and terminate/VB/terminate their/PRP$/their active/JJ/active processes/NNP/processes. yet/RB/yet another/DT/another shutdown/NN/shutdown option/NN/option is/VBZ/is to/TO/to reboot/VB/reboot with/IN/with obvious/JJ/obvious implications/NNP/implications. the/DT/the most/RBS/most commonly/RB/commonly used/JJ/used shutdown/NN/shutdown command/NN/command is/VBZ/is as/IN/as follows/NNS/follows /:/: shutdown/IN/shutdown -h/JJ/-h time/NN/time /:/[ message/NN/message /:/] here/RB/here the/DT/the time/NN/time is/VBZ/is the/DT/the period/NN/period and/CC/and message/NN/message is/VBZ/is optional/JJ/optional /,/, but/CC/but often/RB/often it/PRP/it is/VBZ/is intended/VBN/intended to/TO/to advise/VB/advise users/NNS/users to/TO/to take/VB/take precautions/NNS/precautions to/TO/to terminate/VB/terminate their/PRP$/their activity/NN/activity gracefully/NNP/gracefully. this/DT/this mode/NN/mode also/RB/also prepares/VBZ/prepares to/TO/to turn/VB/turn power/NN/power off/IN/off after/IN/after a/DT/a proper/NN/proper shutdown/NNP/shutdown. there/EX/there are/VBP/are other/JJ/other options/NNS/options like/IN/like k/NN/k /,/, r/NN/r /,/, n/NN/n etc/NNP/etc. the/DT/the readers/NNS/readers are/VBP/are encouraged/VBN/encouraged to/TO/to find/VB/find details/NNS/details about/IN/about these/DT/these in/IN/in unix/NN/unix man/NN/man pages/NNP/pages. for/IN/for now/RB/now /,/, we/PRP/we shall/MD/shall move/VB/move on/IN/on to/TO/to discuss/VB/discuss the/DT/the user/NN/user accounts/NNS/accounts management/NN/management and/CC/and run/VBN/run command/NN/command files/NNP/files. 19.3/CD/19.3 managing/VBG/managing user/NN/user accounts/NNS/accounts when/WRB/when a/DT/a new/JJ/new person/NN/person joins/NNS/joins an/DT/an organisation/NN/organisation he/PRP/he is/VBZ/is usually/RB/usually given/VBN/given an/DT/an account/NN/account by/IN/by the/DT/the system/NN/system administrator/NNP/administrator. this/DT/this is/VBZ/is the/DT/the login/NN/login account/NN/account of/IN/of the/DT/the user/NNP/user. now/RB/now a/DT/a days/NNS/days almost/RB/almost all/DT/all unix/NN/unix systems/NNS/systems support/NN/support an/DT/an admin/NN/admin tool/NN/tool which/WDT/which seeks/VBZ/seeks the/DT/the following/VBG/following information/NN/information from/IN/from the/DT/the system/NN/system administrator/NN/administrator to/TO/to open/VB/open a/DT/a new/JJ/new account/NN/account /:/: 1/CD/1. username/NN/username /:/: this/DT/this serves/NNS/serves as/IN/as the/DT/the login/NN/login name/NN/name for/IN/for the/DT/the user/NNP/user. 2/NNP/2. password/NN/password /:/: usually/RB/usually a/DT/a system/NN/system administrator/NN/administrator gives/VBZ/gives a/DT/a simple/JJ/simple password/NNP/password. the/DT/the users/NNS/users are/VBP/are advised/VBN/advised to/TO/to later/JJ/later select/NN/select a/DT/a password/NN/password which/WDT/which they/PRP/they feel/VBP/feel comfortable/JJ/comfortable using/NNP/using. user/NN/user 's/POS/'s password/NN/password appears/VBZ/appears in/IN/in the/DT/the shadow/NN/shadow files/NNS/files in/IN/in encrypted/JJ/encrypted forms/NNP/forms. usually/RB/usually /,/, the/DT/the /etc/passwd/JJ//etc/passwd file/NN/file contains/VBZ/contains the/DT/the information/NN/information required/VBD/required by/IN/by the/DT/the login/NN/login program/NN/program to/TO/to authenticate/VB/authenticate the/DT/the login/NN/login name/NN/name and/CC/and to/TO/to initiate/VB/initiate appropriate/JJ/appropriate shell/NN/shell as/IN/as shown/NN/shown in/IN/in the/DT/the description/NN/description below/IN/below /:/: bhatt/NN/bhatt /:/: x/NN/x /:/: 1007/CD/1007 /:/: 1/CD/1 /:/: /:/: /export/home/bhatt/JJ//export/home/bhatt /:/: /usr/local/bin/bash/JJ//usr/local/bin/bash damu/NN/damu /:/: x/NN/x /:/: 1001/CD/1001 /:/: 10/CD/10 /:/: /:/: /export/home/damu/JJ//export/home/damu /:/: /usr/local/bin/bash/JJ//usr/local/bin/bash each/DT/each line/NN/line above/IN/above contains/NNS/contains information/NN/information about/IN/about one/CD/one user/NNP/user. the/DT/the first/JJ/first field/NN/field is/VBZ/is the/DT/the name/NN/name of/IN/of the/DT/the user/NN/user ;/:/; the/DT/the next/JJ/next a/DT/a dummy/NN/dummy indicator/NN/indicator of/IN/of password/NN/password /,/, which/WDT/which is/VBZ/is in/IN/in another/DT/another file/NN/file /,/, a/DT/a shadow/NN/shadow file/NNP/file. password/NN/password programs/NNS/programs use/VBP/use a/DT/a trap-door/JJ/trap-door algorithm/NN/algorithm for/IN/for encryption/NNP/encryption. operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/6/CD/04/6 3/CD/3. home/NN/home directory/NN/directory /:/: every/DT/every new/JJ/new user/NN/user has/VBZ/has a/DT/a home/NN/home directory/NN/directory defined/VBD/defined for/IN/for him/NNP/him. this/DT/this is/VBZ/is the/DT/the default/NN/default login/NN/login directory/NNP/directory. usually/RB/usually it/PRP/it is/VBZ/is defined/VBN/defined in/IN/in the/DT/the run/NN/run command/NN/command files/NNP/files. 4/CD/4. working/VBG/working set-up/JJ/set-up /:/: the/DT/the system/NN/system administrators/NNS/administrators prepare/VBP/prepare .login/JJ/.login and/CC/and .profile/JJ/.profile files/NNS/files to/TO/to help/VB/help users/NNS/users to/TO/to obtain/VB/obtain an/DT/an initial/JJ/initial set-up/NN/set-up for/IN/for login/NNP/login. the/DT/the administrator/NN/administrator may/MD/may prepare/VB/prepare .cshrc/JJ/.cshrc /,/, .xinitrc/JJ/.xinitrc .mailrc/JJ/.mailrc .ircrc/JJ/.ircrc files/NNP/files. in/IN/in section/NN/section 19.4/CD/19.4 we/PRP/we shall/MD/shall later/VB/later see/VB/see how/WRB/how these/DT/these files/NNS/files may/MD/may be/VB/be helpful/JJ/helpful in/IN/in customizing/NN/customizing a/DT/a user/NN/user 's/POS/'s working/NN/working environment/NNP/environment. a/DT/a natural/JJ/natural point/NN/point of/IN/of curiosity/NN/curiosity would/MD/would be/VB/be /:/: what/WP/what happens/NNS/happens when/WRB/when users/NNS/users log/VBP/log out/RP/out ?/./? unix/NN/unix systems/NNS/systems receive/VBP/receive signals/NNS/signals when/WRB/when users/NNS/users log/VBP/log out/NNP/out. recall/NN/recall /,/, in/IN/in section/NN/section 19.2/CD/19.2 we/PRP/we mentioned/VBD/mentioned that/IN/that a/DT/a user/NN/user logs/NNS/logs in/IN/in under/IN/under a/DT/a login/NN/login process/NN/process initiated/VBD/initiated by/IN/by getty/NN/getty process/NNP/process. process/NN/process getty/NN/getty identifies/NNS/identifies the/DT/the terminal/JJ/terminal being/VBG/being used/NNP/used. so/RB/so when/WRB/when a/DT/a user/NN/user logs/NNS/logs out/IN/out /,/, the/DT/the getty/NN/getty process/NN/process which/WDT/which was/VBD/was running/VBG/running to/TO/to communicate/VB/communicate with/IN/with that/DT/that terminal/JJ/terminal is/VBZ/is first/JJ/first killed/NNP/killed. a/DT/a new/JJ/new getty/NN/getty process/NN/process is/VBZ/is now/RB/now launched/VBN/launched to/TO/to enable/JJ/enable yet/NN/yet another/DT/another prospective/JJ/prospective login/NN/login from/IN/from that/DT/that terminal/NNP/terminal. the/DT/the working/VBG/working set-up/NN/set-up is/VBZ/is completely/RB/completely determined/VBN/determined by/IN/by the/DT/the startup/NN/startup files/NNP/files. these/DT/these are/VBP/are basically/RB/basically .rc/JJ/.rc /NN/( run/VBN/run command/NN/command /:/) files/NNP/files. these/DT/these files/NNS/files help/VBP/help to/TO/to customize/VB/customize the/DT/the user/NN/user 's/POS/'s working/NN/working environment/NNP/environment. for/IN/for instance/NN/instance /,/, a/DT/a user/NN/user 's/POS/'s .cshrc/JJ/.cshrc file/NN/file shall/MD/shall have/VB/have a/DT/a path/NN/path variable/JJ/variable which/WDT/which defines/NNS/defines the/DT/the access/NN/access to/TO/to various/JJ/various unix/NN/unix built-in/NN/built-in shell/NN/shell commands/NNS/commands /,/, utilities/NNS/utilities /,/, libraries/NNS/libraries etc/NNP/etc. in/IN/in fact/NN/fact /,/, many/JJ/many other/JJ/other shell/NN/shell environmental/JJ/environmental variables/NNS/variables like/IN/like home/NN/home /,/, shell/NN/shell /,/, mail/NN/mail /,/, tz/NN/tz /:/( the/DT/the time/NN/time zone/NN/zone /:/) are/VBP/are set/VBN/set up/RP/up automatically/NNP/automatically. in/IN/in addition/NN/addition /,/, the/DT/the .rc/JJ/.rc files/NNS/files define/VBP/define the/DT/the access/NN/access to/TO/to network/VB/network services/NNS/services or/CC/or some/DT/some need-based/JJ/need-based access/NN/access to/TO/to certain/JJ/certain licensed/VBN/licensed software/NN/software or/CC/or databases/NNS/databases as/IN/as well/NNP/well. to/TO/to that/DT/that extent/NN/extent the/DT/the .rc/JJ/.rc files/NNS/files help/VBP/help to/TO/to customize/VB/customize the/DT/the user/NN/user 's/POS/'s working/NN/working environment/NNP/environment. we/PRP/we shall/MD/shall discuss/VB/discuss the/DT/the role/NN/role of/IN/of run/VBN/run command/NN/command files/NNS/files later/JJ/later in/IN/in section/NN/section 19.4/CD/19.4. 5/CD/5. group-id/JJ/group-id /:/: the/DT/the user/NN/user login/NN/login name/NN/name is/VBZ/is the/DT/the user-id/NNP/user-id. under/IN/under unix/NN/unix the/DT/the access/NN/access privileges/NNS/privileges are/VBP/are determined/VBN/determined by/IN/by the/DT/the group/NN/group a/DT/a user/NN/user belongs/VBZ/belongs to/NNP/to. so/RB/so a/DT/a user/NN/user is/VBZ/is assigned/VBN/assigned a/DT/a group-id/NNP/group-id. it/PRP/it is/VBZ/is possible/JJ/possible to/TO/to obtain/VB/obtain the/DT/the id/JJ/id information/NN/information by/IN/by using/VBG/using an/DT/an id/NN/id command/NN/command as/IN/as shown/NN/shown below/IN/below /:/: /:/[ bhatt/NN/bhatt @/:/@ iiitbsun/NN/iiitbsun os/NNS/os /:/] $/$/$ id/JJ/id uid/NN/uid =/:/= 1007/CD/1007 /CD/( bhatt/NN/bhatt /:/) gid/JJ/gid =/NN/= 1/CD/1 /CD/( other/JJ/other /NN/) /:/[ bhatt/NN/bhatt @/:/@ iiitbsun/NN/iiitbsun os/NNS/os /:/] $/$/$ 6/CD/6. disc/CD/disc quota/NN/quota /:/: usually/RB/usually a/DT/a certain/JJ/certain amount/NN/amount of/IN/of disk/NN/disk space/NN/space is/VBZ/is allocated/VBN/allocated by/IN/by default/NNP/default. in/IN/in cases/NNS/cases where/WRB/where the/DT/the situation/NN/situation so/RB/so warrants/VBZ/warrants /,/, a/DT/a user/NN/user may/MD/may seek/VB/seek additional/JJ/additional disk/NN/disk space/NNP/space. a/DT/a user/NN/user may/MD/may interrogate/VB/interrogate the/DT/the disk/NN/disk space/NN/space available/JJ/available at/IN/at any/DT/any time/NN/time by/IN/by using/VBG/using the/DT/the df/NN/df command/NNP/command. its/PRP$/its usage/NN/usage is/VBZ/is shown/VBN/shown below/IN/below /:/: operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/7/CD/04/7 df/NN/df /:/[ options/NNS/options /VBP/] /:/[ name/NN/name /:/] /:/: to/TO/to know/VB/know the/DT/the free/JJ/free disk/NN/disk space/NNP/space. where/WRB/where name/NN/name refers/NNS/refers to/TO/to a/DT/a mounted/VBN/mounted file/NN/file system/NN/system /,/, local/JJ/local or/CC/or remote/NNP/remote. we/PRP/we may/MD/may specify/VB/specify directory/NN/directory if/IN/if we/PRP/we need/VBP/need to/TO/to know/VB/know the/DT/the information/NN/information about/IN/about that/DT/that directory/NNP/directory. the/DT/the following/VBG/following options/NNS/options may/MD/may help/VB/help with/IN/with additional/JJ/additional information/NN/information /:/: -l/JJ/-l /:/: for/IN/for local/JJ/local file/NN/file system/NN/system -t/NN/-t /:/: reports/NNS/reports total/VBP/total no/NN/no. of/IN/of allocated/VBN/allocated blocks/NNS/blocks and/CC/and i-nodes/NNS/i-nodes on/IN/on the/DT/the device/NNP/device. the/DT/the unix/NN/unix command/NN/command du/NN/du reports/NNS/reports the/DT/the number/NN/number of/IN/of disk/NN/disk blocks/NNS/blocks occupied/VBD/occupied by/IN/by a/DT/a file/NNP/file. its/PRP$/its usage/NN/usage is/VBZ/is shown/VBN/shown below/IN/below /:/: du/NN/du /:/[ options/NNS/options /VBP/] /:/[ name/NN/name /:/] /:/... where/WRB/where name/NN/name is/VBZ/is a/DT/a directory/NN/directory or/CC/or a/DT/a file/JJ/file above/IN/above name/NN/name by/IN/by default/NN/default refers/NNS/refers to/TO/to the/DT/the current/JJ/current directory/NNP/directory. the/DT/the following/VBG/following options/NNS/options may/MD/may help/VB/help with/IN/with additional/JJ/additional information/NN/information /:/: -a/JJ/-a /:/: produce/NN/produce output/NN/output line/NN/line for/IN/for each/DT/each file/NN/file -s/NNS/-s /:/: report/NN/report only/RB/only the/DT/the total/JJ/total usage/NN/usage for/IN/for each/DT/each name/NN/name that/IN/that is/VBZ/is a/DT/a directory/NN/directory i.e/NNP/i.e. not/RB/not individual/JJ/individual files/NNP/files. -r/NNP/-r /:/: produce/NN/produce messages/NNS/messages for/IN/for files/NNS/files that/WDT/that can/MD/can not/RB/not be/VB/be read/VBN/read or/CC/or opened/VBN/opened 7/CD/7. network/NN/network services/NNS/services /:/: usually/RB/usually a/DT/a user/NN/user shall/MD/shall get/VB/get a/DT/a mail/NN/mail account/NNP/account. we/PRP/we will/MD/will discuss/VB/discuss the/DT/the role/NN/role of/IN/of .mailrc/JJ/.mailrc file/NN/file in/IN/in this/DT/this context/NN/context in/IN/in section/NN/section 19.4/CD/19.4. the/DT/the user/NN/user gets/VBZ/gets an/DT/an access/NN/access to/TO/to web/VB/web services/NNS/services too/-NONE-/too. 8/CD/8. default/NN/default terminal/JJ/terminal settings/NNS/settings /:/: usually/RB/usually vt100/NNP/vt100 is/VBZ/is the/DT/the default/NN/default terminal/JJ/terminal setting/NNP/setting. one/CD/one can/MD/can attempt/VB/attempt alternate/JJ/alternate terminal/JJ/terminal settings/NNS/settings using/VBG/using tset/NN/tset /,/, stty/NN/stty /,/, tput/NN/tput /,/, tabs/NNS/tabs with/IN/with the/DT/the control/NN/control sequences/NNS/sequences defined/VBD/defined in/IN/in terminfo/NN/terminfo termcap/NN/termcap with/IN/with details/NNS/details recorded/VBN/recorded in/IN/in /etc/ttytype/JJ//etc/ttytype or/CC/or /etc/tty/JJ//etc/tty files/NNS/files and/CC/and in/IN/in shell/NN/shell variable/JJ/variable term/NNP/term. many/JJ/many of/IN/of these/DT/these details/NNS/details are/VBP/are discussed/VBN/discussed in/IN/in section/NN/section 19.5.1/CD/19.5.1 which/WDT/which specifically/RB/specifically deals/VBZ/deals with/IN/with terminal/JJ/terminal settings/NNP/settings. the/DT/the reader/NN/reader is/VBZ/is encouraged/VBN/encouraged to/TO/to look/VB/look up/RP/up that/DT/that section/NN/section for/IN/for details/NNP/details. once/RB/once an/DT/an account/NN/account has/VBZ/has been/VBN/been opened/VBN/opened the/DT/the user/NN/user may/MD/may do/VB/do the/DT/the following/VBG/following /:/: 1/CD/1. change/NN/change the/DT/the pass-word/JJ/pass-word for/IN/for access/NN/access to/TO/to one/CD/one of/IN/of his/PRP$/his liking/NNP/liking. 2/NNP/2. customize/NN/customize many/JJ/many of/IN/of the/DT/the run/NN/run command/NN/command files/NNS/files to/TO/to suit/VB/suit his/PRP$/his needs/NNP/needs. closing/NN/closing a/DT/a user/NN/user account/NN/account /:/: here/RB/here again/RB/again the/DT/the password/NN/password file/NN/file plays/NNS/plays a/DT/a role/NNP/role. recall/NN/recall in/IN/in section/NN/section 19.1/CD/19.1 we/PRP/we saw/VBD/saw that/IN/that /etc/password/JJ//etc/password file/NN/file has/VBZ/has all/DT/all the/DT/the information/NN/information about/IN/about the/DT/the users/NNS/users '/POS/' home/NN/home directory/NN/directory /,/, password/NN/password /,/, shell/NN/shell /,/, user/NN/user and/CC/and group-id/JJ/group-id /,/, etc/NNP/etc. when/WRB/when a/DT/a user/NN/user 's/POS/'s account/NN/account is/VBZ/is to/TO/to be/VB/be deleted/VBN/deleted /,/, all/DT/all of/IN/of this/DT/this information/NN/information needs/VBZ/needs to/TO/to be/VB/be erased/NNP/erased. system/NN/system administrators/NNS/administrators login/VBP/login as/RB/as root/NN/root and/CC/and delete/JJ/delete the/DT/the user/NN/user entry/NN/entry from/IN/from the/DT/the password/NN/password file/NN/file to/TO/to delete/VB/delete the/DT/the account/NNP/account. operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/8/CD/04/8 19.4/CD/19.4 the/DT/the .rc/JJ/.rc files/NNS/files usually/RB/usually system/NN/system administration/NN/administration offers/NNS/offers a/DT/a set/NN/set of/IN/of start-up/NN/start-up run/VBN/run command/NN/command files/NNS/files to/TO/to a/DT/a new/JJ/new user/NNP/user. these/DT/these are/VBP/are files/NNS/files that/IN/that appear/JJ/appear as/IN/as .rc/JJ/.rc files/NNP/files. these/DT/these may/MD/may be/VB/be .profile/JJ/.profile /,/, .login/JJ/.login /,/, .cshrc/JJ/.cshrc /,/, .bashrc/JJ/.bashrc .xinitrc/JJ/.xinitrc /,/, .mailrc/JJ/.mailrc .ircrc/JJ/.ircrc /,/, etc/NNP/etc. the/DT/the choice/NN/choice depends/VBZ/depends upon/IN/upon the/DT/the nature/NN/nature of/IN/of the/DT/the login/NN/login shell/NNP/shell. typical/JJ/typical allocations/NNS/allocations may/MD/may be/VB/be as/RB/as follows/VBZ/follows /:/: 0/-NONE-/0 bourne/NN/bourne or/CC/or korn/NN/korn shell/NN/shell /:/: .profile/JJ/.profile 1/CD/1 c-shell/JJ/c-shell /:/: .login/JJ/.login /,/, .cshrc/JJ/.cshrc 2/CD/2 bash/NN/bash /:/: .bashrci/JJ/.bashrci 3/CD/3 tcsh/NN/tcsh /:/: .tcshrc/JJ/.tcshrc bash/NN/bash is/VBZ/is referred/VBN/referred as/RB/as bourne-again/JJ/bourne-again shell/NNP/shell. tcsh/NN/tcsh is/VBZ/is an/DT/an advanced/JJ/advanced c-shell/NN/c-shell with/IN/with many/JJ/many shortcuts/NNS/shortcuts like/IN/like pressing/VBG/pressing a/DT/a tab/NN/tab may/MD/may complete/VB/complete a/DT/a partial/JJ/partial string/NN/string to/TO/to the/DT/the extent/NN/extent it/PRP/it can/MD/can be/VB/be covered/VBN/covered unambiguously/-NONE-/unambiguously. for/IN/for us/PRP/us it/PRP/it is/VBZ/is important/JJ/important to/TO/to understand/VB/understand what/WP/what is/VBZ/is it/PRP/it that/IN/that these/DT/these files/NNS/files facilitate/NNP/facilitate. role/NN/role of/IN/of .login/JJ/.login and/CC/and .profile/JJ/.profile files/NNS/files /:/: the/DT/the basic/JJ/basic role/NN/role of/IN/of these/DT/these files/NNS/files is/VBZ/is to/TO/to set/VB/set up/RP/up the/DT/the environment/NN/environment for/IN/for a/DT/a user/NNP/user. these/DT/these may/MD/may include/VB/include the/DT/the following/VBG/following set-ups/NNP/set-ups. ?/./? set/NN/set up/RP/up the/DT/the terminal/JJ/terminal characteristics/NNS/characteristics /:/: usually/RB/usually /,/, the/DT/the set/NN/set up/RP/up may/MD/may include/VB/include terminal/JJ/terminal type/NN/type /,/, and/CC/and character/NN/character settings/NNS/settings for/IN/for the/DT/the prompt/NN/prompt /,/, erase/NN/erase /,/, etc/FW/etc. ?/./? set/NN/set up/RP/up editors/NNS/editors /:/: it/PRP/it may/MD/may set/VB/set up/RP/up a/DT/a default/NN/default editor/NN/editor or/CC/or some/DT/some specific/JJ/specific editor/NN/editor like/IN/like emacs/NNP/emacs. ?/./? set/NN/set up/RP/up protection/NN/protection mode/NN/mode /:/: this/DT/this file/NN/file may/MD/may set/VB/set up/RP/up umask/NN/umask /,/, which/WDT/which stands/NNS/stands for/IN/for the/DT/the user/NN/user mask/NNP/mask. umask/NN/umask determines/NNS/determines access/NN/access right/RB/right to/TO/to files/NNP/files. ?/./? set/NN/set up/RP/up environment/NN/environment variables/NNS/variables /:/: this/DT/this file/NN/file may/MD/may set/VB/set up/RP/up the/DT/the path/NN/path variable/NNP/variable. the/DT/the path/NN/path variable/JJ/variable defines/NNS/defines the/DT/the sequence/NN/sequence in/IN/in which/WDT/which directories/NNS/directories are/VBP/are searched/VBN/searched for/IN/for locating/NN/locating the/DT/the commands/NNS/commands and/CC/and utilities/NNS/utilities of/IN/of the/DT/the operating/NN/operating system/NNP/system. ?/./? set/NN/set up/RP/up some/DT/some customization/NN/customization variables/NNS/variables /:/: usually/RB/usually /,/, these/DT/these help/NN/help to/TO/to limit/VB/limit things/NNS/things like/IN/like selecting/VBG/selecting icons/NNS/icons for/IN/for mail/NN/mail or/CC/or core/NN/core dump/NN/dump size/NN/size up/IN/up to/TO/to a/DT/a maximum/NN/maximum value/NNP/value. it/PRP/it may/MD/may be/VB/be used/VBN/used for/IN/for setting/NN/setting up/RB/up the/DT/the limit/NN/limit on/IN/on the/DT/the scope/NN/scope of/IN/of the/DT/the command/NN/command history/NN/history /,/, or/CC/or some/DT/some other/JJ/other preferences/NNP/preferences. a/DT/a typical/JJ/typical .login/NN/.login file/NN/file may/MD/may have/VB/have the/DT/the following/VBG/following entries/NNS/entries /:/: #/#/# a/DT/a typical/JJ/typical .login/NN/.login file/NN/file umask/NN/umask 022/CD/022 setenv/NN/setenv path/NN/path /usr/ucb/NN//usr/ucb /:/: /usr/bin/JJ//usr/bin /:/: /usr/sbin/JJ//usr/sbin /:/: /usr/local/bin/JJ//usr/local/bin setenv/NN/setenv printer/NN/printer labprinter/NN/labprinter operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/9/CD/04/9 setenv/NN/setenv editor/NN/editor vi/NN/vi biff/NN/biff y/NN/y set/NN/set prompt/NN/prompt =/:/= 'hostname/JJ/'hostname '/''/' =/:/= >/:/> the/DT/the meanings/NNS/meanings of/IN/of the/DT/the lines/NNS/lines above/IN/above should/MD/should be/VB/be obvious/JJ/obvious from/IN/from the/DT/the explanation/NN/explanation we/PRP/we advanced/VBD/advanced earlier/NNP/earlier. next/JJ/next we/PRP/we describe/VBP/describe .cshrc/JJ/.cshrc files/NNS/files and/CC/and the/DT/the readers/NNS/readers should/MD/should note/VB/note the/DT/the commonalities/NNS/commonalities between/IN/between these/DT/these definitions/NNS/definitions of/IN/of initialisation/NN/initialisation files/NNP/files. the/DT/the .cshrc/NNP/.cshrc file/NN/file /:/: the/DT/the c-shell/JJ/c-shell makes/NNS/makes a/DT/a few/JJ/few features/NNS/features available/JJ/available over/IN/over the/DT/the bourne/NN/bourne shell/NNP/shell. for/IN/for instance/NN/instance /,/, it/PRP/it is/VBZ/is common/JJ/common to/TO/to define/VB/define aliases/NNS/aliases in/IN/in .cshrc/JJ/.cshrc files/NNS/files for/IN/for very/RB/very frequently/RB/frequently used/VBN/used commands/NNS/commands like/IN/like gh/NN/gh for/IN/for ghostview/NN/ghostview and/CC/and c/NN/c for/IN/for clear/NNP/clear. below/IN/below we/PRP/we give/VBP/give some/DT/some typical/JJ/typical entries/NNS/entries for/IN/for .cshrc/JJ/.cshrc file/NN/file in/IN/in addition/NN/addition to/TO/to the/DT/the many/JJ/many we/PRP/we saw/VBD/saw in/IN/in the/DT/the .login/JJ/.login file/NN/file in/IN/in this/DT/this section/NN/section /:/: if/IN/if /CD/( !/./! $/$/$ ?/./? term/NN/term /:/) setenv/NN/setenv term/NN/term unknown/NN/unknown if/IN/if /CD/( "/CD/" term/NN/term "/:/" =/:/= =/:/= "/:/" unknown/NN/unknown "/:/" |/:/| |/:/| "/:/" $/$/$ term/NN/term "/:/" =/:/= =/:/= "/:/" network/NN/network "/:/" /:/) then/RB/then echo/RB/echo -n/JJ/-n 'term/JJ/'term ?/./? /:/[ vt100/NNP/vt100 /:/] /:/: '/''/' ;/:/; set/NN/set ttype/NN/ttype =/:/= /:/( $/$/$ </CD/< /CD/) if/IN/if /CD/( ttype/NN/ttype =/:/= =/:/= "/:/" "/:/" /:/) set/NN/set ttype/NN/ttype =/:/= "/:/" vt100/NNP/vt100 "/:/" if/IN/if /CD/( ttype/NN/ttype =/:/= =/:/= "/:/" pc/NN/pc "/:/" /:/) then/RB/then set/VBN/set ttype/NN/ttype =/:/= "/:/" vt100/NNP/vt100 "/:/" endif/IN/endif setenv/NN/setenv term/NN/term $/$/$ ttype/NN/ttype endif/IN/endif alias/NNS/alias cl/VBP/cl clear/JJ/clear alias/NNS/alias gh/IN/gh ghostview/NN/ghostview set/NN/set history/NN/history =/:/= 50/CD/50 set/NN/set nobeep/NN/nobeep note/NN/note that/IN/that the/DT/the above/NN/above /,/, in/IN/in the/DT/the first/JJ/first few/JJ/few lines/NNS/lines in/IN/in the/DT/the script/NN/script /,/, system/NN/system identifies/NNS/identifies the/DT/the nature/NN/nature of/IN/of terminal/JJ/terminal and/CC/and sets/NNS/sets it/PRP/it to/TO/to operate/VB/operate as/IN/as vt100/NNP/vt100. it/PRP/it is/VBZ/is highly/RB/highly recommended/VBN/recommended that/IN/that the/DT/the reader/NN/reader should/MD/should examine/VB/examine and/CC/and walk-through/JJ/walk-through the/DT/the initialization/NN/initialization scripts/NNS/scripts which/WDT/which the/DT/the system/NN/system administration/NN/administration provides/NNP/provides. also/RB/also /,/, a/DT/a customization/NN/customization of/IN/of these/DT/these files/NNS/files entails/NNS/entails that/WDT/that as/IN/as a/DT/a user/NN/user we/PRP/we must/MD/must look/VB/look up/RP/up these/DT/these files/NNS/files and/CC/and modify/VB/modify them/PRP/them to/TO/to suit/VB/suit our/PRP$/our needs/NNP/needs. there/RB/there are/VBP/are two/CD/two more/RBR/more files/NNS/files of/IN/of interest/NNP/interest. one/CD/one corresponds/NNS/corresponds to/TO/to regulating/VBG/regulating the/DT/the mail/NN/mail and/CC/and the/DT/the other/JJ/other which/WDT/which controls/NNS/controls the/DT/the screen/NN/screen display/NNP/display. these/DT/these are/VBP/are respectively/RB/respectively initialized/VBN/initialized through/IN/through .mailrc/JJ/.mailrc and/CC/and .xinitrc/NNP/.xinitrc. we/PRP/we discussed/VBD/discussed the/DT/the latter/NN/latter in/IN/in the/DT/the chapter/NN/chapter on/IN/on x/NN/x windows/NNP/windows. we/PRP/we shall/MD/shall discuss/VB/discuss the/DT/the settings/NNS/settings in/IN/in .mailrc/JJ/.mailrc file/NN/file in/IN/in the/DT/the context/NN/context of/IN/of the/DT/the mail/NN/mail system/NNP/system. operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/10/CD/04/10 the/DT/the mail/NN/mail system/NN/system /:/: .mailrc/JJ/.mailrc file/NN/file /:/: from/IN/from the/DT/the viewpoint/NN/viewpoint of/IN/of the/DT/the user/NN/user 's/POS/'s host/NN/host machine/NN/machine /,/, the/DT/the mail/NN/mail program/NN/program truly/RB/truly acts/VBZ/acts as/IN/as the/DT/the main/JJ/main anchor/NN/anchor for/IN/for our/PRP$/our internet-based/JJ/internet-based communication/NNP/communication. the/DT/the unix/NN/unix sendmail/NN/sendmail program/NN/program together/RB/together with/IN/with the/DT/the uu/NN/uu class/NN/class of/IN/of programs/NNS/programs form/NN/form the/DT/the very/RB/very basis/VBZ/basis of/IN/of the/DT/the mail/NN/mail under/IN/under unix/NNP/unix. essentially/RB/essentially /,/, the/DT/the mail/NN/mail system/NN/system has/VBZ/has the/DT/the following/VBG/following characteristics/NNS/characteristics /:/: 1/CD/1. the/DT/the mail/NN/mail system/NN/system is/VBZ/is a/DT/a store/NN/store and/CC/and forward/RB/forward system/NNP/system. 2/CD/2. mail/NN/mail is/VBZ/is picked/VBN/picked up/RP/up from/IN/from the/DT/the mail/NN/mail server/NN/server periodically/NNP/periodically. the/DT/the mail/NN/mail daemon/NN/daemon /,/, picks/VBZ/picks up/RP/up the/DT/the mail/NN/mail running/VBG/running as/IN/as a/DT/a background/NN/background process/NNP/process. 3/CD/3. mail/NN/mail is/VBZ/is sent/VBN/sent by/IN/by sendmail/NN/sendmail program/NN/program under/IN/under unix/NNP/unix. 4/CD/4. the/DT/the uu/NN/uu class/NN/class of/IN/of programs/NNS/programs like/IN/like uucp/NN/uucp or/CC/or unix-to-unix/CD/unix-to-unix copy/NN/copy have/VBP/have provided/VBN/provided the/DT/the basis/NN/basis for/IN/for developing/VBG/developing the/DT/the mail/NN/mail tools/NNP/tools. in/IN/in fact/NN/fact /,/, the/DT/the file/NN/file attachments/NNS/attachments facility/NN/facility is/VBZ/is an/DT/an example/NN/example of/IN/of it/NNP/it. on/IN/on a/DT/a unix/NN/unix system/NN/system it/PRP/it is/VBZ/is possible/JJ/possible to/TO/to invoke/VB/invoke the/DT/the mail/NN/mail program/NN/program from/IN/from an/DT/an auto-login/JJ/auto-login or/CC/or .cshrc/JJ/.cshrc program/NNP/program. every/DT/every unix/NN/unix user/NN/user has/VBZ/has a/DT/a mailbox/NN/mailbox entry/NN/entry in/IN/in the/DT/the /usr/spool/mail/JJ//usr/spool/mail directory/NNP/directory. each/DT/each person/NN/person 's/POS/'s mail/NN/mail box/NN/box is/VBZ/is named/VBN/named after/IN/after his/PRP$/his own/JJ/own username/NNP/username. in/IN/in table/JJ/table 19.1/CD/19.1 we/PRP/we briefly/RB/briefly review/VB/review some/DT/some very/RB/very useful/JJ/useful mail/NN/mail commands/NNS/commands and/CC/and the/DT/the wild/NN/wild card/NN/card used/VBD/used with/IN/with these/DT/these commands/NNP/commands. we/PRP/we next/JJ/next give/JJ/give some/DT/some very/RB/very useful/JJ/useful commands/NNS/commands which/WDT/which help/NN/help users/NNS/users to/TO/to manage/VB/manage their/PRP$/their mails/NNS/mails efficiently/RB/efficiently /:/: table/JJ/table 19.1/CD/19.1 /:/: various/JJ/various command/NN/command options/NNS/options for/IN/for mail/NNP/mail. d/NN/d /:/: r/NN/r /:/: delete/JJ/delete all/DT/all read/NN/read messages/NNP/messages. d/NN/d /:/: usenet/NN/usenet /:/: delete/JJ/delete all/DT/all messages/NNS/messages with/IN/with usenet/JJ/usenet in/IN/in body/NN/body p/NN/p /:/: r/NN/r /:/: print/NN/print all/DT/all read/NN/read messages/NNP/messages. p/NN/p /:/: bhatt/NN/bhatt /:/: print/NN/print all/DT/all from/IN/from user/NN/user `/``/` `/``/` bhatt''/NNP/bhatt''. operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/11/CD/04/11 during/IN/during the/DT/the time/NN/time a/DT/a user/NN/user is/VBZ/is composing/VBG/composing a/DT/a mail/NN/mail /,/, the/DT/the mail/NN/mail system/NN/system tools/NNS/tools usually/RB/usually offer/VBP/offer facility/NN/facility to/TO/to escape/NN/escape to/TO/to a/DT/a shell/NNP/shell. this/DT/this can/MD/can be/VB/be very/RB/very useful/JJ/useful when/WRB/when large/JJ/large files/NNS/files need/VBP/need to/TO/to be/VB/be edited/VBN/edited along/IN/along side/NN/side the/DT/the mail/NN/mail being/VBG/being sent/NNP/sent. these/DT/these use/NN/use ~/:/~ commands/NNS/commands with/IN/with the/DT/the interpretations/NNS/interpretations shown/VBP/shown below/IN/below /:/: ~/:/~ !/./! escape/NN/escape to/TO/to shell/VB/shell /,/, ~/:/~ d/NN/d include/VBP/include dead.letter/JJ/dead.letter ~/NN/~ h/NN/h edit/NN/edit header/NN/header field/NN/field the/DT/the mail/NN/mail system/NN/system provides/VBZ/provides for/IN/for command/NN/command line/NN/line interface/NN/interface to/TO/to facilitate/VB/facilitate mail/NN/mail operations/NNS/operations using/VBG/using some/DT/some of/IN/of the/DT/the following/JJ/following commands/NNP/commands. for/IN/for instance/NN/instance /,/, every/DT/every user/NN/user has/VBZ/has a/DT/a default/NN/default mail/NN/mail box/NN/box called/VBN/called mbox/NNP/mbox. if/IN/if one/CD/one wishes/NNS/wishes to/TO/to give/VB/give a/DT/a different/JJ/different name/NN/name to/TO/to the/DT/the mailbox/NN/mailbox /,/, he/PRP/he may/MD/may choose/VB/choose a/DT/a new/JJ/new name/NN/name for/IN/for it/NNP/it. other/JJ/other facilities/NNS/facilities allow/VBP/allow a/DT/a mail/NN/mail to/TO/to be/VB/be composed/VBN/composed with/IN/with /,/, or/CC/or without/IN/without /,/, a/DT/a subject/NN/subject or/CC/or to/TO/to see/VB/see the/DT/the progress/NN/progress of/IN/of the/DT/the mail/NN/mail as/IN/as it/PRP/it gets/VBZ/gets processed/NNP/processed. we/PRP/we show/VBP/show some/DT/some of/IN/of these/DT/these options/NNS/options and/CC/and their/PRP$/their usage/NN/usage with/IN/with mail/NN/mail command/NN/command below/NNP/below. mail/NN/mail -s/NNS/-s greetings/NNS/greetings user/VBP/user @/:/@ machine.domain/JJ/machine.domain -s/NNS/-s /:/: option/NN/option is/VBZ/is used/VBN/used to/TO/to send/VB/send a/DT/a mail/NN/mail with/IN/with subject/NNP/subject. -v/NNP/-v /:/: option/NN/option is/VBZ/is for/IN/for the/DT/the verbose/NN/verbose option/NN/option /,/, it/PRP/it shows/VBZ/shows mails/NNS/mails '/POS/' progress/NN/progress -f/NN/-f mailbox/NN/mailbox /:/: option/NN/option allows/VBZ/allows user/NN/user to/TO/to name/VB/name a/DT/a new/JJ/new mail/NN/mail box/NN/box mail/NN/mail -f/NN/-f newm/NN/newm /:/: where/WRB/where newm/NN/newm may/MD/may be/VB/be the/DT/the new/JJ/new mail/NN/mail box/NN/box option/NN/option which/WDT/which a/DT/a user/NN/user may/MD/may opt/VB/opt for/IN/for in/IN/in place/NN/place of/IN/of mbox/NN/mbox /:/( default/NN/default option/NN/option /:/) /./. next/JJ/next we/PRP/we describe/VBP/describe some/DT/some of/IN/of the/DT/the options/NNS/options that/WDT/that often/RB/often appear/VBP/appear inside/JJ/inside .mailrc/JJ/.mailrc user/NN/user files/NNP/files. generally/RB/generally /,/, with/IN/with these/DT/these options/NNS/options we/PRP/we may/MD/may have/VB/have aliases/NNS/aliases /:/( nick-names/NNS/nick-names /VBP/) in/IN/in place/NN/place of/IN/of the/DT/the full/JJ/full mail/NN/mail address/NNP/address. one/CD/one may/MD/may also/RB/also set/VB/set or/CC/or unset/VB/unset some/DT/some flags/NNS/flags as/IN/as shown/JJ/shown in/IN/in the/DT/the example/NN/example below/IN/below /:/: unset/NN/unset askcc/NN/askcc set/NN/set verbose/NN/verbose set/NN/set append/NN/append operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/12/CD/04/12 table/JJ/table 19.2/CD/19.2 /:/: various/JJ/various options/NNS/options for/IN/for .mailrc/JJ/.mailrc file/NNP/file. in/IN/in table/JJ/table 19.2/CD/19.2 /,/, we/PRP/we offer/VBP/offer a/DT/a brief/JJ/brief explanation/NN/explanation of/IN/of the/DT/the options/NNS/options which/WDT/which may/MD/may be/VB/be set/VBN/set initially/RB/initially in/IN/in .mailrc/JJ/.mailrc files/NNP/files. in/IN/in addition/NN/addition /,/, in/IN/in using/NN/using the/DT/the mail/NN/mail system/NN/system the/DT/the following/VBG/following may/MD/may be/VB/be the/DT/the additional/JJ/additional facilities/NNS/facilities which/WDT/which could/MD/could be/VB/be utilized/VBN/utilized /:/: 1/CD/1. to/TO/to subscribe/VB/subscribe to/TO/to listserv/VB/listserv @/:/@ machine.domain/JJ/machine.domain /,/, the/DT/the body/NN/body of/IN/of the/DT/the message/NN/message should/MD/should contain/VB/contain ?/./? subscribe/NN/subscribe "/:/" /,/, the/DT/the group/NN/group to/TO/to subscribe/VB/subscribe to/TO/to and/CC/and the/DT/the subscribers/NNS/subscribers '/POS/' e-mail/JJ/e-mail address/NN/address as/IN/as shown/NN/shown in/IN/in the/DT/the following/JJ/following example/NNP/example. subscribe/NN/subscribe allmusic/NN/allmusic me/PRP/me @/:/@ mymachine.mydomain/NNP/mymachine.mydomain. 2/CD/2. to/TO/to unsubscribe/VB/unsubscribe use/NN/use logout/IN/logout allmusic/NNP/allmusic. in/IN/in addition/NN/addition to/TO/to the/DT/the above/NN/above there/RB/there are/VBP/are vacation/NN/vacation programs/NNS/programs which/WDT/which send/NN/send mails/VBZ/mails automatically/RB/automatically when/WRB/when the/DT/the receiver/NN/receiver is/VBZ/is on/IN/on vacation/NNP/vacation. mails/NNS/mails may/MD/may also/RB/also be/VB/be encrypted/NNP/encrypted. for/IN/for instance/NN/instance /,/, one/CD/one may/MD/may use/VB/use a/DT/a pretty/RB/pretty good/JJ/good privacy/NN/privacy /:/( pgp/NN/pgp /:/) for/IN/for encrypting/NN/encrypting mails/NNP/mails. facilitating/NN/facilitating chat/WDT/chat with/IN/with .ircrc/JJ/.ircrc file/NN/file /:/: system/NN/system administrators/NNS/administrators may/MD/may prepare/VB/prepare terminals/NNS/terminals and/CC/and offer/NN/offer inter/NN/inter relay/NN/relay chat/WDT/chat or/CC/or irc/VBP/irc facility/NN/facility as/IN/as well/NNP/well. irc/NN/irc enables/VBZ/enables real-time/JJ/real-time conversation/NN/conversation with/IN/with one/CD/one or/CC/or more/JJR/more persons/NNS/persons who/WP/who may/MD/may be/VB/be scattered/VBN/scattered anywhere/RB/anywhere globally/NNP/globally. irc/NN/irc is/VBZ/is a/DT/a multi-user/JJ/multi-user system/NNP/system. to/TO/to use/VB/use irc/NN/irc 's/POS/'s /,/, unix-based/JJ/unix-based irc/NN/irc versions/NNS/versions /,/, one/CD/one may/MD/may have/VB/have to/TO/to set/VB/set the/DT/the terminal/JJ/terminal emulation/NN/emulation to/TO/to vt100/NNP/vt100 either/DT/either from/IN/from the/DT/the keyboard/NN/keyboard or/CC/or from/IN/from an/DT/an auto-login/JJ/auto-login file/NN/file such/JJ/such as/IN/as .login/JJ/.login in/IN/in bin/sh/JJ/bin/sh or/CC/or .cshrc/JJ/.cshrc in/IN/in /bin/csh/NNP//bin/csh. $/$/$ set/NN/set term/NN/term =/:/= vt100/NNP/vt100 $/$/$ stty/NN/stty erase/NN/erase "/:/" ^/:/^ h/NN/h "/:/" operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/13/CD/04/13 the/DT/the most/RBS/most common/JJ/common way/NN/way to/TO/to use/VB/use the/DT/the irc/NN/irc system/NN/system is/VBZ/is to/TO/to make/VB/make a/DT/a telnet/NN/telnet call/NN/call to/TO/to the/DT/the irc/NN/irc server/NNP/server. there/EX/there are/VBP/are many/JJ/many irc/NN/irc servers/NNP/servers. some/DT/some servers/NNS/servers require/VBP/require specification/NN/specification of/IN/of a/DT/a port/NN/port number/NN/number as/IN/as in/IN/in irc.ibmpcug.co.uk9999/NNP/irc.ibmpcug.co.uk9999. when/WRB/when one/CD/one first/JJ/first accesses/NNS/accesses the/DT/the irc/NN/irc server/NN/server /,/, many/JJ/many channels/NNS/channels are/VBP/are presented/NNP/presented. a/DT/a channel/NN/channel may/MD/may be/VB/be taken/VBN/taken as/IN/as a/DT/a discussion/NN/discussion area/NN/area and/CC/and one/CD/one may/MD/may choose/VB/choose a/DT/a channel/NN/channel for/IN/for an/DT/an online/NN/online chat/WDT/chat /-NONE-/( like/IN/like switch/NN/switch a/DT/a channel/NN/channel on/IN/on tv/NN/tv /:/) /./. ircs/NNS/ircs require/VBP/require setting/VBG/setting up/RP/up an/DT/an .ircrc/JJ/.ircrc file/NNP/file. below/IN/below we/PRP/we give/VBP/give some/DT/some sample/NN/sample entries/NNS/entries for/IN/for a/DT/a .ircrc/JJ/.ircrc file/NNP/file. the/DT/the .ircrc/NNP/.ircrc files/VBZ/files may/MD/may also/RB/also set/VB/set internal/JJ/internal variables/NNP/variables. /comment/JJ//comment /:/..... /nick/JJ//nick </NN/< nn/NN/nn >/:/> /join/JJ//join </NN/< ch/NN/ch >/:/> irc/NN/irc commands/NNS/commands begin/VBP/begin with/IN/with a/DT/a \/NN/\ //:// "/:/" character/NNP/character. in/IN/in table/JJ/table 19.3/CD/19.3 /,/, we/PRP/we give/VBP/give a/DT/a few/JJ/few of/IN/of the/DT/the commands/NNS/commands for/IN/for irc/NN/irc with/IN/with their/PRP$/their interpretations/NNP/interpretations. table/JJ/table 19.3/CD/19.3 /:/: various/JJ/various commands/NNS/commands with/IN/with interpretation/NNP/interpretation. ircs/NNS/ircs usually/RB/usually support/NN/support a/DT/a range/NN/range of/IN/of channels/NNP/channels. listed/VBN/listed below/IN/below are/VBP/are a/DT/a few/JJ/few of/IN/of the/DT/the channel/NN/channel types/NNS/types /:/: limbo/NN/limbo or/CC/or null/JJ/null public/JJ/public private/JJ/private secret/NN/secret moderated/VBD/moderated operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/14/CD/04/14 limited/VBN/limited topic/JJ/topic limited/VBN/limited invite/JJ/invite only/RB/only message/NN/message disabled/NNP/disabled. the/DT/the above/NN/above channel/NN/channel types/NNS/types are/VBP/are realized/VBN/realized by/IN/by using/NN/using a/DT/a mode/NN/mode command/NNP/command. the/DT/the modes/NNS/modes are/VBP/are set/VBN/set or/CC/or unset/NN/unset as/IN/as follows/NNP/follows. the/DT/the options/NNS/options have/VBP/have the/DT/the interpretations/NNS/interpretations shown/VBP/shown in/IN/in table/JJ/table 19.4/CD/19.4. /mode/JJ//mode sets/NNS/sets /:/( with/IN/with +/CD/+ /CD/) and/CC/and unsets/NNS/unsets /:/( with/IN/with /:/- /:/) the/DT/the mode/NN/mode of/IN/of channel/NN/channel with/IN/with the/DT/the following/VBG/following options/NNS/options /mode/JJ//mode </NN/< channel/NN/channel >/:/> +/:/+ </:/< channel/NN/channel options/NNS/options >/:/> </:/< parameters/NNS/parameters >/VBP/> /mode/JJ//mode </NN/< channel/NN/channel >/:/> /:/- </:/< channel/NN/channel options/NNS/options >/:/> </:/< parameters/NNS/parameters >/VBP/> table/JJ/table 19.4/CD/19.4 /:/: various/JJ/various options/NNS/options for/IN/for channels/NNP/channels. 19.4.1/CD/19.4.1 sourcing/VBG/sourcing files/NNS/files as/IN/as we/PRP/we have/VBP/have described/VBN/described above/IN/above /,/, the/DT/the .rc/JJ/.rc files/NNS/files help/VBP/help to/TO/to provide/VB/provide adequate/JJ/adequate support/NN/support for/IN/for a/DT/a variety/NN/variety of/IN/of services/NNP/services. suppose/NN/suppose we/PRP/we are/VBP/are logged/VBN/logged to/TO/to a/DT/a system/NN/system and/CC/and seek/NN/seek a/DT/a service/NN/service that/WDT/that requires/VBZ/requires a/DT/a change/NN/change in/IN/in one/CD/one of/IN/of the/DT/the .rc/JJ/.rc files/NNP/files. we/PRP/we may/MD/may edit/VB/edit the/DT/the corresponding/NN/corresponding file/NNP/file. however/RB/however /,/, to/TO/to affect/VB/affect the/DT/the changed/VBN/changed behavior/NN/behavior we/PRP/we must/MD/must source/VB/source the/DT/the file/NNP/file. basically/RB/basically /,/, we/PRP/we need/VBP/need to/TO/to execute/VB/execute the/DT/the source/NN/source command/NN/command with/IN/with the/DT/the file/NN/file name/NN/name as/IN/as argument/NN/argument as/IN/as shown/NN/shown below/IN/below where/WRB/where we/PRP/we source/VBP/source the/DT/the .cshrc/NNP/.cshrc file/NN/file /:/: source/NN/source .cshrc/NN/.cshrc 19.5/CD/19.5 device/NN/device management/NN/management and/CC/and services/NNS/services technically/RB/technically the/DT/the system/NN/system administrator/NN/administrator is/VBZ/is responsible/JJ/responsible for/IN/for every/DT/every device/NN/device /,/, for/IN/for all/PDT/all of/IN/of its/PRP$/its usage/NN/usage and/CC/and operation/NNP/operation. in/IN/in particular/JJ/particular /,/, the/DT/the administrator/NN/administrator looks/VBZ/looks after/IN/after its/PRP$/its installation/NN/installation /,/, upgrade/NN/upgrade /,/, configuration/NN/configuration /,/, scheduling/VBG/scheduling /,/, and/CC/and allocating/VBG/allocating quotas/NNS/quotas to/TO/to service/NN/service the/DT/the user/NN/user community/NNP/community. we/PRP/we shall/MD/shall /,/, however/RB/however /,/, restrict/NN/restrict ourselves/NNS/ourselves to/TO/to the/DT/the following/VBG/following three/CD/three services/NNS/services /:/: 1/CD/1. terminal-based/JJ/terminal-based services/NNS/services /,/, discussed/VBD/discussed in/IN/in section/NN/section 19.5.1/CD/19.5.1 2/CD/2. printer/NN/printer services/NNS/services /,/, discussed/VBD/discussed in/IN/in section/NN/section 19.5.2/CD/19.5.2 3/CD/3. disc/NN/disc space/NN/space and/CC/and file/NN/file services/NNS/services /,/, discussed/VBD/discussed in/IN/in section/NN/section 19.5.3/CD/19.5.3. we/PRP/we shall/MD/shall begin/VB/begin with/IN/with the/DT/the terminal/JJ/terminal settings/NNS/settings and/CC/and related/JJ/related issues/NNP/issues. 19.5.1/CD/19.5.1 the/DT/the terminal/JJ/terminal settings/NNS/settings operating/VBG/operating systems/system/JJ/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/15/CD/04/15 in/IN/in the/DT/the context/NN/context of/IN/of terminal/JJ/terminal settings/NNS/settings the/DT/the following/VBG/following three/CD/three things/NNS/things are/VBP/are important/JJ/important /:/: 1/CD/1. unix/CD/unix recognizes/NNS/recognizes terminals/NNS/terminals as/IN/as special/JJ/special files/NNP/files. 2/NNP/2. terminals/NNS/terminals operate/VBP/operate on/IN/on serial/JJ/serial lines/NNP/lines. unix/NN/unix has/VBZ/has a/DT/a way/NN/way to/TO/to deal/VB/deal with/IN/with files/NNS/files that/IN/that are/VBP/are essentially/RB/essentially using/VBG/using serial/JJ/serial communication/NN/communication lines/NNP/lines. 3/CD/3. the/DT/the terminals/NNS/terminals have/VBP/have a/DT/a variety/NN/variety of/IN/of settings/NNS/settings available/NNP/available. this/DT/this is/VBZ/is so/RB/so even/RB/even while/IN/while the/DT/the protocols/NNS/protocols of/IN/of communication/NN/communication for/IN/for all/DT/all of/IN/of them/PRP/them are/VBP/are similar/NNP/similar. from/IN/from the/DT/the point/NN/point of/IN/of terminal/JJ/terminal services/NNS/services provisioning/VBG/provisioning and/CC/and system/NN/system configuration/NN/configuration /,/, system/NN/system administration/NN/administration must/MD/must bear/VB/bear the/DT/the above/NN/above three/CD/three factors/NNS/factors in/IN/in mind/NNP/mind. unix/NN/unix maintains/VBZ/maintains all/DT/all terminal/JJ/terminal related/JJ/related information/NN/information in/IN/in tty/NN/tty files/NNS/files in/IN/in /etc/dev/NNP//etc/dev directory/NNP/directory. these/DT/these files/NNS/files are/VBP/are special/JJ/special files/NNS/files which/WDT/which adhere/RB/adhere to/TO/to the/DT/the protocols/NNS/protocols of/IN/of communication/NN/communication with/IN/with serial/JJ/serial lines/NNP/lines. this/DT/this includes/VBZ/includes those/DT/those terminals/NNS/terminals that/IN/that use/NN/use modems/NNS/modems for/IN/for communication/NNP/communication. some/DT/some systems/NNS/systems may/MD/may have/VB/have a/DT/a special/JJ/special file/NN/file for/IN/for console/NN/console like/IN/like /etc/dev/console/JJ//etc/dev/console which/WDT/which can/MD/can be/VB/be monitored/VBN/monitored for/IN/for messages/NNS/messages as/IN/as explained/VBN/explained in/IN/in the/DT/the chapter/NN/chapter on/IN/on x-windows/NNP/x-windows. depending/NN/depending upon/IN/upon the/DT/the terminal/JJ/terminal type/NN/type a/DT/a serial/JJ/serial line/NN/line control/NN/control protocol/NN/protocol is/VBZ/is used/VBN/used which/WDT/which can/MD/can interrogate/VB/interrogate or/CC/or activate/VB/activate appropriate/JJ/appropriate pins/NNS/pins on/IN/on the/DT/the hardware/NN/hardware interface/NN/interface plug/NNP/plug. the/DT/the following/VBG/following brief/NN/brief session/NN/session shows/VBZ/shows how/WRB/how a/DT/a terminal/JJ/terminal may/NN/may be/VB/be identified/VBN/identified on/IN/on a/DT/a host/NN/host /:/: login/NN/login /:/: bhatt/NN/bhatt password/NN/password /:/: last/JJ/last login/NN/login /:/: tue/NN/tue nov/NN/nov 5/CD/5 00/CD/00 /:/: 25/CD/25 /:/: 21/CD/21 from/IN/from 203.197.175.174/CD/203.197.175.174 /CD/[ bhatt/NN/bhatt @/:/@ iiitbsun/NN/iiitbsun bhatt/NN/bhatt /:/] $/$/$ hostname/NN/hostname iiitbsun/NN/iiitbsun /:/[ bhatt/NN/bhatt @/:/@ iiitbsun/NN/iiitbsun bhatt/NN/bhatt /:/] $/$/$ tty/NN/tty /dev/pts/1/-NONE-//dev/pts/1 /./[ bhatt/NN/bhatt @/:/@ iiitbsun/NN/iiitbsun bhatt/NN/bhatt /:/] $/$/$ termcap/NN/termcap and/CC/and terminfo/NN/terminfo files/NNS/files /:/: the/DT/the termcap/NN/termcap and/CC/and terminfo/NN/terminfo files/NNS/files in/IN/in the/DT/the directory/NN/directory /etc/NN//etc or/CC/or in/IN/in /usr/share/lib/terminfo/JJ//usr/share/lib/terminfo provide/NN/provide the/DT/the terminal/JJ/terminal database/NN/database /,/, information/NN/information and/CC/and programs/NNS/programs for/IN/for use/NN/use in/IN/in the/DT/the unix/NN/unix environment/NNP/environment. the/DT/the database/NN/database includes/VBZ/includes programs/NNS/programs that/WDT/that may/MD/may have/VB/have been/VBN/been compiled/VBN/compiled to/TO/to elicit/VB/elicit services/NNS/services from/IN/from a/DT/a specific/JJ/specific terminal/JJ/terminal which/WDT/which may/MD/may be/VB/be installed/NNP/installed. the/DT/the programs/NNS/programs that/WDT/that control/NN/control the/DT/the usage/NN/usage of/IN/of a/DT/a specific/JJ/specific terminal/JJ/terminal are/VBP/are identified/VBN/identified in/IN/in the/DT/the environment/NN/environment variable/JJ/variable term/NN/term as/IN/as shown/NN/shown in/IN/in the/DT/the example/NN/example below/IN/below /:/: /:/[ bhatt/NN/bhatt @/:/@ localhost/NN/localhost dft02/NNP/dft02 /NNP/] $/$/$ echo/NN/echo $/$/$ term/NN/term xterm/NN/xterm /:/[ bhatt/NN/bhatt @/:/@ localhost/NN/localhost dft02/NNP/dft02 /NNP/] $/$/$ operating/VBG/operating systems/system/JJ/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/16/CD/04/16 table/JJ/table 19.5/CD/19.5 /:/: options/NNS/options under/IN/under stty/NNP/stty. there/EX/there are/VBP/are specific/JJ/specific commands/NNS/commands like/IN/like tic/JJ/tic /,/, short/JJ/short for/IN/for terminal/JJ/terminal information/NN/information compilation/NNP/compilation. also/RB/also /,/, there/EX/there are/VBP/are programs/NNS/programs that/WDT/that convert/NN/convert termcap/NN/termcap to/TO/to terminfo/VB/terminfo whenever/NN/whenever required/NNP/required. for/IN/for detailed/JJ/detailed discussions/NNS/discussions on/IN/on terminal/JJ/terminal characteristics/NNS/characteristics and/CC/and how/WRB/how to/TO/to exploit/VB/exploit various/JJ/various features/NNS/features the/DT/the reader/NN/reader may/MD/may refer/VB/refer to/TO/to /VB/[ 2/CD/2 /CD/] /./. we/PRP/we shall/MD/shall /,/, however/RB/however /,/, elaborate/JJ/elaborate on/IN/on two/CD/two specific/JJ/specific commands/NNS/commands here/NNP/here. these/DT/these are/VBP/are the/DT/the tset/NN/tset and/CC/and stty/NN/stty commands/NNP/commands. 1/CD/1. tset/NN/tset command/NN/command /:/: the/DT/the tset/NN/tset command/NN/command is/VBZ/is used/VBN/used to/TO/to initialize/VB/initialize a/DT/a terminal/NNP/terminal. usually/RB/usually /,/, the/DT/the command/NN/command sets/VBZ/sets up/RP/up initial/JJ/initial settings/NNS/settings for/IN/for characters/NNS/characters like/IN/like erase/NN/erase /,/, kill/NN/kill /,/, etc/FW/etc. below/IN/below we/PRP/we show/VBP/show how/WRB/how under/IN/under c-shell/JJ/c-shell one/CD/one may/MD/may use/VB/use the/DT/the tset/NN/tset command/NN/command /:/: $/$/$ setenv/NN/setenv term/NN/term `/``/` tset/NN/tset /:/- q/NN/q -m/NN/-m "/:/" /:/: ?/./? vt100/NNP/vt100 "/NNP/" sometimes/RB/sometimes one/CD/one may/MD/may prepare/VB/prepare a/DT/a temporary/JJ/temporary file/NN/file and/CC/and source/NN/source it/NNP/it. 2/NNP/2. stty/NN/stty command/NN/command /:/: we/PRP/we briefly/RB/briefly encountered/VBD/encountered the/DT/the stty/NN/stty command/NN/command in/IN/in section/NN/section 19.2/CD/19.2. here/RB/here we/PRP/we shall/MD/shall elaborate/VB/elaborate on/IN/on stty/NN/stty command/NN/command in/IN/in the/DT/the context/NN/context of/IN/of options/NNS/options and/CC/and the/DT/the values/NNS/values which/WDT/which may/MD/may be/VB/be availed/VBN/availed by/IN/by using/NN/using the/DT/the stty/NN/stty command/NNP/command. in/IN/in table/JJ/table 19.5/CD/19.5 we/PRP/we list/VBP/list a/DT/a few/JJ/few of/IN/of the/DT/the options/NNS/options with/IN/with their/PRP$/their corresponding/NN/corresponding values/NNP/values. there/EX/there are/VBP/are many/JJ/many other/JJ/other options/NNP/options. in/IN/in table/JJ/table 19.5/CD/19.5 we/PRP/we have/VBP/have a/DT/a sample/NN/sample of/IN/of those/DT/those that/WDT/that are/VBP/are available/NNP/available. try/NN/try the/DT/the command/NN/command stty/NN/stty -a/NN/-a to/TO/to see/VB/see the/DT/the options/NNS/options for/IN/for your/PRP$/your terminal/NNP/terminal. below/IN/below is/VBZ/is shown/VBN/shown the/DT/the setting/NN/setting on/IN/on my/PRP$/my terminal/JJ/terminal /:/: /:/[ bhatt/NN/bhatt @/:/@ localhost/NN/localhost dft02/NNP/dft02 /NNP/] $/$/$ stty/NN/stty -a/-NONE-/-a speed/VBN/speed 38400/CD/38400 baud/NN/baud ;/:/; rows/VBZ/rows 24/CD/24 ;/:/; columns/NNS/columns 80/CD/80 ;/:/; line/NN/line =/:/= 0/-NONE-/0 ;/:/; intr/NN/intr =/:/= ^/:/^ c/NN/c ;/:/; quit/NN/quit =/:/= ^/:/^ \/:/\ ;/:/; erase/NN/erase =/:/= ^/:/^ ?/./? ;/:/; kill/NN/kill =/:/= ^/:/^ u/NN/u ;/:/; eof/IN/eof =/CD/= ^/CD/^ d/NN/d ;/:/; eol/NN/eol =/:/= m/JJ/m- ^/NN/^ ?/./? ;/:/; eol2/NNP/eol2 =/:/= m/JJ/m- ^/NN/^ ?/./? ;/:/; start/NN/start =/:/= ^/:/^ q/NN/q ;/:/; stop/VB/stop =/:/= ^/:/^ s/NNS/s ;/:/; susp/NN/susp =/:/= ^/:/^ z/NN/z ;/:/; rprnt/NN/rprnt =/:/= ^/:/^ r/NN/r ;/:/; werase/NN/werase =/:/= ^/:/^ w/NN/w ;/:/; lnext/NN/lnext =/:/= ^/:/^ v/NN/v ;/:/; flush/NN/flush =/:/= ^/:/^ o/NN/o ;/:/; min/NN/min =/:/= 1/CD/1 ;/:/; time/NN/time =/:/= 0/-NONE-/0 ;/:/; -parenb/NNP/-parenb -parodd/NNP/-parodd cs8/NNP/cs8 hupcl/NN/hupcl -cstopb/-NONE-/-cstopb cread/RB/cread -clocal/JJ/-clocal -crtscts/NNS/-crtscts -ignbrk/JJ/-ignbrk -brkint/JJ/-brkint -ignpar/JJ/-ignpar -parmrk/NN/-parmrk -inpck/NN/-inpck -istrip/NN/-istrip -inlcr/NN/-inlcr -igncr/NN/-igncr icrnl/NN/icrnl ixon/NN/ixon -ixoff/NN/-ixoff -iuclc/NN/-iuclc ixany/NN/ixany imaxbel/NN/imaxbel operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/17/CD/04/17 opost/NN/opost -olcuc/JJ/-olcuc -ocrnl/NN/-ocrnl onlcr/NN/onlcr -onocr/NN/-onocr -onlret/NN/-onlret -ofill/MD/-ofill -ofdel/VB/-ofdel nl0/NNP/nl0 cr0/NNP/cr0 tab0/NNP/tab0 bs0/NNP/bs0 vt0/NNP/vt0 ff0/NNP/ff0 isig/NN/isig icanon/NN/icanon iexten/NN/iexten echo/NN/echo echoe/NN/echoe echok/NN/echok -echonl/NN/-echonl -noflsh/JJ/-noflsh -xcase/NN/-xcase -tostop/JJ/-tostop -echoprt/NN/-echoprt echoctl/NN/echoctl echoke/NN/echoke /:/[ bhatt/NN/bhatt @/:/@ localhost/NN/localhost dft02/NNP/dft02 /NNP/] $/$/$ lastly/RB/lastly /,/, we/PRP/we discuss/VBP/discuss how/WRB/how to/TO/to attach/VB/attach a/DT/a new/JJ/new terminal/NNP/terminal. basically/RB/basically we/PRP/we need/VBP/need to/TO/to connect/VB/connect a/DT/a terminal/JJ/terminal and/CC/and then/RB/then we/PRP/we set-up/VBP/set-up the/DT/the entries/NNS/entries in/IN/in termcap/NN/termcap and/or/NN/and/or in/IN/in terminfo/NN/terminfo and/CC/and configuration/NN/configuration files/NNP/files. sometimes/RB/sometimes one/CD/one may/MD/may have/VB/have to/TO/to look/VB/look at/IN/at the/DT/the /etc/inittab/NNP//etc/inittab or/CC/or /etc/ttydefs/NNP//etc/ttydefs as/IN/as well/NNP/well. it/PRP/it helps/VBZ/helps to/TO/to reboot/VB/reboot the/DT/the system/NN/system on/IN/on some/DT/some occasions/NNS/occasions to/TO/to ensure/VB/ensure proper/JJ/proper initialization/NN/initialization following/VBG/following a/DT/a set-up/JJ/set-up attempt/NNP/attempt. 19.5.2/CD/19.5.2 printer/NN/printer services/NNS/services users/NNS/users obtain/VBP/obtain print/JJ/print services/NNS/services through/IN/through a/DT/a printer/NN/printer daemon/NNP/daemon. the/DT/the system/NN/system arranges/NNS/arranges to/TO/to offer/VB/offer print/JJ/print services/NNS/services by/IN/by spooling/VBG/spooling print/NN/print jobs/NNS/jobs in/IN/in a/DT/a spooling/NN/spooling directory/NNP/directory. it/PRP/it also/RB/also has/VBZ/has a/DT/a mechanism/NN/mechanism to/TO/to service/NN/service the/DT/the print/NN/print requests/NNS/requests from/IN/from the/DT/the spooling/NN/spooling directory/NNP/directory. in/IN/in addition/NN/addition /,/, system/NN/system administrators/NNS/administrators need/VBP/need to/TO/to be/VB/be familiar/JJ/familiar with/IN/with commands/NNS/commands which/WDT/which help/NN/help in/IN/in monitoring/NN/monitoring the/DT/the printer/NN/printer usage/NNP/usage. we/PRP/we shall/MD/shall begin/VB/begin with/IN/with a/DT/a description/NN/description of/IN/of the/DT/the printcap/NN/printcap file/NNP/file. the/DT/the printcap/NN/printcap file/NN/file /:/: unix/NN/unix systems/NNS/systems have/VBP/have their/PRP$/their print/NN/print services/NNS/services offered/VBD/offered using/VBG/using a/DT/a spooling/NN/spooling system/NNP/system. the/DT/the spooling/NN/spooling system/NN/system recognizes/VBZ/recognizes print/NN/print devices/NNS/devices that/WDT/that are/VBP/are identified/VBD/identified in/IN/in /etc/printcap/JJ//etc/printcap file/NNP/file. the/DT/the printcap/NN/printcap file/NN/file serves/NNS/serves not/RB/not only/RB/only as/IN/as a/DT/a database/NN/database /,/, but/CC/but also/RB/also as/IN/as a/DT/a configuration/NN/configuration file/NNP/file. below/IN/below we/PRP/we see/VBP/see the/DT/the printcap/NN/printcap file/NN/file on/IN/on my/PRP$/my machine/NN/machine /:/: #/#/# /etc/printcap/JJ//etc/printcap #/#/# #/#/# do/VBP/do not/RB/not edit/VB/edit !/./! manual/JJ/manual changes/NNS/changes will/MD/will be/VB/be lost/VBN/lost !/./! #/#/# this/DT/this file/NN/file is/VBZ/is autogenerated/VBN/autogenerated by/IN/by printconf-backend/JJ/printconf-backend during/IN/during lpd/JJ/lpd init/NNP/init. #/#/# #/#/# hand/NN/hand edited/VBD/edited changes/NNS/changes can/MD/can be/VB/be put/VBN/put in/RP/in /etc/printcap.local/JJ//etc/printcap.local /,/, and/CC/and will/MD/will be/VB/be included/NNP/included. iiitb/NN/iiitb /:/: \/:/\ /:/: sh/JJ/sh /:/: \/:/\ /:/: ml/NN/ml =/:/= 0/-NONE-/0 /:/: \/:/\ /:/: mx/NN/mx =/:/= 0/-NONE-/0 /:/: \/:/\ /:/: sd/NN/sd =/:/= /var/spool/lpd/iiitb/JJ//var/spool/lpd/iiitb /:/: \/:/\ /:/: lp/NN/lp =/:/= |/:/| /usr/share/printconf/jetdirectprint/JJ//usr/share/printconf/jetdirectprint /:/: \/:/\ /:/: lpd_bounce/NN/lpd_bounce =/:/= true/JJ/true /:/: \/:/\ operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/18/CD/04/18 /:/: if/IN/if =/CD/= /usr/share//NN//usr/share/ printconf/mf_wrap/NN/printconf/mf_wrap per/IN/per /:/: the/DT/the printcap/NN/printcap file/NN/file is/VBZ/is a/DT/a read-only/JJ/read-only file/NN/file except/IN/except that/DT/that it/PRP/it can/MD/can be/VB/be edited/VBN/edited by/IN/by superuser/NN/superuser root/NNP/root. the/DT/the entries/NNS/entries in/IN/in printcap/NN/printcap files/NNS/files can/MD/can be/VB/be explained/VBN/explained using/VBG/using table/JJ/table 19.6/CD/19.6. with/IN/with the/DT/the file/NN/file description/NN/description and/CC/and the/DT/the table/NN/table we/PRP/we can/MD/can see/VB/see that/IN/that the/DT/the spooling/NN/spooling directory/NN/directory for/IN/for our/PRP$/our printer/NN/printer /,/, with/IN/with printer/NN/printer name/NN/name iiitb/NN/iiitb is/VBZ/is at/IN/at /var/spool/NNP//var/spool. also/RB/also note/VBP/note we/PRP/we have/VBP/have no/DT/no limit/NN/limit on/IN/on file/NN/file size/NN/size which/WDT/which can/MD/can be/VB/be printed/NNP/printed. table/JJ/table 19.6/CD/19.6 /:/: the/DT/the printcap/NN/printcap file/NN/file /:/: printer/NN/printer characteristics/NNP/characteristics. printer/NN/printer spooling/VBG/spooling directory/NN/directory /:/: as/IN/as we/PRP/we explained/VBD/explained earlier/RBR/earlier /,/, print/VBP/print requests/NNS/requests get/VBP/get spooled/VBN/spooled first/NNP/first. subsequently/RB/subsequently /,/, the/DT/the printer/NN/printer daemon/NN/daemon lpd/NN/lpd honours/NNS/honours the/DT/the print/NN/print request/NN/request to/TO/to print/NNP/print. to/TO/to achieve/VB/achieve this/DT/this /,/, one/CD/one may/MD/may employ/VB/employ a/DT/a two/CD/two layered/VBN/layered design/NNP/design. viewing/NN/viewing it/PRP/it bottom/VBP/bottom up/RP/up /,/, at/IN/at the/DT/the bottom/NN/bottom layer/NN/layer maintain/NN/maintain a/DT/a separate/JJ/separate spooling/NN/spooling directory/NN/directory for/IN/for each/DT/each of/IN/of the/DT/the printers/NNP/printers. so/RB/so /,/, when/WRB/when we/PRP/we attach/VBP/attach a/DT/a new/JJ/new printer/NN/printer /,/, we/PRP/we must/MD/must create/VB/create a/DT/a new/JJ/new spooling/NN/spooling directory/NN/directory for/IN/for it/NNP/it. at/IN/at the/DT/the top/JJ/top level/NN/level /,/, we/PRP/we have/VBP/have a/DT/a spooling/VBG/spooling process/NN/process which/WDT/which receives/NNS/receives each/VBP/each print/NN/print request/NN/request and/CC/and finally/RB/finally spools/NNS/spools it/PRP/it for/IN/for printer/NN/printer /:/( s/NNS/s /VBP/) /./. note/NN/note that/IN/that the/DT/the owner/NN/owner of/IN/of the/DT/the spool/NN/spool process/NN/process is/VBZ/is a/DT/a group/NN/group daemon/NNP/daemon. printer/NN/printer monitoring/VBG/monitoring commands/NNS/commands /:/: the/DT/the printer/NN/printer commands/NNS/commands help/VBP/help to/TO/to monitor/VB/monitor both/DT/both the/DT/the health/NN/health of/IN/of the/DT/the services/NNS/services as/IN/as also/RB/also the/DT/the work/NN/work in/IN/in progress/NNP/progress. in/IN/in table/JJ/table 19.7/CD/19.7 we/PRP/we elaborate/VBP/elaborate on/IN/on the/DT/the commands/NNS/commands and/CC/and their/PRP$/their interpretations/NNP/interpretations. table/JJ/table 19.7/CD/19.7 /:/: the/DT/the printer/NN/printer commands/NNP/commands. to/TO/to add/VB/add a/DT/a printer/NN/printer one/CD/one may/MD/may use/VB/use a/DT/a lpadmin/NN/lpadmin tool/NNP/tool. some/DT/some of/IN/of the/DT/the system/NN/system administration/NN/administration practices/NNS/practices are/VBP/are best/JJS/best learned/VBN/learned by/IN/by assisting/NN/assisting experienced/VBN/experienced system/NN/system administrators/NNS/administrators rarely/RB/rarely can/MD/can be/VB/be taught/VBN/taught through/IN/through a/DT/a textbook/NNP/textbook. operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/19/CD/04/19 19.5.3/CD/19.5.3 disk/NN/disk space/NN/space allocation/NN/allocation and/CC/and management/NN/management in/IN/in this/DT/this section/NN/section we/PRP/we shall/MD/shall discuss/VB/discuss how/WRB/how does/VBZ/does a/DT/a system/NN/system administrator/NN/administrator manage/NN/manage the/DT/the disk/NN/disk space/NNP/space. we/PRP/we will/MD/will also/RB/also like/VB/like the/DT/the reader/NN/reader to/TO/to refer/VB/refer to/TO/to section/NN/section 2.7.1/CD/2.7.1 where/WRB/where we/PRP/we stated/VBD/stated that/IN/that at/IN/at the/DT/the time/NN/time of/IN/of formatting/VBG/formatting /,/, partitions/NNS/partitions of/IN/of the/DT/the disk/NN/disk get/NN/get defined/NNP/defined. the/DT/the partitions/NNS/partitions may/MD/may be/VB/be physical/JJ/physical or/CC/or logical/NNP/logical. in/IN/in case/NN/case of/IN/of a/DT/a physical/JJ/physical partition/NN/partition we/PRP/we have/VBP/have the/DT/the file/NN/file system/NN/system resident/NN/resident within/IN/within one/CD/one disk/NN/disk drive/NNP/drive. in/IN/in case/NN/case of/IN/of logical/JJ/logical partition/NN/partition /,/, the/DT/the file/NN/file system/NN/system may/MD/may extend/VB/extend over/IN/over several/JJ/several drives/NNP/drives. in/IN/in either/DT/either of/IN/of these/DT/these cases/NNS/cases the/DT/the following/VBG/following issues/NNS/issues are/VBP/are at/IN/at stake/NN/stake /:/: 1/CD/1. disk/NN/disk file/NN/file system/NN/system /:/: in/IN/in chapter/NN/chapter 2/CD/2 we/PRP/we indicated/VBD/indicated that/IN/that system/NN/system files/NNS/files are/VBP/are resident/JJ/resident in/IN/in the/DT/the root/NN/root file/NN/file system/NNP/system. similarly/RB/similarly /,/, the/DT/the user/NN/user information/NN/information is/VBZ/is maintained/VBN/maintained in/IN/in home/NN/home file/NN/file system/NN/system created/VBD/created by/IN/by the/DT/the administrator/NNP/administrator. usually/RB/usually /,/, a/DT/a physical/JJ/physical disk/NN/disk drive/JJ/drive may/MD/may have/VB/have one/CD/one or/CC/or more/JJR/more file/JJ/file systems/NNS/systems resident/NN/resident on/IN/on it/NNP/it. as/IN/as an/DT/an example/NN/example /,/, consider/NN/consider the/DT/the mapping/NN/mapping shown/NN/shown in/IN/in figure/NN/figure 19.1/CD/19.1. we/PRP/we notice/NN/notice that/IN/that there/EX/there are/VBP/are three/CD/three physical/JJ/physical drives/NNS/drives with/IN/with mapping/VBG/mapping or/CC/or root/NN/root and/CC/and the/DT/the names/NNS/names of/IN/of file/JJ/file systems/NNS/systems are/VBP/are shown/VBN/shown in/IN/in bold/JJ/bold letters/NNP/letters. figure/NN/figure 19.1/CD/19.1 /:/: mapping/VBG/mapping file/NN/file systems/NNS/systems on/IN/on physical/JJ/physical drives/NNP/drives. other/JJ/other file/NN/file systems/NNP/systems. note/NN/note that/IN/that the/DT/the disk/NN/disk drive/VBP/drive with/IN/with the/DT/the root/NN/root file/NN/file system/NN/system co-locates/NNS/co-locates the/DT/the var/NN/var file/NN/file system/NN/system on/IN/on the/DT/the same/JJ/same drive/NNP/drive. also/RB/also /,/, the/DT/the file/NN/file system/NN/system home/NN/home extends/NNS/extends over/IN/over two/CD/two drives/NNP/drives. this/DT/this is/VBZ/is possible/JJ/possible by/IN/by appropriate/JJ/appropriate assignment/NN/assignment of/IN/of the/DT/the disk/NN/disk partitions/NNS/partitions to/TO/to various/JJ/various file/NN/file systems/NNP/systems. of/IN/of course/NN/course /,/, system/NN/system programmers/NNS/programmers follow/VBP/follow some/DT/some method/NN/method in/IN/in both/DT/both partitioning/NN/partitioning and/CC/and allocating/VBG/allocating the/DT/the partitions/NNP/partitions. recall/NN/recall that/WDT/that each/DT/each file/NN/file system/NN/system maintains/VBZ/maintains some/DT/some data/NNS/data about/IN/about each/DT/each of/IN/of the/DT/the files/NNS/files within/IN/within it/NNP/it. system/NN/system administrators/NNS/administrators have/VBP/have to/TO/to reallocate/VB/reallocate the/DT/the file/NN/file systems/NNS/systems when/WRB/when new/JJ/new disks/NNS/disks become/VBP/become available/JJ/available /,/, or/CC/or when/WRB/when some/DT/some disk/NN/disk suffers/NNS/suffers damage/NN/damage to/TO/to sectors/NNS/sectors or/CC/or tracks/NNS/tracks which/WDT/which may/MD/may no/RB/no longer/RBR/longer be/VB/be available/NNP/available. operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/20/CD/04/20 2/CD/2. mounting/VBG/mounting and/CC/and unmounting/VBG/unmounting /:/: the/DT/the file/NN/file systems/NNS/systems keep/VB/keep the/DT/the files/NNS/files in/IN/in a/DT/a directory/NN/directory structure/NN/structure which/WDT/which is/VBZ/is essentially/RB/essentially a/DT/a tree/NNP/tree. so/RB/so a/DT/a new/JJ/new file/NN/file system/NN/system can/MD/can be/VB/be created/VBN/created by/IN/by specifying/NN/specifying the/DT/the point/NN/point of/IN/of mount/NN/mount in/IN/in the/DT/the directory/NN/directory tree/NNP/tree. a/DT/a typical/JJ/typical mount/NN/mount instruction/NN/instruction has/VBZ/has the/DT/the following/VBG/following format/NNP/format. mount/NN/mount a-block-special-file/JJ/a-block-special-file point-of-mount/NN/point-of-mount corresponding/VBG/corresponding to/TO/to a/DT/a mount/NN/mount instruction/NN/instruction /,/, there/EX/there is/VBZ/is also/RB/also an/DT/an instruction/NN/instruction to/TO/to unmount/NNP/unmount. in/IN/in unix/NN/unix it/PRP/it is/VBZ/is umount/NN/umount with/IN/with the/DT/the same/JJ/same format/NN/format as/IN/as mount/NNP/mount. in/IN/in unix/NN/unix every/DT/every time/NN/time we/PRP/we have/VBP/have a/DT/a new/JJ/new disk/NN/disk added/VBD/added /,/, it/PRP/it is/VBZ/is mounted/VBN/mounted at/IN/at a/DT/a suitable/JJ/suitable point/NN/point of/IN/of mount/NN/mount in/IN/in the/DT/the directory/NN/directory tree/NNP/tree. in/IN/in that/DT/that case/NN/case the/DT/the mount/NN/mount instruction/NN/instruction is/VBZ/is used/VBN/used exactly/RB/exactly as/IN/as explained/NNP/explained. of/IN/of course/NN/course /,/, a/DT/a disk/NN/disk is/VBZ/is assumed/VBN/assumed to/TO/to be/VB/be formatted/NNP/formatted. 3/CD/3. disk/NN/disk quota/NN/quota /:/: disk/NN/disk quota/NN/quota can/MD/can be/VB/be allocated/VBN/allocated by/IN/by reconfiguring/NN/reconfiguring the/DT/the file/NN/file system/NN/system usually/RB/usually located/VBN/located at/IN/at /etc/fstab/NNP//etc/fstab. to/TO/to extend/VB/extend the/DT/the allocation/NN/allocation quota/NN/quota in/IN/in a/DT/a file/NN/file system/NN/system we/PRP/we first/RB/first have/VBP/have to/TO/to modify/VB/modify the/DT/the corresponding/NN/corresponding entry/NN/entry in/IN/in the/DT/the /etc/fstab/NN//etc/fstab file/NNP/file. the/DT/the system/NN/system administration/NN/administration can/MD/can set/VB/set hard/RB/hard or/CC/or soft/JJ/soft limits/NNS/limits of/IN/of user/NN/user quota/NNP/quota. if/IN/if a/DT/a hard/JJ/hard limit/NN/limit has/VBZ/has been/VBN/been set/VBN/set /,/, then/RB/then the/DT/the user/NN/user simply/RB/simply can/MD/can not/RB/not exceed/VB/exceed the/DT/the allocated/VBN/allocated space/NNP/space. however/RB/however /,/, if/IN/if a/DT/a soft/JJ/soft limit/NN/limit is/VBZ/is set/VBN/set /,/, then/RB/then the/DT/the user/NN/user is/VBZ/is cautioned/VBN/cautioned when/WRB/when he/PRP/he approaches/VBZ/approaches the/DT/the soft/JJ/soft limit/NNP/limit. usually/RB/usually /,/, it/PRP/it is/VBZ/is expected/VBN/expected that/IN/that the/DT/the user/NN/user will/MD/will resort/VB/resort to/TO/to purging/VB/purging files/NNS/files no/DT/no longer/NN/longer in/IN/in use/NNP/use. else/NN/else he/PRP/he may/MD/may seek/VB/seek additional/JJ/additional disk/NN/disk space/NNP/space. some/DT/some systems/NNS/systems have/VBP/have quota/NN/quota set/VBN/set at/IN/at the/DT/the group/NN/group level/NNP/level. it/PRP/it may/MD/may also/RB/also be/VB/be possible/JJ/possible to/TO/to set/VB/set quota/NN/quota for/IN/for individual/JJ/individual users/NNP/users. both/DT/both these/DT/these situations/NNS/situations require/VBP/require executing/VBG/executing an/DT/an edit/NN/edit quota/NN/quota instruction/NN/instruction with/IN/with user/NN/user name/NN/name or/CC/or group/NN/group name/NN/name as/RB/as the/DT/the argument/NNP/argument. the/DT/the format/NN/format of/IN/of edquota/NN/edquota instruction/NN/instruction is/VBZ/is shown/VBN/shown below/-NONE-/below. edquota/NN/edquota user-name/JJ/user-name 4/CD/4. integrity/NN/integrity of/IN/of file/NN/file systems/NNS/systems /:/: due/JJ/due to/TO/to the/DT/the dynamics/NNS/dynamics of/IN/of temporary/JJ/temporary allocations/NNS/allocations and/CC/and moving/VBG/moving files/NNS/files around/IN/around /,/, the/DT/the integrity/NN/integrity of/IN/of a/DT/a file/NN/file system/NN/system may/MD/may get/VB/get compromised/NNP/compromised. the/DT/the following/VBG/following are/VBP/are some/DT/some of/IN/of the/DT/the ways/NNS/ways the/DT/the integrity/NN/integrity is/VBZ/is lost/VBN/lost /:/: ?/./? lost/VBD/lost files/NNP/files. this/DT/this may/MD/may happen/VB/happen because/IN/because a/DT/a user/NN/user ahs/VBZ/ahs opened/VBN/opened the/DT/the same/JJ/same file/NN/file from/IN/from multiple/NN/multiple windows/NNS/windows and/CC/and edited/VBD/edited them/NNP/them. ?/./? a/DT/a block/NN/block may/MD/may be/VB/be marked/VBN/marked free/JJ/free but/CC/but may/MD/may be/VB/be in/IN/in use/NNP/use. ?/./? a/DT/a block/NN/block may/MD/may be/VB/be marked/VBN/marked in/IN/in use/NN/use but/CC/but may/MD/may be/VB/be free/NNP/free. ?/./? the/DT/the link/NN/link counts/VBZ/counts may/MD/may not/RB/not be/VB/be correct/NNP/correct. ?/./? the/DT/the data/NNS/data in/IN/in the/DT/the file/NN/file system/NN/system table/NN/table and/CC/and actual/JJ/actual files/NNS/files may/MD/may be/VB/be different/NNP/different. operating/NN/operating systems/system/NN/systems/system administration/NN/administration in/IN/in unix/NN/unix lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m19/v1/june/JJ/m19/v1/june 04/21/CD/04/21 the/DT/the integrity/NN/integrity of/IN/of the/DT/the file/NN/file system/NN/system is/VBZ/is checked/VBN/checked out/RP/out by/IN/by using/NN/using a/DT/a fsck/NN/fsck instruction/NNP/instruction. the/DT/the argument/NN/argument to/TO/to the/DT/the command/NN/command is/VBZ/is the/DT/the file/NN/file system/NN/system which/WDT/which we/PRP/we need/VBP/need to/TO/to check/VB/check as/IN/as shown/JJ/shown below/NNP/below. fsck/NN/fsck file-system-to-be-checked/JJ/file-system-to-be-checked on/IN/on rebooting/NN/rebooting the/DT/the system/NN/system these/DT/these checks/NNS/checks are/VBP/are mandatory/JJ/mandatory and/CC/and routinely/RB/routinely performed/NNP/performed. consequently/RB/consequently /,/, the/DT/the consistency/NN/consistency of/IN/of the/DT/the file/NN/file system/NN/system is/VBZ/is immediately/RB/immediately restored/VBN/restored on/IN/on rebooting/NNP/rebooting. 5/NNP/5. access/NN/access control/NN/control /:/: as/IN/as explained/VBN/explained earlier/JJR/earlier in/IN/in this/DT/this chapter/NN/chapter /,/, when/WRB/when an/DT/an account/NN/account is/VBZ/is opened/VBN/opened /,/, a/DT/a user/NN/user is/VBZ/is allocated/VBN/allocated a/DT/a group/NNP/group. the/DT/the group/NN/group determines/NNS/determines the/DT/the access/NNP/access. it/PRP/it is/VBZ/is also/RB/also possible/JJ/possible to/TO/to offer/NN/offer an/DT/an initial/JJ/initial set-up/NN/set-up that/WDT/that will/MD/will allow/VB/allow access/NN/access to/TO/to special/JJ/special /NN/( licensed/VBD/licensed /CD/) software/NN/software like/IN/like matlab/NN/matlab suite/NN/suite of/IN/of software/NNP/software. 6/CD/6. periodic/JJ/periodic back-up/NN/back-up /:/: every/DT/every good/JJ/good administrator/NN/administrator follows/VBZ/follows a/DT/a regular/JJ/regular back-up/NN/back-up procedure/NN/procedure so/RB/so that/IN/that in/IN/in case/NN/case of/IN/of a/DT/a severe/JJ/severe breakdown/NN/breakdown /,/, at/IN/at least/JJS/least a/DT/a stable/NN/stable previous/JJ/previous state/NN/state can/MD/can be/VB/be achieved/NNP/achieved. 19.6/CD/19.6 after-word/JJ/after-word in/IN/in this/DT/this moduler/NN/moduler we/PRP/we have/VBP/have listed/VBN/listed many/JJ/many tasks/NNS/tasks which/WDT/which system/NN/system administrators/NNS/administrators are/VBP/are required/VBN/required to/TO/to perform/NNP/perform. however/RB/however /,/, as/IN/as we/PRP/we remarked/VBD/remarked earlier/RBR/earlier /,/, the/DT/the best/JJS/best lessons/NNS/lessons in/IN/in system/NN/system administration/NN/administration are/VBP/are learned/VBN/learned under/IN/under the/DT/the tutelage/NN/tutelage of/IN/of a/DT/a very/RB/very experienced/VBN/experienced system/NN/system administrator/NNP/administrator. there/EX/there is/VBZ/is no/DT/no substitute/NN/substitute to/TO/to the/DT/the ?/./? hands-on/JJ/hands-on "/NN/" learning/NNP/learning. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/1/CD/04/1 module/NN/module 20/CD/20 /:/: more/JJR/more on/IN/on linux/NN/linux linux/NN/linux kernel/NN/kernel architecture/NN/architecture the/DT/the big/JJ/big picture/NN/picture /:/: it/PRP/it is/VBZ/is a/DT/a good/JJ/good idea/NN/idea to/TO/to look/VB/look at/IN/at the/DT/the linux/NN/linux kernel/NN/kernel within/IN/within the/DT/the overall/JJ/overall system/NN/system ?/./? s/NNS/s overall/JJ/overall context/NNP/context.. applications/NNS/applications and/CC/and os/NNS/os services/NNS/services /:/: these/DT/these are/VBP/are the/DT/the user/NN/user application/NN/application running/VBG/running on/IN/on the/DT/the linux/NN/linux system/NNP/system. these/DT/these applications/NNS/applications are/VBP/are not/RB/not fixed/VBN/fixed but/CC/but typically/RB/typically include/VBP/include applications/NNS/applications like/IN/like email/NN/email clients/NNS/clients /,/, text/JJ/text processors/NNS/processors etc/NNP/etc. os/NNS/os services/NNS/services include/VBP/include utilities/NNS/utilities and/CC/and services/NNS/services that/WDT/that are/VBP/are traditionally/RB/traditionally considered/VBN/considered part/NN/part of/IN/of an/DT/an os/NNS/os like/IN/like the/DT/the windowing/NN/windowing system/NN/system /,/, shells/NNS/shells /,/, programming/VBG/programming interface/NN/interface to/TO/to the/DT/the kernel/NN/kernel /,/, the/DT/the libraries/NNS/libraries and/CC/and compilers/NNS/compilers etc/NNP/etc. linux/NN/linux kernel/NN/kernel /:/: kernel/NN/kernel abstracts/NNS/abstracts the/DT/the hardware/NN/hardware to/TO/to the/DT/the upper/JJ/upper layers/NNP/layers. the/DT/the kernel/NN/kernel presents/NNS/presents the/DT/the same/JJ/same view/NN/view of/IN/of the/DT/the hardware/NN/hardware even/RB/even if/IN/if the/DT/the underlying/VBG/underlying hardware/NN/hardware is/VBZ/is ifferent/NNP/ifferent. it/PRP/it mediates/VBZ/mediates and/CC/and controls/NNS/controls access/NN/access to/TO/to system/NN/system resources/NNP/resources. hardware/NN/hardware /:/: this/DT/this layer/NN/layer consists/VBZ/consists of/IN/of the/DT/the physical/JJ/physical resources/NNS/resources of/IN/of the/DT/the system/NN/system that/IN/that finally/RB/finally do/VBP/do the/DT/the actual/JJ/actual work/NNP/work. this/DT/this includes/VBZ/includes the/DT/the cpu/NN/cpu /,/, the/DT/the hard/JJ/hard disk/NN/disk /,/, the/DT/the parallel/NN/parallel port/NN/port controllers/NNS/controllers /,/, the/DT/the system/NN/system ram/NN/ram etc/FW/etc. the/DT/the linux/NN/linux kernel/NN/kernel /:/: after/IN/after looking/VBG/looking at/IN/at the/DT/the big/JJ/big picture/NN/picture we/PRP/we should/MD/should zoom/VB/zoom into/IN/into the/DT/the linux/NN/linux kernel/NN/kernel to/TO/to get/VB/get a/DT/a closer/JJR/closer look/NNP/look. purpose/NN/purpose of/IN/of the/DT/the kernel/NN/kernel /:/: the/DT/the linux/NN/linux kernel/NN/kernel presents/NNS/presents a/DT/a virtual/JJ/virtual machine/NN/machine interface/NN/interface to/TO/to user/VB/user processes/NNP/processes. processes/NNS/processes are/VBP/are written/VBN/written without/IN/without needing/NN/needing any/DT/any knowledge/NN/knowledge /:/( most/JJS/most of/IN/of the/DT/the time/NN/time /:/) of/IN/of the/DT/the type/NN/type of/IN/of the/DT/the physical/JJ/physical hardware/NN/hardware that/WDT/that constitutes/VBZ/constitutes the/DT/the computer/NNP/computer. the/DT/the linux/NN/linux kernel/NN/kernel abstracts/NNS/abstracts all/DT/all hardware/NN/hardware into/IN/into a/DT/a consistent/JJ/consistent interface/NNP/interface. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/2/CD/04/2 in/IN/in addition/NN/addition /,/, linux/NN/linux kernel/NN/kernel supports/NNS/supports multi-tasking/JJ/multi-tasking in/IN/in a/DT/a manner/NN/manner that/WDT/that is/VBZ/is transparent/NN/transparent to/TO/to user/VB/user processes/NNS/processes /:/: each/DT/each process/NN/process can/MD/can act/VB/act as/IN/as though/IN/though it/PRP/it is/VBZ/is the/DT/the only/JJ/only process/NN/process on/IN/on the/DT/the computer/NN/computer /,/, with/IN/with exclusive/JJ/exclusive use/NN/use of/IN/of main/NN/main memory/NN/memory and/CC/and other/JJ/other hardware/NN/hardware resources/NNP/resources. the/DT/the kernel/NN/kernel actually/RB/actually runs/VBZ/runs several/JJ/several processes/NNS/processes concurrently/RB/concurrently /,/, and/CC/and mediates/VBZ/mediates access/NN/access to/TO/to hardware/VB/hardware resources/NNS/resources so/IN/so that/IN/that each/DT/each process/NN/process has/VBZ/has fair/JJ/fair access/NN/access while/IN/while inter-process/JJ/inter-process security/NN/security is/VBZ/is maintained/NNP/maintained. the/DT/the kernel/NN/kernel code/NN/code executes/VBZ/executes in/IN/in privileged/JJ/privileged mode/NN/mode called/VBN/called kernel/NN/kernel mode/NNP/mode. any/DT/any code/NN/code that/IN/that does/VBZ/does not/RB/not need/VBP/need to/TO/to run/VB/run in/IN/in privileged/JJ/privileged mode/NN/mode is/VBZ/is put/VBN/put in/RP/in the/DT/the system/NN/system library/NNP/library. the/DT/the interesting/JJ/interesting thing/NN/thing about/IN/about linux/NN/linux kernel/NN/kernel is/VBZ/is that/IN/that it/PRP/it has/VBZ/has a/DT/a modular/JJ/modular architecture/NN/architecture ?/./? even/RB/even with/IN/with binary/JJ/binary codes/NNS/codes /:/: linux/NN/linux kernel/NN/kernel can/MD/can load/VB/load /:/( and/CC/and unload/VB/unload /:/) modules/NNS/modules dynamically/RB/dynamically /:/( at/IN/at run/NN/run time/NN/time /:/) just/RB/just as/IN/as it/PRP/it can/MD/can load/VB/load or/CC/or unload/VB/unload the/DT/the system/NN/system library/NN/library modules/NNP/modules. here/RB/here we/PRP/we shall/MD/shall explore/VB/explore the/DT/the conceptual/JJ/conceptual view/NN/view of/IN/of the/DT/the kernel/NN/kernel without/IN/without really/RB/really bothering/VBG/bothering about/IN/about the/DT/the implementation/NN/implementation issues/NNS/issues /:/( which/WDT/which keep/VB/keep on/IN/on constantly/RB/constantly changing/VBG/changing any/DT/any way/NN/way /:/) /./. kernel/NN/kernel code/NN/code provides/VBZ/provides for/IN/for arbitrations/NNS/arbitrations and/CC/and for/IN/for protected/VBN/protected access/NN/access to/TO/to hw/VB/hw resources/NNP/resources. kernel/NN/kernel supports/NNS/supports services/NNS/services for/IN/for the/DT/the applications/NNS/applications through/IN/through the/DT/the system/NN/system libraries/NNP/libraries. system/NN/system calls/VBZ/calls within/IN/within applications/NNS/applications /:/( may/MD/may be/VB/be written/VBN/written in/IN/in c/NN/c /:/) may/MD/may also/RB/also use/VB/use system/NN/system library/NNP/library. for/IN/for instance/NN/instance /,/, the/DT/the buffered/VBN/buffered file/NN/file handling/NN/handling is/VBZ/is operated/VBN/operated and/CC/and managed/VBN/managed by/IN/by linux/NN/linux kernel/NN/kernel through/IN/through system/NN/system libraries/NNP/libraries. programs/NNS/programs like/IN/like utilities/NNS/utilities that/WDT/that are/VBP/are needed/VBN/needed to/TO/to initialize/VB/initialize the/DT/the system/NN/system and/CC/and configure/NN/configure network/NN/network devices/NNS/devices are/VBP/are classed/VBN/classed as/IN/as user/NN/user mode/NN/mode programs/NNS/programs and/CC/and do/VBP/do not/RB/not run/VBN/run with/IN/with kernel/NN/kernel privileges/NNS/privileges /:/( unlike/IN/unlike in/IN/in unix/NN/unix /:/) /./. programs/NNS/programs like/IN/like those/DT/those that/WDT/that handle/NN/handle login/VBP/login requests/NNS/requests are/VBP/are run/VBN/run as/IN/as system/NN/system utilities/NNS/utilities and/CC/and also/RB/also do/VBP/do not/RB/not require/VB/require kernel/NN/kernel privileges/NNS/privileges /:/( unlike/IN/unlike in/IN/in unix/NN/unix /:/) /./. the/DT/the linux/NN/linux kernel/NN/kernel structure/NN/structure overview/NN/overview /:/: the/DT/the ?/./? loadable/JJ/loadable ?/./? kernel/NN/kernel modules/NNS/modules execute/VBP/execute in/IN/in the/DT/the privileged/JJ/privileged kernel/NN/kernel mode/NN/mode ?/./? and/CC/and therefore/RB/therefore have/VBP/have the/DT/the capabilities/NNS/capabilities to/TO/to communicate/VB/communicate with/IN/with all/DT/all of/IN/of hw/NNP/hw. linux/NN/linux kernel/NN/kernel source/NN/source code/NN/code is/VBZ/is free/NNP/free. people/NNS/people may/MD/may develop/VB/develop their/PRP$/their own/JJ/own kernel/NN/kernel modules/NNP/modules. however/RB/however /,/, this/DT/this requires/VBZ/requires recompiling/VBG/recompiling /,/, linking/VBG/linking and/CC/and loading/NNP/loading. such/JJ/such a/DT/a code/NN/code can/MD/can be/VB/be distributed/VBN/distributed under/IN/under gpl/NNP/gpl. more/RBR/more often/RB/often the/DT/the modality/NN/modality is/VBZ/is /:/: start/NN/start with/IN/with the/DT/the standard/JJ/standard minimal/JJ/minimal basic/JJ/basic kernel/NN/kernel module/NNP/module. then/RB/then enrich/WDT/enrich the/DT/the environment/NN/environment by/IN/by the/DT/the addition/NN/addition of/IN/of customized/VBN/customized drivers/NNP/drivers. this/DT/this is/VBZ/is the/DT/the route/NN/route presently/RB/presently most/JJS/most people/NNS/people in/IN/in the/DT/the embedded/VBN/embedded system/NN/system area/NN/area are/VBP/are adopting/VBG/adopting worldwide/NNP/worldwide. the/DT/the commonly/RB/commonly loaded/VBD/loaded linux/NN/linux system/NN/system kernel/NN/kernel can/MD/can be/VB/be thought/VBN/thought of/IN/of comprising/NN/comprising of/IN/of the/DT/the following/JJ/following main/NN/main components/NNS/components /:/: operating/VBG/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/3/CD/04/3 process/NN/process management/NN/management /:/: user/NN/user process/NN/process as/IN/as also/RB/also the/DT/the kernel/NN/kernel processes/NNS/processes seek/VBP/seek the/DT/the cpu/NN/cpu and/CC/and other/JJ/other services/NNP/services. usually/RB/usually a/DT/a fork/NN/fork system/NN/system call/NN/call results/NNS/results in/IN/in creating/VBG/creating a/DT/a new/JJ/new process/NNP/process. system/NN/system call/NN/call execve/NN/execve results/NNS/results in/IN/in execution/NN/execution of/IN/of a/DT/a newly/RB/newly forked/VBN/forked process/NNP/process. processes/NNS/processes /,/, have/VBP/have an/DT/an id/JJ/id /NN/( pid/VBD/pid /CD/) and/CC/and also/RB/also have/VBP/have a/DT/a user/NN/user id/NN/id /:/( uid/NN/uid /:/) like/IN/like in/IN/in unix/NNP/unix. linux/NN/linux additionally/RB/additionally has/VBZ/has a/DT/a personality/NN/personality associated/VBN/associated with/IN/with a/DT/a process/NNP/process. personality/NN/personality of/IN/of a/DT/a process/NN/process is/VBZ/is used/VBN/used by/IN/by emulation/NN/emulation libraries/NNS/libraries to/TO/to be/VB/be able/JJ/able to/TO/to cater/NN/cater to/TO/to a/DT/a range/NN/range of/IN/of implementations/NNP/implementations. usually/RB/usually a/DT/a forked/JJ/forked process/NN/process inherits/NNS/inherits parent/NN/parent ?/./? s/NNS/s environment/NNP/environment. in/IN/in linux/NN/linux two/CD/two vectors/NNS/vectors define/NN/define a/DT/a process/NN/process /:/: these/DT/these are/VBP/are argument/JJ/argument vector/NN/vector and/CC/and environment/NN/environment vector/NNP/vector. the/DT/the environment/NN/environment vector/NN/vector essentially/RB/essentially has/VBZ/has a/DT/a /NN/( name/NN/name /,/, value/NN/value /:/) value/NN/value list/NN/list wherein/NN/wherein different/NN/different environment/NN/environment variable/JJ/variable values/NNS/values are/VBP/are specified/NNP/specified. the/DT/the argument/NN/argument vector/NN/vector has/VBZ/has the/DT/the command/NN/command line/NN/line arguments/NNS/arguments used/VBN/used by/IN/by the/DT/the process/NNP/process. usually/RB/usually the/DT/the environment/NN/environment is/VBZ/is inherited/VBN/inherited however/RB/however /,/, upon/IN/upon execution/NN/execution of/IN/of execve/NN/execve the/DT/the process/NN/process body/NN/body may/MD/may be/VB/be redefined/VBN/redefined with/IN/with a/DT/a new/JJ/new set/NN/set of/IN/of environment/NN/environment variables/NNP/variables. this/DT/this helps/VBZ/helps in/IN/in the/DT/the customization/NN/customization of/IN/of a/DT/a process/NN/process ?/./? s/NNS/s operational/JJ/operational environment/NNP/environment. usually/RB/usually a/DT/a process/NN/process also/RB/also has/VBZ/has some/DT/some indication/NN/indication on/IN/on its/PRP$/its scheduling/NN/scheduling context/NNP/context. typically/RB/typically a/DT/a process/NN/process context/NN/context includes/VBZ/includes information/NN/information on/IN/on scheduling/VBG/scheduling /,/, accounting/VBG/accounting /,/, file/JJ/file tables/NNS/tables /,/, capability/NN/capability on/IN/on signal/JJ/signal handling/NN/handling and/CC/and virtual/JJ/virtual memory/NN/memory context/NNP/context. in/IN/in linux/NN/linux /,/, internally/RB/internally /,/, both/DT/both processes/NNS/processes and/CC/and threads/NNS/threads have/VBP/have the/DT/the same/JJ/same kind/NN/kind of/IN/of representation/NNP/representation. linux/NN/linux processes/NNS/processes and/CC/and threads/NNS/threads are/VBP/are posix/CD/posix compliant/JJ/compliant and/CC/and are/VBP/are supported/VBN/supported by/IN/by a/DT/a threads/NNS/threads library/JJ/library package/NN/package which/WDT/which provides/VBZ/provides for/IN/for two/CD/two kinds/NNS/kinds of/IN/of threads/NNS/threads /:/: user/NN/user and/CC/and kernel/NNP/kernel. user-controlled/JJ/user-controlled scheduling/NN/scheduling can/MD/can be/VB/be used/VBN/used for/IN/for user/NN/user threads/NNP/threads. the/DT/the kernel/NN/kernel threads/NNS/threads are/VBP/are scheduled/VBN/scheduled by/IN/by the/DT/the kernel/NNP/kernel. while/IN/while in/IN/in a/DT/a single/JJ/single processor/NN/processor environment/NN/environment there/EX/there can/MD/can be/VB/be only/RB/only one/CD/one kernel/NN/kernel thread/NN/thread scheduled/NNP/scheduled. in/IN/in a/DT/a multiprocessor/NN/multiprocessor environment/NN/environment one/CD/one can/MD/can use/VB/use the/DT/the kernel/NN/kernel supported/VBD/supported library/JJ/library and/CC/and clone/NN/clone system/NN/system call/NN/call to/TO/to have/VB/have multiple/JJ/multiple kernel/NN/kernel threads/NNS/threads created/VBD/created and/CC/and scheduled/NNP/scheduled. scheduler/NN/scheduler /:/: schedulers/NNS/schedulers control/NN/control the/DT/the access/NN/access to/TO/to cpu/VB/cpu by/IN/by implementing/NN/implementing some/DT/some policy/NN/policy such/JJ/such that/IN/that the/DT/the cpu/NN/cpu is/VBZ/is shared/VBN/shared in/IN/in a/DT/a way/NN/way that/WDT/that is/VBZ/is fair/JJ/fair and/CC/and also/RB/also the/DT/the system/NN/system stability/NN/stability is/VBZ/is maintained/NNP/maintained. in/IN/in linux/NN/linux scheduling/VBG/scheduling is/VBZ/is required/VBN/required for/IN/for the/DT/the user/NN/user processes/NNS/processes and/CC/and the/DT/the kernel/NN/kernel tasks/NNP/tasks. kernel/NN/kernel tasks/VBZ/tasks may/MD/may be/VB/be internal/JJ/internal tasks/NNS/tasks on/IN/on behalf/NN/behalf of/IN/of the/DT/the drivers/NNS/drivers or/CC/or initiated/VBN/initiated by/IN/by user/NN/user processes/NNS/processes requiring/VBG/requiring specific/JJ/specific os/NNS/os services/NNP/services. examples/NNS/examples are/VBP/are /:/: a/DT/a page/NN/page fault/NN/fault /:/( induced/VBN/induced by/IN/by a/DT/a user/NN/user process/NN/process /:/) or/CC/or because/IN/because some/DT/some device/NN/device driver/NN/driver raises/VBZ/raises an/DT/an interrupt/NNP/interrupt. in/IN/in linux/NN/linux /,/, normally/RB/normally /,/, the/DT/the kernel/NN/kernel mode/NN/mode of/IN/of operation/NN/operation can/MD/can not/RB/not be/VB/be pre-empted/NNP/pre-empted. kernel/NN/kernel code/NN/code runs/VBZ/runs to/TO/to completion/NN/completion /:/- unless/IN/unless it/PRP/it results/VBZ/results in/IN/in a/DT/a page/NN/page fault/NN/fault /,/, or/CC/or an/DT/an interrupt/JJ/interrupt of/IN/of some/DT/some kind/NN/kind or/CC/or kernel/NN/kernel code/NN/code it/PRP/it self/PRP/self calls/VBZ/calls the/DT/the scheduler/NNP/scheduler. linux/NN/linux is/VBZ/is a/DT/a time/NN/time sharing/VBG/sharing system/NNP/system. so/RB/so a/DT/a timer/NN/timer interrupt/NN/interrupt happens/NNS/happens and/CC/and rescheduling/VBG/rescheduling may/MD/may be/VB/be initiated/VBN/initiated at/IN/at that/DT/that time/NNP/time. linux/NN/linux operating/VBG/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/4/CD/04/4 uses/NNS/uses a/DT/a credit/NN/credit based/VBN/based scheduling/VBG/scheduling algorithm/NNP/algorithm. the/DT/the process/NN/process with/IN/with the/DT/the highest/JJS/highest credits/NNS/credits gets/NNS/gets scheduled/NNP/scheduled. the/DT/the credits/NNS/credits are/VBP/are revised/VBN/revised after/IN/after every/DT/every run/NNP/run. if/IN/if all/DT/all run-able/JJ/run-able processes/NNS/processes exhaust/VBP/exhaust all/DT/all the/DT/the credits/NNS/credits a/DT/a priority/NN/priority based/VBN/based fresh/JJ/fresh credit/NN/credit allocation/NN/allocation takes/VBZ/takes place/NNP/place. the/DT/the crediting/NN/crediting system/NN/system usually/RB/usually gives/VBZ/gives higher/JJR/higher credits/NNS/credits to/TO/to interactive/VB/interactive or/CC/or io/VB/io bound/NN/bound processes/NNS/processes ?/./? as/IN/as these/DT/these require/NN/require immediate/NN/immediate responses/NNS/responses from/IN/from a/DT/a user/NNP/user. linux/NN/linux also/RB/also implements/VBZ/implements unix/NN/unix like/IN/like nice/NN/nice process/NN/process characterization/NNP/characterization. the/DT/the memory/NN/memory manager/NN/manager /:/: memory/NN/memory manager/NN/manager manages/NNS/manages the/DT/the allocation/NN/allocation and/CC/and de-allocation/NN/de-allocation of/IN/of system/NN/system memory/NN/memory amongst/NN/amongst the/DT/the processes/NNS/processes that/WDT/that may/MD/may be/VB/be executing/VBG/executing concurrently/RB/concurrently at/IN/at any/DT/any time/NN/time on/IN/on the/DT/the system/NNP/system. the/DT/the memory/NN/memory manager/NN/manager ensures/NNS/ensures that/WDT/that these/DT/these processes/NNS/processes do/VBP/do not/RB/not end/VB/end up/RP/up corrupting/VBG/corrupting each/DT/each other/JJ/other ?/./? s/NNS/s memory/NN/memory area/NNP/area. also/RB/also /,/, this/DT/this module/NN/module is/VBZ/is responsible/JJ/responsible for/IN/for implementing/NN/implementing virtual/JJ/virtual memory/NN/memory and/CC/and the/DT/the paging/NN/paging mechanism/NN/mechanism within/IN/within it/NNP/it. the/DT/the loadable/JJ/loadable kernel/NN/kernel modules/NNS/modules are/VBP/are managed/VBN/managed in/IN/in two/CD/two stages/NNS/stages /:/: first/JJ/first the/DT/the loader/NN/loader seeks/VBZ/seeks memory/NN/memory allocation/NN/allocation from/IN/from the/DT/the kernel/NNP/kernel. next/JJ/next the/DT/the kernel/NN/kernel returns/NNS/returns the/DT/the address/NN/address of/IN/of the/DT/the area/NN/area for/IN/for loading/NN/loading the/DT/the new/JJ/new module/NNP/module. ?/./? the/DT/the linking/NN/linking for/IN/for symbols/NNS/symbols is/VBZ/is handled/VBN/handled by/IN/by the/DT/the compiler/NN/compiler because/IN/because whenever/NN/whenever a/DT/a new/JJ/new module/NN/module is/VBZ/is loaded/VBN/loaded recompilation/NN/recompilation is/VBZ/is imperative/NNP/imperative. the/DT/the virtual/JJ/virtual file/NN/file system/NN/system /:/( vfs/NNS/vfs /VBP/) /:/: presents/NNS/presents a/DT/a consistent/NN/consistent file/NN/file system/NN/system interface/NN/interface to/TO/to the/DT/the kernel/NNP/kernel. this/DT/this allows/VBZ/allows the/DT/the kernel/NN/kernel code/NN/code to/TO/to be/VB/be independent/JJ/independent of/IN/of the/DT/the various/JJ/various file/NN/file systems/NNS/systems that/WDT/that may/MD/may be/VB/be supported/VBN/supported /-NONE-/( details/NNS/details on/IN/on virtual/JJ/virtual file/NN/file system/NN/system vfs/NNS/vfs follow/VBP/follow under/IN/under the/DT/the files/NNS/files system/NN/system /:/) /./. the/DT/the network/NN/network interface/NN/interface /:/: provides/NNS/provides kernel/VBP/kernel access/NN/access to/TO/to various/JJ/various network/NN/network hardware/NN/hardware and/CC/and protocols/NNP/protocols. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/5/CD/04/5 inter/NN/inter process/NN/process communication/NN/communication /:/( ipc/NN/ipc /:/) /:/: the/DT/the ipc/NN/ipc primitives/VBZ/primitives for/IN/for processes/NNS/processes also/RB/also reside/VBP/reside on/IN/on the/DT/the same/JJ/same system/NNP/system. with/IN/with the/DT/the explanation/NN/explanation above/IN/above we/PRP/we should/MD/should think/VB/think of/IN/of the/DT/the typical/JJ/typical loadable/JJ/loadable kernel/NN/kernel module/NN/module in/IN/in linux/NN/linux to/TO/to have/VB/have three/CD/three main/JJ/main components/NNS/components /:/: ?/./? module/NN/module management/NN/management /,/, ?/./? driver/NN/driver registration/NN/registration and/CC/and ?/./? conflict/NN/conflict resolution/NN/resolution mechanism/NNP/mechanism. module/NN/module management/NN/management /:/: for/IN/for new/JJ/new modules/NNS/modules this/DT/this is/VBZ/is done/VBN/done at/IN/at two/CD/two levels/NNS/levels ?/./? the/DT/the management/NN/management of/IN/of kernel/NN/kernel referenced/VBN/referenced symbols/NNS/symbols and/CC/and the/DT/the management/NN/management of/IN/of the/DT/the code/NN/code in/IN/in kernel/NN/kernel memory/NNP/memory. the/DT/the linux/NN/linux kernel/NN/kernel maintains/VBZ/maintains a/DT/a symbol/NN/symbol table/NN/table and/CC/and symbols/NNS/symbols defined/VBD/defined here/RB/here can/MD/can be/VB/be exported/VBN/exported /-NONE-/( that/IN/that is/VBZ/is these/DT/these definitions/NNS/definitions can/MD/can be/VB/be used/VBN/used elsewhere/RB/elsewhere /:/) explicitly/NNP/explicitly. the/DT/the new/JJ/new module/NN/module must/MD/must seek/VB/seek these/DT/these symbols/NNP/symbols. in/IN/in fact/NN/fact this/DT/this is/VBZ/is like/IN/like having/VBG/having an/DT/an external/JJ/external definition/NN/definition in/IN/in c/NN/c and/CC/and then/RB/then getting/VBG/getting the/DT/the definition/NN/definition at/IN/at the/DT/the kernel/NN/kernel compile/NN/compile time/NNP/time. the/DT/the module/NN/module management/NN/management system/NN/system also/RB/also defines/VBZ/defines all/DT/all the/DT/the required/VBN/required communications/NNS/communications interfaces/NNS/interfaces for/IN/for this/DT/this newly/RB/newly inserted/VBN/inserted module/NNP/module. with/IN/with this/DT/this done/NN/done /,/, processes/NNS/processes can/MD/can request/VB/request the/DT/the services/NNS/services /:/( may/MD/may be/VB/be of/IN/of a/DT/a device/NN/device driver/NN/driver /:/) from/IN/from this/DT/this module/NNP/module. driver/NN/driver registration/NN/registration /:/: the/DT/the kernel/NN/kernel maintains/VBZ/maintains a/DT/a dynamic/JJ/dynamic table/NN/table which/WDT/which gets/VBZ/gets modified/VBN/modified once/RB/once a/DT/a new/JJ/new module/NN/module is/VBZ/is added/VBN/added ?/./? some/DT/some times/NNS/times one/CD/one may/MD/may wish/VB/wish to/TO/to delete/VB/delete also/NNP/also. in/IN/in writing/NN/writing these/DT/these modules/NNS/modules care/VBP/care is/VBZ/is taken/VBN/taken to/TO/to ensure/VB/ensure that/IN/that initializations/NNS/initializations and/CC/and cleaning/VBG/cleaning up/RP/up operations/NNS/operations are/VBP/are defined/VBN/defined for/IN/for the/DT/the driver/NNP/driver. a/DT/a module/NN/module may/MD/may register/VB/register one/CD/one or/CC/or more/JJR/more drivers/NNS/drivers of/IN/of one/CD/one or/CC/or more/JJR/more types/NNS/types of/IN/of drivers/NNP/drivers. usually/RB/usually the/DT/the registration/NN/registration of/IN/of drivers/NNS/drivers is/VBZ/is maintained/VBN/maintained in/IN/in a/DT/a registration/NN/registration table/NN/table of/IN/of the/DT/the module/NNP/module. the/DT/the registration/NN/registration of/IN/of drives/NNS/drives entails/NNS/entails the/DT/the following/VBG/following /:/: 1/CD/1. driver/NN/driver context/NN/context identification/NN/identification /:/: as/IN/as a/DT/a character/NN/character or/CC/or bulk/NN/bulk device/NN/device or/CC/or a/DT/a network/NN/network driver/NNP/driver. 2/CD/2. file/NN/file system/NN/system context/NN/context /:/: essentially/RB/essentially the/DT/the routines/NNS/routines employed/VBD/employed to/TO/to store/VB/store files/NNS/files in/IN/in linux/NN/linux virtual/JJ/virtual file/NN/file system/NN/system or/CC/or network/NN/network file/NN/file system/NN/system like/IN/like nfs/NNP/nfs. 3/CD/3. network/NN/network protocols/NNS/protocols and/CC/and packet/NN/packet filtering/VBG/filtering rules/NNP/rules. 4/CD/4. file/NN/file formats/NNS/formats for/IN/for executable/JJ/executable and/CC/and other/JJ/other files/NNP/files. conflict/NN/conflict resolution/NN/resolution /:/: the/DT/the pc/NN/pc hardware/NN/hardware configuration/NN/configuration is/VBZ/is supported/VBN/supported by/IN/by a/DT/a large/JJ/large number/NN/number of/IN/of chip/NN/chip set/NN/set configurations/NNS/configurations and/CC/and with/IN/with a/DT/a large/JJ/large range/NN/range of/IN/of drivers/NNS/drivers for/IN/for scsi/NN/scsi devices/NNS/devices /,/, video/VBP/video display/NN/display devices/NNS/devices and/CC/and adapters/NNS/adapters /,/, network/NN/network cards/NNP/cards. this/DT/this results/NNS/results in/IN/in the/DT/the situation/NN/situation where/WRB/where we/PRP/we have/VBP/have operating/VBG/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/6/CD/04/6 module/NN/module device/NN/device drivers/NNS/drivers which/WDT/which vary/JJ/vary over/IN/over a/DT/a very/RB/very wide/JJ/wide range/NN/range of/IN/of capabilities/NNS/capabilities and/CC/and options/NNP/options. this/DT/this necessitates/VBZ/necessitates a/DT/a conflict/NN/conflict resolution/NN/resolution mechanism/NN/mechanism to/TO/to resolve/VB/resolve accesses/NNS/accesses in/IN/in a/DT/a variety/NN/variety of/IN/of conflicting/NN/conflicting concurrent/NN/concurrent accesses/NNP/accesses. the/DT/the conflict/NN/conflict resolution/NN/resolution mechanisms/NNS/mechanisms help/VBP/help in/IN/in preventing/VBG/preventing modules/NNS/modules from/IN/from having/VBG/having an/DT/an access/NN/access conflict/NN/conflict to/TO/to the/DT/the hw/NN/hw ?/./? for/IN/for example/NN/example an/DT/an access/NN/access to/TO/to a/DT/a printer/NNP/printer. modules/VBZ/modules usually/RB/usually identify/JJ/identify the/DT/the hw/NN/hw resources/NNS/resources it/PRP/it needs/VBZ/needs at/IN/at the/DT/the time/NN/time of/IN/of loading/VBG/loading and/CC/and the/DT/the kernel/NN/kernel makes/VBZ/makes these/DT/these available/JJ/available by/IN/by using/NN/using a/DT/a reservation/NN/reservation table/NNP/table. the/DT/the kernel/NN/kernel usually/RB/usually maintains/VBZ/maintains information/NN/information on/IN/on the/DT/the address/NN/address to/TO/to be/VB/be used/VBN/used for/IN/for accessing/NN/accessing hw/NN/hw /:/- be/VB/be it/PRP/it dma/VB/dma channel/NN/channel or/CC/or an/DT/an interrupt/JJ/interrupt line/NNP/line. the/DT/the drivers/NNS/drivers avail/VBP/avail kernel/NN/kernel services/NNS/services to/TO/to access/NN/access hw/NN/hw resources/NNP/resources. system/NN/system calls/VBZ/calls /:/: let/NN/let us/PRP/us explore/VBP/explore how/WRB/how system/NN/system calls/VBZ/calls are/VBP/are handled/NNP/handled. a/DT/a user/NN/user space/NN/space process/NN/process enters/NNS/enters the/DT/the kernel/NNP/kernel. from/IN/from this/DT/this point/NN/point the/DT/the mechanism/NN/mechanism is/VBZ/is some/DT/some what/WP/what cpu/NN/cpu architecture/NN/architecture dependent/NNP/dependent. most/JJS/most common/JJ/common examples/NNS/examples of/IN/of system/NN/system calls/NNS/calls are/VBP/are /:/: /:/- open/JJ/open /,/, close/JJ/close /,/, read/JJ/read /,/, write/JJ/write /,/, exit/NN/exit /,/, fork/NN/fork /,/, exec/NN/exec /,/, kill/NN/kill /,/, socket/NN/socket calls/VBZ/calls etc/NNP/etc. the/DT/the linux/NN/linux kernel/NN/kernel 2.4/CD/2.4 is/VBZ/is non/JJ/non preemptable/NNP/preemptable. implying/NN/implying once/RB/once a/DT/a system/NN/system call/NN/call is/VBZ/is executing/VBG/executing it/PRP/it will/MD/will run/VB/run till/NN/till it/PRP/it is/VBZ/is finished/VBN/finished or/CC/or it/PRP/it relinquishes/VBZ/relinquishes control/NN/control of/IN/of the/DT/the cpu/NNP/cpu. however/RB/however /,/, linux/NN/linux kernel/NN/kernel 2.6/CD/2.6 has/VBZ/has been/VBN/been made/VBN/made partly/RB/partly preemptable/NNP/preemptable. this/DT/this has/VBZ/has improved/VBN/improved the/DT/the responsiveness/NN/responsiveness considerably/RB/considerably and/CC/and the/DT/the system/NN/system behavior/NN/behavior is/VBZ/is less/JJR/less ?/./? jerky/JJ/jerky ?/./? /./. systems/NNS/systems call/VBP/call interface/NN/interface in/IN/in linux/NN/linux /:/: system/NN/system call/NN/call is/VBZ/is the/DT/the interface/NN/interface with/IN/with which/WDT/which a/DT/a program/NN/program in/IN/in user/NN/user space/NN/space program/NN/program accesses/NNS/accesses kernel/VBP/kernel functionality/NNP/functionality. at/IN/at a/DT/a very/RB/very high/JJ/high level/NN/level it/PRP/it can/MD/can be/VB/be thought/VBN/thought of/IN/of as/RB/as a/DT/a user/NN/user process/NN/process calling/VBG/calling a/DT/a function/NN/function in/IN/in the/DT/the linux/NN/linux kernel/NNP/kernel. even/RB/even though/IN/though this/DT/this would/MD/would seem/VB/seem like/IN/like a/DT/a normal/JJ/normal c/NN/c function/NN/function call/NN/call /,/, it/PRP/it is/VBZ/is in/IN/in fact/NN/fact handled/VBD/handled differently/NNP/differently. the/DT/the user/NN/user process/NN/process does/VBZ/does not/RB/not issue/VB/issue a/DT/a system/NN/system call/NN/call directly/RB/directly /:/- in/IN/in stead/NN/stead /,/, it/PRP/it is/VBZ/is internally/RB/internally invoked/VBN/invoked by/IN/by the/DT/the c/NN/c library/NNP/library. linux/NN/linux has/VBZ/has a/DT/a fixed/VBN/fixed number/NN/number of/IN/of system/NN/system calls/NNS/calls that/WDT/that are/VBP/are reconciled/VBN/reconciled at/IN/at compile/JJ/compile time/NNP/time. a/DT/a user/NN/user process/NN/process can/MD/can access/NN/access only/RB/only these/DT/these finite/JJ/finite set/NN/set of/IN/of services/NNS/services via/IN/via the/DT/the system/NN/system call/NN/call interface/NNP/interface. each/DT/each system/NN/system call/NN/call has/VBZ/has a/DT/a unique/JJ/unique identifying/NN/identifying number/NNP/number. the/DT/the exact/JJ/exact mechanism/NN/mechanism of/IN/of a/DT/a system/NN/system call/NN/call implementation/NN/implementation is/VBZ/is platform/NN/platform dependent/NNP/dependent. below/IN/below we/PRP/we discuss/VBP/discuss how/WRB/how it/PRP/it is/VBZ/is done/VBN/done in/IN/in the/DT/the x86/NNP/x86 architecture/NNP/architecture. to/TO/to invoke/VB/invoke a/DT/a system/NN/system call/NN/call in/IN/in x86/NNP/x86 architecture/NN/architecture /,/, the/DT/the following/VBG/following needs/NNS/needs to/TO/to be/VB/be done/NNP/done. first/RB/first /,/, a/DT/a system/NN/system call/NN/call number/NN/number is/VBZ/is put/VBN/put into/IN/into the/DT/the eax/NN/eax hardware/NN/hardware register/NNP/register. arguments/NNS/arguments to/TO/to the/DT/the system/NN/system call/NN/call are/VBP/are put/VBN/put into/IN/into other/JJ/other hardware/NN/hardware registers/NNP/registers. then/RB/then the/DT/the int0x80/NNP/int0x80 software/NN/software interrupt/VBD/interrupt is/VBZ/is operating/VBG/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/7/CD/04/7 issued/VBN/issued which/WDT/which then/RB/then invokes/VBZ/invokes the/DT/the kernel/NN/kernel service/NNP/service. adding/NN/adding one/CD/one ?/./? s/NNS/s own/JJ/own system/NN/system call/NN/call is/VBZ/is a/DT/a pretty/RB/pretty straight/JJ/straight forward/NN/forward /:/( almost/RB/almost /:/) in/IN/in linux/NNP/linux. let/NN/let us/PRP/us try/VBP/try to/TO/to implement/VB/implement our/PRP$/our own/JJ/own simple/NN/simple system/NN/system call/NN/call which/WDT/which we/PRP/we will/MD/will call/VB/call ?/./? simple/JJ/simple ?/./? and/CC/and whose/WP$/whose source/NN/source we/PRP/we will/MD/will put/VB/put in/IN/in simple.c/NNP/simple.c. //NNP// */-NONE-/* simple.c/JJ/simple.c */-NONE-/* //:// //:// */-NONE-/* this/DT/this code/NN/code was/VBD/was never/RB/never actually/RB/actually compiled/VBN/compiled and/CC/and tested/VBN/tested */-NONE-/* //:// #/#/# include/NN/include </:/< linux/simple.h/JJ/linux/simple.h >/NN/> asmlinkage/NN/asmlinkage int/NN/int sys_simple/NNP/sys_simple /NNP/( void/VBD/void /NNP/) /NNP/{ return/NN/return 99/CD/99 ;/:/; /:/} as/IN/as can/MD/can be/VB/be seen/VBN/seen that/IN/that this/DT/this a/DT/a very/RB/very dumb/NN/dumb system/NN/system call/NN/call that/WDT/that does/VBZ/does nothing/NN/nothing but/CC/but return/NN/return 99/CD/99. but/CC/but that/IN/that is/VBZ/is enough/RB/enough for/IN/for our/PRP$/our purpose/NN/purpose of/IN/of understanding/NN/understanding the/DT/the basics/NNP/basics. this/DT/this file/NN/file now/RB/now has/VBZ/has to/TO/to be/VB/be added/VBN/added to/TO/to the/DT/the linux/NN/linux source/NN/source tree/NN/tree for/IN/for compilation/NN/compilation by/IN/by executing/NN/executing /:/: /usr/src/linux/NNP//usr/src/linux. */-NONE-/* /./. */-NONE-/* /simple.c/JJ//simple.c those/DT/those who/WP/who are/VBP/are not/RB/not familiar/JJ/familiar with/IN/with kernel/NN/kernel programming/NN/programming might/MD/might wonder/VB/wonder what/WP/what ?/./? asmlinkage/NN/asmlinkage ?/./? stands/NNS/stands for/IN/for in/IN/in the/DT/the system/NN/system call/NNP/call. ?/./? c/NN/c ?/./? language/NN/language does/VBZ/does not/RB/not allow/VB/allow access/NN/access hardware/NN/hardware directly/NNP/directly. so/RB/so /,/, some/DT/some assembly/RB/assembly code/VBP/code is/VBZ/is required/VBN/required to/TO/to access/NN/access the/DT/the eax/NN/eax register/NN/register etc/FW/etc. the/DT/the asmlinkage/NN/asmlinkage macro/NN/macro does/VBZ/does the/DT/the dirty/NN/dirty work/NN/work fortunately/NNP/fortunately. the/DT/the asmlinkage/NN/asmlinkage macro/NN/macro is/VBZ/is defined/VBN/defined in/IN/in xxxx/linkage.h/NNP/xxxx/linkage.h. it/PRP/it initiates/VBZ/initiates another/DT/another macro_syscall/NNP/macro_syscall in/IN/in xxxxx/unistd.h/NNP/xxxxx/unistd.h. the/DT/the header/NN/header file/NN/file for/IN/for a/DT/a typical/JJ/typical system/NN/system call/NN/call will/MD/will contain/VB/contain the/DT/the following/NNP/following. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/8/CD/04/8 after/IN/after defining/NN/defining the/DT/the system/NN/system call/NN/call we/PRP/we need/VBP/need to/TO/to assign/VB/assign a/DT/a system/NN/system call/NN/call number/NNP/number. this/DT/this can/MD/can be/VB/be done/VBN/done by/IN/by adding/NN/adding a/DT/a line/NN/line to/TO/to the/DT/the file/NN/file unistd.h/JJ/unistd.h /./. unistd.h/JJ/unistd.h has/VBZ/has a/DT/a series/NN/series of/IN/of #/#/# defines/NNS/defines of/IN/of the/DT/the form/NN/form /:/: #/#/# define/NN/define _nr_sys_exit/NN/_nr_sys_exit 1/CD/1 now/RB/now if/IN/if the/DT/the last/JJ/last system/NN/system call/NN/call number/NN/number is/VBZ/is 223/CD/223 then/RB/then we/PRP/we enter/VBP/enter the/DT/the following/VBG/following line/NN/line at/IN/at the/DT/the bottom/NN/bottom #/#/# define/NN/define _nr_sys_simple/NNP/_nr_sys_simple 224/CD/224 after/IN/after assigning/NN/assigning a/DT/a number/NN/number to/TO/to the/DT/the system/NN/system call/NN/call it/PRP/it is/VBZ/is entered/VBN/entered into/IN/into system/NN/system call/NN/call table/NNP/table. the/DT/the system/NN/system call/NN/call number/NN/number is/VBZ/is the/DT/the index/NN/index into/IN/into a/DT/a table/JJ/table that/IN/that contains/NNS/contains a/DT/a pointer/NN/pointer to/TO/to the/DT/the actual/JJ/actual routine/NNP/routine. this/DT/this table/NN/table is/VBZ/is defined/VBN/defined in/IN/in the/DT/the kernel/NN/kernel file/NN/file ?/./? entry.s/NNS/entry.s ?/./? .we/JJ/.we add/NN/add the/DT/the following/VBG/following line/NN/line to/TO/to the/DT/the file/NN/file /:/: */-NONE-/* this/DT/this code/NN/code was/VBD/was never/RB/never actually/RB/actually compiled/VBN/compiled and/CC/and tested/VBN/tested */-NONE-/* /.long/JJ//.long sysmbol_name/NNP/sysmbol_name /NNP/( sys_simple/NNP/sys_simple /NNP/) finally/RB/finally /,/, we/PRP/we need/VBP/need to/TO/to modify/VB/modify the/DT/the makefile/NN/makefile so/RB/so that/IN/that our/PRP$/our system/NN/system call/NN/call is/VBZ/is added/VBN/added to/TO/to the/DT/the kernel/NN/kernel when/WRB/when it/PRP/it is/VBZ/is compiled/NNP/compiled. if/IN/if we/PRP/we look/VBP/look at/IN/at the/DT/the file/NN/file /usr/src/linux/NNP//usr/src/linux. */-NONE-/* /./. */-NONE-/* /kernel/makefile/JJ//kernel/makefile we/PRP/we get/VBP/get a/DT/a line/NN/line of/IN/of the/DT/the following/JJ/following format/NNP/format. obj_y/NNP/obj_y =/NNP/= sched.o/NNP/sched.o +/NNP/+ dn.o/NNP/dn.o ?/./? ?/./? .etc/JJ/.etc we/PRP/we add/VBP/add /:/: obj_y/NNP/obj_y +/:/+ =/:/= simple.o/-NONE-/simple.o now/RB/now we/PRP/we need/VBP/need to/TO/to recompile/VB/recompile the/DT/the kernel/NNP/kernel. note/NN/note that/IN/that there/EX/there is/VBZ/is no/DT/no need/NN/need to/TO/to change/VB/change the/DT/the config/NN/config file/NNP/file. with/IN/with the/DT/the source/NN/source code/NN/code of/IN/of the/DT/the linux/NN/linux freely/RB/freely available/JJ/available /,/, it/PRP/it is/VBZ/is possible/JJ/possible for/IN/for users/NNS/users to/TO/to make/VB/make their/PRP$/their own/JJ/own versions/NNS/versions of/IN/of the/DT/the kernel/NNP/kernel. a/DT/a user/NN/user can/MD/can take/VB/take the/DT/the source/NN/source code/NN/code select/NN/select only/RB/only the/DT/the parts/NNS/parts of/IN/of the/DT/the kernel/NN/kernel that/IN/that are/VBP/are relevant/JJ/relevant to/TO/to him/PRP/him and/CC/and leave/VB/leave out/RP/out the/DT/the rest/NNP/rest. it/PRP/it is/VBZ/is possible/JJ/possible to/TO/to get/VB/get a/DT/a working/VBG/working linux/NN/linux kernel/NN/kernel in/IN/in single/JJ/single 1.44/CD/1.44 mb/NN/mb floppy/NN/floppy disk/NNP/disk. a/DT/a user/NN/user can/MD/can modify/VB/modify the/DT/the source/NN/source for/IN/for the/DT/the kernel/NN/kernel so/RB/so that/IN/that operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/9/CD/04/9 the/DT/the kernel/NN/kernel suits/VBZ/suits a/DT/a targeted/VBN/targeted application/NN/application better/NNP/better. this/DT/this is/VBZ/is one/CD/one of/IN/of the/DT/the reasons/NNS/reasons why/WRB/why linux/NN/linux is/VBZ/is the/DT/the successful/JJ/successful /NN/( and/CC/and preferred/VBN/preferred /:/) platform/NN/platform for/IN/for developing/VBG/developing embedded/VBN/embedded systems/NNS/systems in/IN/in fact/NN/fact /,/, linux/NN/linux has/VBZ/has reopened/VBN/reopened the/DT/the world/NN/world of/IN/of system/NN/system programming/NNP/programming. the/DT/the memory/NN/memory management/NN/management issues/NNS/issues the/DT/the two/CD/two major/JJ/major components/NNS/components in/IN/in linux/NN/linux memory/NN/memory management/NN/management are/VBP/are /:/: /:/- the/DT/the page/NN/page management/NN/management /:/- the/DT/the virtual/JJ/virtual memory/NN/memory management/NN/management 1/CD/1. the/DT/the page/NN/page management/NN/management /:/: pages/NNS/pages are/VBP/are usually/RB/usually of/IN/of a/DT/a size/NN/size which/WDT/which is/VBZ/is a/DT/a power/NN/power of/IN/of 2/CD/2. given/VBN/given the/DT/the main/JJ/main memory/NN/memory linux/NN/linux allocates/VBZ/allocates a/DT/a group/NN/group of/IN/of pages/NNS/pages using/VBG/using a/DT/a buddy/NN/buddy system/NNP/system. the/DT/the allocation/NN/allocation is/VBZ/is the/DT/the responsibility/NN/responsibility of/IN/of a/DT/a software/NN/software called/VBN/called ?/./? page/NN/page allocator/NN/allocator ?/./? /./. page/NN/page allocator/NN/allocator software/NN/software is/VBZ/is responsible/JJ/responsible for/IN/for both/DT/both allocation/NN/allocation /,/, as/IN/as well/RB/well as/IN/as /,/, freeing/VBG/freeing the/DT/the memory/NNP/memory. the/DT/the basic/JJ/basic memory/NN/memory allocator/NN/allocator uses/NNS/uses a/DT/a buddy/NN/buddy heap/NN/heap which/WDT/which allocates/VBZ/allocates a/DT/a contiguous/JJ/contiguous area/NN/area of/IN/of size/NN/size 2n/CD/2n >/CD/> the/DT/the required/VBN/required memory/NN/memory with/IN/with minimum/JJ/minimum n/NN/n obtained/VBD/obtained by/IN/by successive/JJ/successive generation/NN/generation of/IN/of ?/./? buddies/NNS/buddies ?/./? of/IN/of equal/JJ/equal size/NNP/size. we/PRP/we explain/VBP/explain the/DT/the buddy/NN/buddy allocation/NN/allocation using/VBG/using an/DT/an example/NNP/example. an/DT/an example/NN/example /:/: suppose/NN/suppose we/PRP/we need/VBP/need memory/NN/memory of/IN/of size/NN/size 1556/CD/1556 words/NNP/words. starting/NN/starting with/IN/with a/DT/a memory/NN/memory size/NN/size 16k/CD/16k we/PRP/we would/MD/would proceed/VB/proceed as/IN/as follows/NNS/follows /:/: 1/CD/1. first/JJ/first create/NN/create 2/CD/2 buddies/NNS/buddies of/IN/of size/NN/size 8k/CD/8k from/IN/from the/DT/the given/VBN/given memory/NN/memory size/NN/size ie/NNP/ie. 16k/CD/16k 2/CD/2. from/IN/from one/CD/one of/IN/of the/DT/the 8k/CD/8k buddy/NN/buddy create/NN/create two/CD/two buddies/NNS/buddies of/IN/of size/NN/size 4k/CD/4k each/DT/each 3/CD/3. from/IN/from one/CD/one of/IN/of the/DT/the 4k/CD/4k buddy/NN/buddy create/NN/create two/CD/two buddies/NNS/buddies of/IN/of size/NN/size 2k/CD/2k each/NNP/each. 4/CD/4. use/NN/use one/CD/one of/IN/of the/DT/the most/RBS/most recently/RB/recently generated/VBN/generated buddies/NNS/buddies to/TO/to accommodate/VB/accommodate the/DT/the 1556/CD/1556 size/NN/size memory/NN/memory requirement/NNP/requirement. note/NN/note that/IN/that for/IN/for a/DT/a requirement/NN/requirement of/IN/of 1556/CD/1556 words/NNS/words /,/, memory/NN/memory chunk/NN/chunk of/IN/of size/NN/size 2k/CD/2k words/NNS/words satisfies/NNS/satisfies the/DT/the property/NN/property of/IN/of being/VBG/being the/DT/the smallest/JJS/smallest chunk/NN/chunk larger/JJR/larger than/IN/than the/DT/the required/VBN/required size/NNP/size. possibly/RB/possibly some/DT/some more/RBR/more concepts/NNS/concepts on/IN/on page/NN/page replacement/NN/replacement /,/, page/NN/page aging/VBG/aging /,/, page/NN/page flushing/VBG/flushing and/CC/and the/DT/the changes/NNS/changes done/VBP/done in/IN/in linux/NN/linux 2.4/CD/2.4 and/CC/and 2.6/CD/2.6 in/IN/in these/DT/these areas/NNP/areas. 2/NNP/2. virtual/JJ/virtual memory/NN/memory management/NN/management /:/: the/DT/the basic/JJ/basic idea/NN/idea of/IN/of a/DT/a virtual/JJ/virtual memory/NN/memory system/NN/system is/VBZ/is to/TO/to expose/VB/expose address/NN/address space/NN/space to/TO/to a/DT/a process/NNP/process. a/DT/a process/NN/process should/MD/should have/VB/have the/DT/the entire/JJ/entire address/NN/address space/NN/space exposed/VBD/exposed to/TO/to it/PRP/it to/TO/to make/VB/make an/DT/an allocation/NN/allocation or/CC/or deallocation/NNP/deallocation. linux/NN/linux makes/VBZ/makes a/DT/a conscious/JJ/conscious effort/NN/effort to/TO/to allocate/VB/allocate logically/RB/logically /,/, ?/./? page/NN/page aligned/VBD/aligned ?/./? contiguous/JJ/contiguous address/NN/address space/NNP/space. such/JJ/such page/NN/page aligned/VBD/aligned logical/JJ/logical spaces/NNS/spaces are/VBP/are called/VBN/called regions/NNS/regions in/IN/in the/DT/the memory/NNP/memory. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/10/CD/04/10 linux/NN/linux organizes/NNS/organizes these/DT/these regions/NNS/regions to/TO/to form/NN/form a/DT/a binary/JJ/binary tree/NN/tree structure/NN/structure for/IN/for fast/NN/fast access/NNP/access. in/IN/in addition/NN/addition to/TO/to the/DT/the above/NN/above logical/JJ/logical view/NN/view the/DT/the linux/NN/linux kernel/NN/kernel maintains/VBZ/maintains the/DT/the physical/JJ/physical view/NN/view ie/NN/ie maps/NNS/maps the/DT/the hardware/NN/hardware page/NN/page table/NN/table entries/NNS/entries that/WDT/that determine/NN/determine the/DT/the location/NN/location of/IN/of the/DT/the logical/JJ/logical page/NN/page in/IN/in the/DT/the exact/JJ/exact location/NN/location on/IN/on a/DT/a disk/NNP/disk. the/DT/the process/NN/process address/NN/address space/NN/space may/MD/may have/VB/have private/JJ/private or/CC/or shared/VBN/shared pages/NNP/pages. changes/NNS/changes made/VBD/made to/TO/to a/DT/a page/NN/page require/NN/require that/IN/that locality/NN/locality is/VBZ/is preserved/VBN/preserved for/IN/for a/DT/a process/NN/process by/IN/by maintaining/NN/maintaining a/DT/a copy-on-write/JJ/copy-on-write when/WRB/when the/DT/the pages/NNS/pages are/VBP/are private/JJ/private to/TO/to the/DT/the process/NN/process where/WRB/where as/IN/as these/DT/these have/VBP/have to/TO/to be/VB/be visible/JJ/visible when/WRB/when they/PRP/they are/VBP/are shared/NNP/shared. a/DT/a process/NN/process /,/, when/WRB/when first/JJ/first created/VBN/created following/VBG/following a/DT/a fork/NN/fork system/NN/system call/NN/call /,/, finds/NNS/finds its/PRP$/its allocation/NN/allocation with/IN/with a/DT/a new/JJ/new entry/NN/entry in/IN/in the/DT/the page/NN/page table/NN/table ?/./? with/IN/with inherited/JJ/inherited entries/NNS/entries from/IN/from the/DT/the parent/NNP/parent. for/IN/for any/DT/any page/NN/page which/WDT/which is/VBZ/is shared/VBN/shared amongst/NN/amongst the/DT/the processes/NNS/processes /:/( like/IN/like parent/NN/parent and/CC/and child/NN/child /:/) /,/, a/DT/a reference/NN/reference count/NN/count is/VBZ/is maintained/NNP/maintained. linux/NN/linux has/VBZ/has a/DT/a far/RB/far more/RBR/more efficient/JJ/efficient page/NN/page swapping/VBG/swapping algorithm/NN/algorithm than/IN/than unix/CD/unix ?/./? it/PRP/it uses/VBZ/uses a/DT/a second/JJ/second chance/NN/chance algorithm/NN/algorithm dependent/NN/dependent on/IN/on the/DT/the usage/NN/usage pattern/NNP/pattern. the/DT/the manner/NN/manner it/PRP/it manifests/VBZ/manifests it/PRP/it self/PRP/self is/VBZ/is that/IN/that a/DT/a page/NN/page gets/VBZ/gets a/DT/a few/JJ/few chances/NNS/chances of/IN/of survival/NN/survival before/IN/before it/PRP/it is/VBZ/is considered/VBN/considered to/TO/to be/VB/be no/RB/no longer/JJR/longer useful/NNP/useful. frequently/RB/frequently used/JJ/used pages/NNS/pages get/VBP/get a/DT/a higher/JJR/higher age/NN/age value/NN/value and/CC/and a/DT/a reduction/NN/reduction in/IN/in usage/NN/usage brings/NNS/brings the/DT/the age/NN/age closer/NN/closer to/TO/to zero/VB/zero ?/./? finally/RB/finally leading/VBG/leading to/TO/to its/PRP$/its exit/NNP/exit. the/DT/the kernel/NN/kernel virtual/JJ/virtual memory/NN/memory /:/: kernel/NN/kernel also/RB/also maintains/VBZ/maintains for/IN/for each/DT/each process/NN/process a/DT/a certain/JJ/certain amount/NN/amount of/IN/of ?/./? kernel/NN/kernel virtual/JJ/virtual memory/NN/memory ?/./? ?/./? the/DT/the page/NN/page table/NN/table entries/NNS/entries for/IN/for these/DT/these are/VBP/are marked/VBN/marked ?/./? protected/VBN/protected ?/./? /./. the/DT/the kernel/NN/kernel virtual/JJ/virtual memory/NN/memory is/VBZ/is split/VBN/split into/IN/into two/CD/two regions/NNP/regions. first/JJ/first there/EX/there is/VBZ/is a/DT/a static/JJ/static region/NN/region which/WDT/which has/VBZ/has the/DT/the core/NN/core of/IN/of the/DT/the kernel/NN/kernel and/CC/and page/NN/page table/NN/table references/NNS/references for/IN/for all/DT/all the/DT/the normally/RB/normally allocated/VBN/allocated pages/NNS/pages that/IN/that can/MD/can not/RB/not be/VB/be modified/NNP/modified. the/DT/the second/JJ/second region/NN/region is/VBZ/is dynamic/JJ/dynamic /:/- page/NN/page table/NN/table entries/NNS/entries created/VBD/created here/RB/here may/MD/may point/VB/point anywhere/RB/anywhere and/CC/and can/MD/can be/VB/be modified/NNP/modified. loading/NN/loading /,/, linking/VBG/linking and/CC/and execution/NN/execution /:/: for/IN/for a/DT/a process/NN/process the/DT/the execution/NN/execution mode/NN/mode is/VBZ/is entered/VBN/entered following/VBG/following an/DT/an exec/NN/exec system/NN/system call/NNP/call. this/DT/this may/MD/may result/VB/result in/IN/in completely/RB/completely rewriting/VBG/rewriting the/DT/the previous/JJ/previous execution/NN/execution context/NN/context ?/./? this/DT/this /,/, however/RB/however /,/, requires/VBZ/requires that/IN/that the/DT/the calling/NN/calling process/NN/process is/VBZ/is entitled/VBN/entitled an/DT/an access/NN/access to/TO/to the/DT/the called/VBN/called code/NNP/code. once/RB/once the/DT/the check/NN/check is/VBZ/is through/IN/through the/DT/the loading/NN/loading of/IN/of the/DT/the code/NN/code is/VBZ/is initiated/NNP/initiated. older/NN/older versions/NNS/versions of/IN/of linux/NN/linux used/VBN/used to/TO/to load/VB/load binary/JJ/binary files/NNS/files in/IN/in the/DT/the a.out/NN/a.out format/NNP/format. the/DT/the current/JJ/current version/NN/version also/RB/also loads/VBZ/loads binary/JJ/binary files/NNS/files in/IN/in elf/NN/elf format/NNP/format. the/DT/the elf/NN/elf format/NN/format is/VBZ/is flexible/JJ/flexible as/IN/as it/PRP/it permits/VBZ/permits adding/VBG/adding additional/JJ/additional information/NN/information for/IN/for debugging/VBG/debugging etc/NNP/etc. a/DT/a process/NN/process can/MD/can be/VB/be executed/VBN/executed when/WRB/when all/DT/all the/DT/the needed/VBN/needed library/NN/library routines/NNS/routines have/VBP/have also/RB/also been/VBN/been linked/VBN/linked to/TO/to form/NN/form an/DT/an executable/JJ/executable module/NNP/module. linux/NN/linux supports/NNS/supports dynamic/JJ/dynamic linking/NNP/linking. the/DT/the dynamic/JJ/dynamic linking/NN/linking is/VBZ/is achieved/VBN/achieved in/IN/in two/CD/two stages/NNS/stages /:/: operating/VBG/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/11/CD/04/11 1/CD/1. first/JJ/first the/DT/the linking/NN/linking process/NN/process downloads/NNS/downloads a/DT/a very/RB/very small/JJ/small statically/RB/statically linked/VBN/linked function/NN/function ?/./? whose/WP$/whose task/NN/task is/VBZ/is to/TO/to read/VB/read the/DT/the list/NN/list of/IN/of library/NN/library functions/NNS/functions which/WDT/which are/VBP/are to/TO/to be/VB/be dynamically/RB/dynamically linked/NNP/linked. 2/CD/2. next/JJ/next the/DT/the dynamic/JJ/dynamic linking/NN/linking follows/VBZ/follows /:/- resolving/VBG/resolving all/DT/all symbolic/JJ/symbolic references/NNS/references to/TO/to get/VB/get a/DT/a loadable/JJ/loadable executable/NNP/executable. linux/NN/linux file/NN/file systems/NNS/systems introduction/NN/introduction /:/: linux/NN/linux retains/NNS/retains most/JJS/most fundamentals/NNS/fundamentals of/IN/of the/DT/the unix/NN/unix file/NN/file systems/NNP/systems. while/IN/while most/JJS/most linux/NN/linux systems/NNS/systems retain/VBP/retain minix/NN/minix file/NN/file systems/NNS/systems as/IN/as well/RB/well /,/, the/DT/the more/RBR/more commonly/RB/commonly used/VBN/used file/NN/file systems/NNS/systems are/VBP/are vfs/NNS/vfs and/CC/and ext2fs/NNP/ext2fs which/WDT/which stand/VBP/stand for/IN/for virtual/JJ/virtual file/NN/file system/NN/system and/CC/and extended/VBD/extended file/NN/file systems/NNP/systems. we/PRP/we shall/MD/shall also/RB/also examine/VB/examine some/DT/some details/NNS/details of/IN/of proc/NN/proc file/NN/file system/NN/system and/CC/and motivation/NN/motivation for/IN/for its/PRP$/its presence/NN/presence in/IN/in linux/NN/linux file/NN/file systems/NNP/systems. as/IN/as in/IN/in other/JJ/other unixes/NNS/unixes in/IN/in linux/NN/linux the/DT/the files/NNS/files are/VBP/are mounted/VBN/mounted in/IN/in one/CD/one huge/JJ/huge tree/NN/tree rooted/VBN/rooted at/IN/at //NNP//. the/DT/the file/NN/file may/MD/may actually/RB/actually be/VB/be on/IN/on different/JJ/different drives/NNS/drives on/IN/on the/DT/the same/JJ/same or/CC/or on/IN/on remotely/RB/remotely networked/VBN/networked machines/NNP/machines. unlike/IN/unlike windows/NNS/windows /,/, and/CC/and like/IN/like unixes/NNS/unixes /,/, linux/NN/linux does/VBZ/does not/RB/not have/VB/have drive/JJ/drive numbers/NNS/numbers like/IN/like a/DT/a /:/: b/NN/b /:/: c/NN/c /:/: etc/FW/etc. the/DT/the mount/NN/mount operation/NN/operation /:/: the/DT/the unixes/NNS/unixes have/VBP/have a/DT/a notion/NN/notion of/IN/of mount/NN/mount operation/NNP/operation. the/DT/the mount/NN/mount operation/NN/operation is/VBZ/is used/VBN/used to/TO/to attach/VB/attach a/DT/a filesystem/NN/filesystem to/TO/to an/DT/an existing/VBG/existing filesystem/NN/filesystem on/IN/on a/DT/a hard/JJ/hard disk/NN/disk or/CC/or any/DT/any other/JJ/other block/NN/block oriented/VBD/oriented device/NNP/device. the/DT/the idea/NN/idea is/VBZ/is to/TO/to attach/VB/attach the/DT/the filesystem/NN/filesystem within/IN/within the/DT/the file/NN/file hierarchy/NN/hierarchy at/IN/at a/DT/a specified/VBN/specified mount/NN/mount point/NNP/point. the/DT/the mount/NN/mount point/NN/point is/VBZ/is defined/VBN/defined by/IN/by the/DT/the path/NN/path name/NN/name for/IN/for an/DT/an identified/JJ/identified directory/NNP/directory. if/IN/if that/DT/that mount/NN/mount point/NN/point has/VBZ/has contents/NNS/contents before/IN/before the/DT/the mount/NN/mount operation/NN/operation they/PRP/they are/VBP/are hidden/VBN/hidden till/NN/till the/DT/the file/NN/file system/NN/system is/VBZ/is un-mounted/NNP/un-mounted. the/DT/the un-mount/JJ/un-mount requires/NNS/requires issuance/NN/issuance of/IN/of umount/NN/umount command/NNP/command. linux/NN/linux supports/NNS/supports multiple/VBP/multiple filesystems/NNP/filesystems. these/DT/these include/NN/include ext/NN/ext /,/, ext2/NNP/ext2 /,/, xia/NN/xia /,/, minix/NN/minix /,/, umsdos/NNS/umsdos /,/, msdos/NNS/msdos /,/, vfat/JJ/vfat /,/, proc/NN/proc /,/, smb/NN/smb /,/, ncp/NN/ncp /,/, iso9660,sysv/NNP/iso9660,sysv /,/, hpfs/VBZ/hpfs /,/, affs/NNS/affs and/CC/and ufs/NNS/ufs etc/NNP/etc. more/RBR/more file/JJ/file systems/NNS/systems will/MD/will be/VB/be supported/VBN/supported in/IN/in future/JJ/future versions/NNS/versions of/IN/of linux/NNP/linux. all/DT/all block/NN/block capable/JJ/capable devices/NNS/devices like/IN/like floppy/NN/floppy drives/NNS/drives /,/, ide/VBP/ide hard/JJ/hard disks/NNS/disks etc/NNP/etc. can/MD/can run/VB/run as/RB/as a/DT/a filesystem/NNP/filesystem. the/DT/the ?/./? look/NN/look and/CC/and feel/NN/feel ?/./? of/IN/of the/DT/the files/NNS/files is/VBZ/is the/DT/the same/JJ/same regardless/NN/regardless of/IN/of the/DT/the type/NN/type of/IN/of underlying/VBG/underlying block/NN/block media/NNP/media. the/DT/the linux/NN/linux filesystems/NNS/filesystems treat/VBP/treat nearly/RB/nearly all/DT/all media/NNS/media as/IN/as if/IN/if they/PRP/they are/VBP/are linear/JJ/linear collection/NN/collection of/IN/of blocks/NNP/blocks. it/PRP/it is/VBZ/is the/DT/the task/NN/task of/IN/of the/DT/the device/NN/device driver/NN/driver to/TO/to translate/VB/translate the/DT/the file/NN/file system/NN/system calls/VBZ/calls into/IN/into appropriate/JJ/appropriate cylinder/NN/cylinder head/NN/head number/NN/number etc/FW/etc. if/IN/if needed/NNP/needed. a/DT/a single/JJ/single disk/NN/disk partition/NN/partition or/CC/or the/DT/the entire/JJ/entire disk/NN/disk /:/( if/IN/if there/EX/there are/VBP/are no/DT/no partitions/NNS/partitions /VBP/) can/MD/can have/VB/have only/RB/only one/CD/one filesystem/NNP/filesystem. that/WDT/that is/VBZ/is /,/, you/PRP/you can/MD/can not/RB/not have/VB/have a/DT/a half/NN/half the/DT/the file/JJ/file partition/NN/partition running/VBG/running ext2/NNP/ext2 and/CC/and the/DT/the operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/12/CD/04/12 remaining/VBG/remaining half/NN/half running/VBG/running fat32/NNP/fat32. the/DT/the minimum/JJ/minimum granularity/NN/granularity of/IN/of a/DT/a file/NN/file system/NN/system is/VBZ/is a/DT/a hard/JJ/hard disk/NN/disk partition/NNP/partition. on/IN/on the/DT/the whole/JJ/whole the/DT/the ext2/NNP/ext2 filesystem/NN/filesystem is/VBZ/is the/DT/the most/RBS/most successful/JJ/successful file/NN/file system/NNP/system. it/PRP/it is/VBZ/is also/RB/also now/RB/now a/DT/a part/NN/part of/IN/of the/DT/the more/RBR/more popular/JJ/popular linux/NN/linux distributions/NNP/distributions. linux/NN/linux originally/RB/originally came/VBD/came with/IN/with the/DT/the minix/NN/minix filesystem/NN/filesystem which/WDT/which was/VBD/was quite/RB/quite primitive/JJ/primitive and/CC/and 'academic/JJ/'academic '/''/' in/IN/in nature/NNP/nature. to/TO/to improve/VB/improve the/DT/the situation/NN/situation a/DT/a new/JJ/new file/NN/file system/NN/system was/VBD/was designed/VBN/designed for/IN/for linux/NN/linux in/IN/in 1992/CD/1992 called/VBN/called the/DT/the exteneded/VBN/exteneded file/NN/file system/NN/system or/CC/or the/DT/the ext/JJ/ext file/NN/file system/NNP/system. mr/NN/mr remy/NN/remy card/NN/card /:/( r/NN/r ?/./? my/PRP$/my card/NN/card /,/, laboratoire/NN/laboratoire masi--institut/-NONE-/masi--institut blaise/VBP/blaise pascal/JJ/pascal /,/, e-mail/JJ/e-mail /:/: card/NN/card @/IN/@ masi.ibp.fr/JJ/masi.ibp.fr /NN/) further/RB/further improved/VBN/improved the/DT/the system/NN/system to/TO/to offer/VB/offer the/DT/the extended/JJ/extended file/NN/file system/NN/system -2/-NONE-/-2 or/CC/or the/DT/the ext-2/-NONE-/ext-2 file/NN/file system/NNP/system. this/DT/this was/VBD/was an/DT/an important/JJ/important addition/NN/addition to/TO/to linux/VB/linux that/IN/that was/VBD/was added/VBN/added along/IN/along with/IN/with the/DT/the virtual/JJ/virtual file/NN/file system/NN/system which/WDT/which permitted/VBN/permitted linux/NN/linux to/TO/to interoperate/VB/interoperate with/IN/with different/JJ/different filesystems/NNP/filesystems. description/NN/description /:/: basic/JJ/basic file/NN/file systems/NNS/systems concepts/NNS/concepts /:/: every/DT/every linux/NN/linux file/NN/file system/NN/system implements/NNS/implements the/DT/the basic/JJ/basic set/NN/set of/IN/of concepts/NNS/concepts that/WDT/that have/VBP/have been/VBN/been a/DT/a part/NN/part of/IN/of the/DT/the unix/NN/unix filesystem/NN/filesystem along/IN/along the/DT/the lines/NNS/lines described/VBD/described in/IN/in ?/./? the/DT/the design/NN/design of/IN/of the/DT/the unix/NN/unix ?/./? book/NN/book by/IN/by maurice/NN/maurice bach/NNP/bach. basically/RB/basically /,/, these/DT/these concepts/NNS/concepts are/VBP/are that/IN/that every/DT/every file/NN/file is/VBZ/is represented/VBN/represented by/IN/by an/DT/an inode/NNP/inode. directories/VBZ/directories are/VBP/are nothing/VBG/nothing but/CC/but special/JJ/special files/NNS/files with/IN/with a/DT/a list/NN/list of/IN/of entries/NNP/entries. i/o/NNP/i/o to/TO/to devices/NNS/devices can/MD/can be/VB/be handled/VBN/handled by/IN/by simply/RB/simply reading/VBG/reading or/CC/or writing/VBG/writing into/IN/into special/JJ/special files/NNS/files /:/( example/NN/example /:/: to/TO/to read/VB/read data/NNS/data from/IN/from the/DT/the serial/JJ/serial port/NN/port we/PRP/we can/MD/can do/VB/do cat/RB/cat /dev/ttys0/-NONE-//dev/ttys0 /:/) /./. superblock/NN/superblock /:/: super/NN/super block/NN/block contains/VBZ/contains the/DT/the meta-data/NNP/meta-data for/IN/for the/DT/the entire/JJ/entire filesystem/NNP/filesystem. inodes/VBZ/inodes /:/: each/DT/each file/NN/file is/VBZ/is associated/VBN/associated with/IN/with a/DT/a structure/NN/structure called/VBN/called an/DT/an inode/NNP/inode. inode/NN/inode stores/NNS/stores the/DT/the attributes/NNS/attributes of/IN/of the/DT/the file/NN/file which/WDT/which include/VBP/include file/NN/file type/NN/type /,/, owner/NN/owner time/NN/time stamp/NN/stamp /,/, size/NN/size pointers/NNS/pointers to/TO/to data/NNS/data blocks/NNS/blocks etc/NNP/etc. whenever/NN/whenever a/DT/a file/NN/file is/VBZ/is accessed/VBN/accessed the/DT/the kernel/NN/kernel translates/VBZ/translates the/DT/the offset/NN/offset into/IN/into a/DT/a block/NN/block number/NN/number and/CC/and then/RB/then uses/VBZ/uses the/DT/the inode/NN/inode to/TO/to figure/VB/figure out/RP/out the/DT/the actual/JJ/actual address/NN/address of/IN/of the/DT/the block/NNP/block. this/DT/this address/NN/address is/VBZ/is then/RB/then used/VBN/used to/TO/to read/write/JJ/read/write to/TO/to the/DT/the actual/JJ/actual physical/JJ/physical block/NN/block on/IN/on the/DT/the disk/NNP/disk. the/DT/the structure/NN/structure of/IN/of an/DT/an inode/NN/inode is/VBZ/is as/IN/as shown/JJ/shown below/IN/below in/IN/in the/DT/the figure/NNP/figure. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/13/CD/04/13 directories/NNS/directories /:/: directories/NNS/directories are/VBP/are implemented/VBN/implemented as/IN/as special/JJ/special files/NNP/files. actually/RB/actually /,/, a/DT/a directory/NN/directory is/VBZ/is nothing/NN/nothing but/CC/but a/DT/a file/NN/file containing/VBG/containing a/DT/a list/NN/list of/IN/of entries/NNP/entries. each/DT/each entry/NN/entry contains/VBZ/contains a/DT/a file/NN/file name/NN/name and/CC/and a/DT/a corresponding/NN/corresponding inode/NN/inode number/NNP/number. whenever/NN/whenever a/DT/a path/NN/path is/VBZ/is resolved/VBN/resolved by/IN/by the/DT/the kernel/NN/kernel it/PRP/it looks/VBZ/looks up/RP/up these/DT/these entries/NNS/entries for/IN/for the/DT/the corresponding/VBG/corresponding inode/NN/inode number/NNP/number. if/IN/if the/DT/the inode/NN/inode number/NN/number is/VBZ/is found/VBN/found it/PRP/it is/VBZ/is loaded/VBN/loaded in/IN/in the/DT/the memory/NN/memory and/CC/and used/VBD/used for/IN/for further/JJ/further file/NN/file access/NNP/access. links/VBZ/links /:/: unix/NN/unix operating/NN/operating systems/NNS/systems implement/NN/implement the/DT/the concept/NN/concept of/IN/of links/NNP/links. basically/RB/basically there/RB/there are/VBP/are two/CD/two types/NNS/types of/IN/of links/NNS/links /:/: hard/JJ/hard links/NNS/links and/CC/and soft/JJ/soft links/NNP/links. hard/NN/hard link/NN/link is/VBZ/is just/RB/just another/DT/another entry/NN/entry in/IN/in directory/NN/directory structure/NN/structure pointing/VBG/pointing to/TO/to the/DT/the same/JJ/same inode/NN/inode number/NN/number as/IN/as the/DT/the file/NN/file name/NN/name it/PRP/it is/VBZ/is linked/VBN/linked to/-NONE-/to. the/DT/the link/NN/link count/NN/count on/IN/on the/DT/the pointed/VBN/pointed inode/NN/inode is/VBZ/is incremented/NNP/incremented. if/IN/if a/DT/a hard/JJ/hard link/NN/link is/VBZ/is deleted/VBN/deleted the/DT/the link/NN/link count/NN/count is/VBZ/is decremented/NNP/decremented. if/IN/if the/DT/the name1/NNP/name1 i1/NNP/i1 name2/NNP/name2 i2/NNP/i2 name3/NNP/name3 i3/NNP/i3 name4/NNP/name4 i4/NNP/i4 name5/NNP/name5 i5/NNP/i5 directory/NN/directory inode/NN/inode table/NN/table operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/14/CD/04/14 link/NN/link count/NN/count becomes/VBZ/becomes zero/NN/zero the/DT/the inode/NN/inode is/VBZ/is deallocated/VBN/deallocated if/IN/if the/DT/the linkcount/NN/linkcount becoms/NNS/becoms zero/NNP/zero. it/PRP/it is/VBZ/is impossible/JJ/impossible to/TO/to have/VB/have cross/NNS/cross file/IN/file systems/NNS/systems hard/RB/hard links/NNP/links. soft/NN/soft links/VBZ/links are/VBP/are just/RB/just files/NNS/files which/WDT/which contain/NN/contain the/DT/the name/NN/name of/IN/of the/DT/the file/NN/file they/PRP/they are/VBP/are pointing/VBG/pointing to/NNP/to. whenever/NN/whenever the/DT/the kernel/NN/kernel encounters/NNS/encounters a/DT/a soft/JJ/soft link/NN/link in/IN/in a/DT/a path/NN/path it/PRP/it replaces/VBZ/replaces the/DT/the soft-link/NN/soft-link with/IN/with it/PRP/it contents/VBZ/contents and/CC/and restarts/NNS/restarts the/DT/the path/NN/path resolution/NNP/resolution. with/IN/with soft/JJ/soft links/NNS/links it/PRP/it is/VBZ/is possible/JJ/possible to/TO/to have/VB/have cross/NNS/cross file/IN/file system/NN/system links/NNP/links. softlinks/VBZ/softlinks that/IN/that are/VBP/are not/RB/not linked/VBN/linked to/TO/to absolute/VB/absolute paths/NNS/paths can/MD/can lead/VB/lead to/TO/to havoc/VB/havoc in/IN/in some/DT/some cases/NNP/cases. softlinks/VBZ/softlinks also/RB/also degrade/VBP/degrade system/NN/system performance/NNP/performance. device/NN/device specific/NN/specific files/NNS/files /:/: unix/NN/unix operating/NN/operating systems/NNS/systems enable/JJ/enable access/NN/access to/TO/to devices/NNS/devices using/VBG/using special/JJ/special files/NNP/files. these/DT/these file/JJ/file do/VBP/do not/RB/not take/VB/take up/RP/up any/DT/any space/NN/space but/CC/but are/VBP/are actually/RB/actually used/VBN/used to/TO/to connect/VB/connect the/DT/the device/NN/device to/TO/to the/DT/the correct/NN/correct device/NN/device driver/NNP/driver. the/DT/the device/NN/device driver/NN/driver is/VBZ/is located/VBN/located based/VBN/based on/IN/on the/DT/the major/JJ/major number/NN/number associated/VBN/associated with/IN/with the/DT/the device/NN/device file/NNP/file. the/DT/the minor/NN/minor number/NN/number is/VBZ/is passed/VBN/passed to/TO/to the/DT/the device/NN/device driver/NN/driver as/IN/as an/DT/an argument/NNP/argument. linux/NN/linux kernel/NN/kernel 2.4/CD/2.4 introduced/VBN/introduced a/DT/a new/JJ/new file/NN/file system/NN/system for/IN/for accessing/NN/accessing device/NN/device files/NNS/files called/VBN/called as/RB/as the/DT/the device/NN/device file/NN/file system/NNP/system. /NNP/( look/NN/look at/IN/at the/DT/the section/NN/section on/IN/on device/NN/device drivers/NNS/drivers /:/) the/DT/the virtual/JJ/virtual file/NN/file system/NN/system /:/: when/WRB/when the/DT/the linux/NN/linux kernel/NN/kernel has/VBZ/has to/TO/to access/NN/access a/DT/a filesystem/NN/filesystem it/PRP/it uses/VBZ/uses a/DT/a filesystem/NN/filesystem type/NN/type independent/NN/independent interface/NN/interface /,/, which/WDT/which allows/VBZ/allows the/DT/the system/NN/system to/TO/to carry/VB/carry out/RP/out operations/NNS/operations on/IN/on a/DT/a file/NN/file system/NN/system without/IN/without knowing/NN/knowing its/PRP$/its construction/NN/construction or/CC/or type/NNP/type. since/IN/since the/DT/the kernel/NN/kernel is/VBZ/is independent/JJ/independent of/IN/of file/NN/file system/NN/system type/NN/type or/CC/or construction/NN/construction /,/, it/PRP/it is/VBZ/is flexible/JJ/flexible enough/RB/enough to/TO/to accommodate/VB/accommodate future/JJ/future file/NN/file systems/NNS/systems as/IN/as and/CC/and when/WRB/when they/PRP/they become/VBP/become available/NNP/available. virtual/JJ/virtual file/NN/file system/NN/system is/VBZ/is an/DT/an interface/NN/interface providing/VBG/providing a/DT/a clearly/RB/clearly defined/VBN/defined link/NN/link between/IN/between the/DT/the operating/NN/operating system/NN/system kernel/NN/kernel and/CC/and the/DT/the different/JJ/different file/NN/file systems/NNP/systems. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/15/CD/04/15 the/DT/the vfs/NNS/vfs structure/VBP/structure and/CC/and file/JJ/file management/NN/management in/IN/in vfs/NNS/vfs /:/: for/IN/for management/NN/management of/IN/of files/NNS/files /,/, vfs/NNS/vfs employs/VBZ/employs an/DT/an underlying/VBG/underlying definition/NN/definition for/IN/for three/CD/three kinds/NNS/kinds of/IN/of objects/NNS/objects /:/: 1/CD/1. inode/NN/inode object/NN/object 2/CD/2. file/NN/file object/NN/object 3/CD/3. file/NN/file system/NN/system object/NN/object associated/VBN/associated with/IN/with each/DT/each type/NN/type of/IN/of object/NN/object is/VBZ/is a/DT/a function/NN/function table/NN/table which/WDT/which contains/VBZ/contains the/DT/the operations/NNS/operations that/IN/that can/MD/can be/VB/be performed/NNP/performed. the/DT/the function/NN/function table/NN/table basically/RB/basically maintains/VBZ/maintains the/DT/the addresses/NNS/addresses of/IN/of the/DT/the operational/JJ/operational routines/NNP/routines. the/DT/the file/NN/file objects/VBZ/objects and/CC/and inode/NN/inode objects/NNS/objects maintain/VB/maintain all/DT/all the/DT/the access/NN/access mechanism/NN/mechanism for/IN/for each/DT/each file/NN/file ?/./? s/NNS/s access/NNP/access. to/TO/to access/NN/access an/DT/an inode/NN/inode object/NN/object the/DT/the process/NN/process must/MD/must obtain/VB/obtain a/DT/a pointer/NN/pointer to/TO/to it/PRP/it from/IN/from the/DT/the corresponding/NN/corresponding file/NN/file object/NNP/object. the/DT/the file/NN/file object/NN/object maintains/VBZ/maintains from/IN/from where/WRB/where a/DT/a certain/JJ/certain file/NN/file is/VBZ/is currently/RB/currently being/VBG/being read/NN/read or/CC/or written/VBN/written to/TO/to ensure/VB/ensure sequential/JJ/sequential io/NNP/io. file/NN/file objects/NNS/objects usually/RB/usually belong/JJ/belong to/TO/to a/DT/a single/JJ/single user/NN/user process/NN/process system/NN/system call/NN/call interface/NN/interface vfs/NNS/vfs f/NN/f a/DT/a t/NN/t m/NN/m i/PRP/i n/VBP/n i/PRP/i x/VBP/x f/NN/f s/NNS/s e/VBP/e x/NN/x t/NN/t 2/CD/2 buffer/NN/buffer cache/NN/cache device/NN/device driver/NN/driver disk/NN/disk controller/NN/controller linux/NN/linux kernel/NN/kernel hardware/NN/hardware operating/NN/operating systems/more/NN/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/16/CD/04/16 process/NNP/process. the/DT/the inode/NN/inode object/NN/object maintains/VBZ/maintains such/JJ/such information/NN/information as/IN/as the/DT/the owner/NN/owner /,/, time/NN/time of/IN/of file/NN/file creation/NN/creation and/CC/and modification/NNP/modification. the/DT/the vfs/NNS/vfs knows/VBZ/knows about/IN/about file-system/JJ/file-system types/NNS/types supported/VBN/supported in/IN/in the/DT/the kernel/NNP/kernel. it/PRP/it uses/VBZ/uses a/DT/a table/JJ/table defined/VBN/defined during/IN/during the/DT/the kernel/NN/kernel configuration/NNP/configuration. each/DT/each entry/NN/entry in/IN/in this/DT/this table/NN/table describes/VBZ/describes filesystem/NN/filesystem type/NN/type /:/: it/PRP/it contains/VBZ/contains the/DT/the name/NN/name of/IN/of the/DT/the filesystem/NN/filesystem type/NN/type and/CC/and a/DT/a pointer/NN/pointer to/TO/to a/DT/a function/NN/function called/VBN/called during/IN/during the/DT/the mount/NN/mount operation/NNP/operation. when/WRB/when a/DT/a file-system/JJ/file-system is/VBZ/is to/TO/to be/VB/be mounted/VBN/mounted /,/, the/DT/the appropriate/NN/appropriate mount/NN/mount function/NN/function is/VBZ/is called/NNP/called. this/DT/this function/NN/function is/VBZ/is responsible/JJ/responsible for/IN/for reading/NN/reading the/DT/the super-block/NN/super-block from/IN/from the/DT/the disk/NN/disk /,/, initializing/VBG/initializing its/PRP$/its internal/JJ/internal variables/NNS/variables /,/, and/CC/and returning/VBG/returning a/DT/a mounted/JJ/mounted file-system/NN/file-system descriptor/NN/descriptor to/TO/to the/DT/the vfs/NNP/vfs. the/DT/the vfs/NNS/vfs functions/NNS/functions can/MD/can use/VB/use this/DT/this descriptor/NN/descriptor to/TO/to access/NN/access the/DT/the physical/JJ/physical file-system/NN/file-system routines/NNS/routines subsequently/NNP/subsequently. a/DT/a mounted/VBN/mounted file-system/JJ/file-system descriptor/NN/descriptor contains/VBZ/contains several/JJ/several kinds/NNS/kinds of/IN/of data/NNS/data /:/: information/NN/information that/IN/that is/VBZ/is common/JJ/common to/TO/to every/DT/every file-system/JJ/file-system type/NN/type /,/, pointers/NNS/pointers to/TO/to functions/NNS/functions provided/VBN/provided by/IN/by the/DT/the physical/JJ/physical file-system/NN/file-system kernel/NN/kernel code/NN/code /,/, and/CC/and private/JJ/private data/NNS/data maintained/VBD/maintained by/IN/by the/DT/the physical/JJ/physical filesystem/NN/filesystem code/NNP/code. the/DT/the function/NN/function pointers/NNS/pointers contained/VBD/contained in/IN/in the/DT/the file-system/JJ/file-system descriptors/NNS/descriptors allow/VBP/allow the/DT/the vfs/NNS/vfs to/TO/to access/NN/access the/DT/the file-system/JJ/file-system internal/JJ/internal routines/NNP/routines. two/CD/two other/JJ/other types/NNS/types of/IN/of descriptors/NNS/descriptors are/VBP/are used/VBN/used by/IN/by the/DT/the vfs/NNS/vfs /:/: an/DT/an inode/NN/inode descriptor/NN/descriptor and/CC/and an/DT/an open/JJ/open file/NN/file descriptor/NNP/descriptor. each/DT/each descriptor/NN/descriptor contains/VBZ/contains information/NN/information related/VBN/related to/TO/to files/NNS/files in/IN/in use/NN/use and/CC/and a/DT/a set/NN/set of/IN/of operations/NNS/operations provided/VBN/provided by/IN/by the/DT/the physical/JJ/physical filesystem/NN/filesystem code/NNP/code. while/IN/while the/DT/the inode/NN/inode descriptor/NN/descriptor contains/VBZ/contains pointers/NNS/pointers to/TO/to functions/NNS/functions that/IN/that can/MD/can be/VB/be used/VBN/used to/TO/to act/VB/act on/IN/on any/DT/any file/NN/file /:/( e.g/NNP/e.g. create/NN/create /,/, unlink/NN/unlink /:/) /,/, the/DT/the file/NN/file descriptors/NNS/descriptors contains/VBZ/contains pointer/NN/pointer to/TO/to functions/NNS/functions which/WDT/which can/MD/can only/RB/only act/VB/act on/IN/on open/JJ/open files/NNS/files /:/( e.g/NNP/e.g. read/NN/read /,/, write/JJ/write /NN/) /./. the/DT/the second/JJ/second extended/JJ/extended file/NN/file system/NN/system /:/( ext2fs/NNP/ext2fs /:/) standard/JJ/standard ext2fs/NNS/ext2fs features/NNS/features /:/: this/DT/this is/VBZ/is the/DT/the most/RBS/most commonly/RB/commonly used/JJ/used file/NN/file system/NN/system in/IN/in linux/NNP/linux. in/IN/in fact/NN/fact /,/, it/PRP/it extends/VBZ/extends the/DT/the original/JJ/original minix/NN/minix fs/NNS/fs which/WDT/which had/VBD/had several/JJ/several restrictions/NNS/restrictions ?/./? such/JJ/such as/IN/as file/JJ/file name/NN/name length/NN/length being/VBG/being limited/VBN/limited to/TO/to 14/CD/14 characters/NNS/characters and/CC/and the/DT/the file/NN/file system/NN/system size/NN/size limited/VBN/limited to/TO/to 64/CD/64 k/NN/k etc/NNP/etc. the/DT/the ext2fs/NNP/ext2fs permits/VBZ/permits three/CD/three levels/NNS/levels of/IN/of indirections/NNS/indirections to/TO/to store/VB/store really/RB/really large/JJ/large files/NNS/files /:/( as/IN/as in/IN/in bsd/NN/bsd fast/NN/fast file/NN/file system/NN/system /:/) /./. small/JJ/small files/NNS/files and/CC/and fragments/NNS/fragments are/VBP/are stored/VBN/stored in/IN/in 1kb/CD/1kb /CD/( kilo/NN/kilo bytes/NNS/bytes /:/) blocks/NNP/blocks. it/PRP/it is/VBZ/is possible/JJ/possible to/TO/to support/VB/support 2kb/CD/2kb or/CC/or 4kb/CD/4kb blocks/NNS/blocks sizes/NNP/sizes. 1kb/CD/1kb is/VBZ/is the/DT/the default/NN/default size/NNP/size. the/DT/the ext2fs/NNP/ext2fs supports/VBZ/supports standard/JJ/standard */-NONE-/* nix/VB/nix file/JJ/file types/NNS/types /:/: regular/JJ/regular files/NNS/files /,/, directories/NNS/directories /,/, device/NN/device special/JJ/special files/NNS/files and/CC/and symbolic/JJ/symbolic links/NNP/links. ext2fs/NNP/ext2fs is/VBZ/is able/JJ/able to/TO/to manage/NN/manage file/NN/file systems/NNS/systems created/VBD/created on/IN/on really/RB/really big/JJ/big partitions/NNP/partitions. while/IN/while the/DT/the original/JJ/original kernel/NN/kernel code/NN/code restricted/VBD/restricted the/DT/the maximal/JJ/maximal file-system/NN/file-system size/NN/size to/TO/to 2/CD/2 gb/NN/gb /,/, recent/JJ/recent work/NN/work in/IN/in the/DT/the vfs/NNS/vfs layer/NN/layer have/VBP/have raised/VBN/raised this/DT/this limit/NN/limit to/TO/to 4/CD/4 tb/NNP/tb. thus/RB/thus /,/, it/PRP/it is/VBZ/is now/RB/now possible/JJ/possible to/TO/to use/VB/use big/JJ/big disks/NNS/disks without/IN/without the/DT/the need/NN/need of/IN/of creating/VBG/creating many/JJ/many partitions/NNP/partitions. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/17/CD/04/17 not/RB/not only/RB/only does/VBZ/does ext2fs/NNP/ext2fs provide/VB/provide long/JJ/long file/NN/file names/VBZ/names it/PRP/it also/RB/also uses/VBZ/uses variable/JJ/variable length/NN/length directory/NN/directory entries/NNP/entries. the/DT/the maximal/JJ/maximal file/NN/file name/NN/name size/NN/size is/VBZ/is 255/CD/255 characters/NNP/characters. this/DT/this limit/NN/limit could/MD/could be/VB/be extended/VBN/extended to/TO/to 1012/CD/1012 /,/, if/IN/if needed/NNP/needed. ext2fs/NNP/ext2fs reserves/NNS/reserves some/DT/some blocks/NNS/blocks for/IN/for the/DT/the super/NN/super user/NN/user /:/( root/NN/root /:/) /./. normally/RB/normally /,/, 5/CD/5 %/NN/% of/IN/of the/DT/the blocks/NNS/blocks are/VBP/are reserved/NNP/reserved. this/DT/this allows/VBZ/allows the/DT/the administrator/NN/administrator to/TO/to recover/VB/recover easily/RB/easily from/IN/from situations/NNS/situations where/WRB/where user/NN/user processes/NNS/processes fill/VBP/fill up/RP/up file/JJ/file systems/NNP/systems. as/IN/as we/PRP/we had/VBD/had earlier/RBR/earlier mentioned/VBN/mentioned physical/JJ/physical block/NN/block allocation/NN/allocation policy/NN/policy attempts/VBZ/attempts to/TO/to place/NN/place logically/RB/logically related/JJ/related blocks/NNS/blocks physically/RB/physically close/JJ/close so/RB/so that/IN/that io/NN/io is/VBZ/is expedited/NNP/expedited. this/DT/this is/VBZ/is achieved/VBN/achieved by/IN/by having/NN/having two/CD/two forms/NNS/forms of/IN/of groups/NNS/groups /:/: 1/CD/1. block/NN/block group/NN/group 2/CD/2. cylinder/NN/cylinder group/NNP/group. usually/RB/usually the/DT/the file/NN/file allocation/NN/allocation is/VBZ/is attempted/VBN/attempted with/IN/with the/DT/the block/NN/block group/NN/group with/IN/with the/DT/the inode/NN/inode of/IN/of the/DT/the file/NN/file in/IN/in the/DT/the same/JJ/same block/NN/block group/NNP/group. also/RB/also within/IN/within a/DT/a block/NN/block group/NN/group physical/JJ/physical proximity/NN/proximity is/VBZ/is attempted/NNP/attempted. as/IN/as for/IN/for the/DT/the cylinder/NN/cylinder group/NN/group /,/, the/DT/the distribution/NN/distribution depends/VBZ/depends on/IN/on the/DT/the way/NN/way head/NN/head movement/NN/movement can/MD/can be/VB/be optimized/NNP/optimized. advanced/VBD/advanced ext2fs/NNP/ext2fs features/NNS/features in/IN/in addition/NN/addition to/TO/to the/DT/the standard/JJ/standard features/NNS/features of/IN/of the/DT/the */-NONE-/* nix/VB/nix file/JJ/file systems/NNS/systems ext2fs/NNP/ext2fs supports/NNS/supports several/JJ/several advanced/JJ/advanced features/NNP/features. file/NN/file attributes/VBZ/attributes allow/JJ/allow the/DT/the users/NNS/users to/TO/to modify/VB/modify the/DT/the kernel/NN/kernel behavior/NN/behavior when/WRB/when acting/VBG/acting on/IN/on a/DT/a set/NN/set of/IN/of files/NNP/files. one/CD/one can/MD/can set/VB/set attributes/NNS/attributes on/IN/on a/DT/a file/NN/file or/CC/or on/IN/on a/DT/a directory/NNP/directory. in/IN/in the/DT/the later/JJ/later case/NN/case /,/, new/JJ/new files/NNS/files created/VBN/created in/IN/in the/DT/the directory/NN/directory inherit/NN/inherit these/DT/these attributes/NNP/attributes. /NNP/( examples/NNS/examples /:/: compression/NN/compression immutability/NN/immutability etc/NN/etc /:/) bsd/NN/bsd or/CC/or system/NN/system v/NN/v release/NN/release 4/CD/4 semantics/NNS/semantics can/MD/can be/VB/be selected/VBN/selected at/IN/at mount/NN/mount time/NNP/time. a/DT/a mount/NN/mount option/NN/option allows/VBZ/allows the/DT/the administrator/NN/administrator to/TO/to choose/VB/choose the/DT/the file/NN/file creation/NN/creation semantics/NNP/semantics. on/IN/on a/DT/a file-system/JJ/file-system mounted/VBN/mounted with/IN/with bsd/JJ/bsd semantics/NNS/semantics /,/, files/NNS/files are/VBP/are created/VBN/created with/IN/with the/DT/the same/JJ/same group/NN/group id/VBD/id as/RB/as their/PRP$/their parent/NN/parent directory/NNP/directory. system/NN/system v/NN/v semantics/NNS/semantics are/VBP/are a/DT/a bit/NN/bit more/RBR/more complex/JJ/complex /:/: if/IN/if a/DT/a directory/NN/directory has/VBZ/has the/DT/the setgid/JJ/setgid bit/NN/bit set/NN/set /,/, new/JJ/new files/NNS/files inherit/NN/inherit the/DT/the group/NN/group id/VBD/id of/IN/of the/DT/the directory/NN/directory and/CC/and subdirectories/NNS/subdirectories inherit/NN/inherit the/DT/the group/NN/group id/VBD/id and/CC/and the/DT/the setgid/NN/setgid bit/NN/bit ;/:/; in/IN/in the/DT/the other/JJ/other case/NN/case /,/, files/NNS/files and/CC/and subdirectories/NNS/subdirectories are/VBP/are created/VBN/created with/IN/with the/DT/the primary/JJ/primary group/NN/group id/VBD/id of/IN/of the/DT/the calling/NN/calling process/NNP/process. bsd-like/NNP/bsd-like synchronous/JJ/synchronous updates/NNS/updates can/MD/can be/VB/be used/VBN/used in/IN/in ext2fs/NNP/ext2fs. a/DT/a mount/NN/mount option/NN/option allows/VBZ/allows the/DT/the administrator/NN/administrator to/TO/to request/NN/request that/IN/that metadata/NN/metadata /:/( inodes/NNS/inodes /,/, bitmap/NN/bitmap blocks/NNS/blocks /,/, indirect/JJ/indirect blocks/NNS/blocks and/CC/and directory/NN/directory blocks/NNS/blocks /:/) be/VB/be written/VBN/written synchronously/RB/synchronously on/IN/on the/DT/the disk/NN/disk when/WRB/when they/PRP/they are/VBP/are modified/NNP/modified. this/DT/this can/MD/can be/VB/be useful/JJ/useful to/TO/to maintain/VB/maintain a/DT/a strict/JJ/strict metadata/NN/metadata consistency/NN/consistency but/CC/but this/DT/this leads/NNS/leads to/TO/to poor/VB/poor performances/NNP/performances. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/18/CD/04/18 ext2fs/NNP/ext2fs allows/VBZ/allows the/DT/the administrator/NN/administrator to/TO/to choose/VB/choose the/DT/the logical/JJ/logical block/NN/block size/NN/size when/WRB/when creating/VBG/creating the/DT/the filesystem/NNP/filesystem. block/NN/block sizes/VBZ/sizes can/MD/can typically/RB/typically be/VB/be 1024/CD/1024 /,/, 2048/CD/2048 and/CC/and 4096/CD/4096 bytes/NNP/bytes. ext2fs/NNP/ext2fs implements/VBZ/implements fast/JJ/fast symbolic/JJ/symbolic links/NNP/links. a/DT/a fast/NN/fast symbolic/JJ/symbolic link/NN/link does/VBZ/does not/RB/not use/VB/use any/DT/any data/NN/data block/NN/block on/IN/on the/DT/the file-system/NNP/file-system. the/DT/the target/NN/target name/NN/name is/VBZ/is not/RB/not stored/VBN/stored in/IN/in a/DT/a data/NN/data block/NN/block but/CC/but in/IN/in the/DT/the inode/NN/inode itself/NNP/itself. ext2fs/NNP/ext2fs keeps/VBZ/keeps track/NN/track of/IN/of the/DT/the file-system/JJ/file-system state/NNP/state. a/DT/a special/JJ/special field/NN/field in/IN/in the/DT/the superblock/NN/superblock is/VBZ/is used/VBN/used by/IN/by the/DT/the kernel/NN/kernel code/NN/code to/TO/to indicate/VB/indicate the/DT/the status/NN/status of/IN/of the/DT/the file/NN/file system/NNP/system. when/WRB/when a/DT/a file-system/JJ/file-system is/VBZ/is mounted/VBN/mounted in/IN/in read/NN/read or/CC/or write/VB/write mode/NN/mode /,/, its/PRP$/its state/NN/state is/VBZ/is set/VBN/set to/TO/to `/``/` `/``/` not/RB/not clean''/NNP/clean''. whenever/RB/whenever filesystem/NN/filesystem is/VBZ/is unmounted/VBN/unmounted /,/, or/CC/or re-mounted/JJ/re-mounted in/IN/in read-only/JJ/read-only mode/NN/mode /,/, its/PRP$/its state/NN/state is/VBZ/is reset/VBN/reset to/TO/to /:/: `/``/` `/``/` clean''/NNP/clean''. at/IN/at boot/NN/boot time/NN/time /,/, the/DT/the file-system/JJ/file-system checker/NN/checker uses/NNS/uses this/DT/this information/NN/information to/TO/to decide/VB/decide if/IN/if a/DT/a file-system/JJ/file-system must/NN/must be/VB/be checked/NNP/checked. the/DT/the kernel/NN/kernel code/NN/code also/RB/also records/VBZ/records errors/NNS/errors in/IN/in this/DT/this field/NNP/field. when/WRB/when an/DT/an inconsistency/NN/inconsistency is/VBZ/is detected/VBN/detected by/IN/by the/DT/the kernel/NN/kernel code/NN/code /,/, the/DT/the file-system/JJ/file-system is/VBZ/is marked/VBN/marked as/RB/as `/``/` `/``/` erroneous''/NNP/erroneous''. the/DT/the file-system/JJ/file-system checker/NN/checker tests/NNS/tests this/DT/this to/TO/to force/VB/force the/DT/the check/NN/check of/IN/of the/DT/the file-system/JJ/file-system regardless/NN/regardless of/IN/of its/PRP$/its apparently/RB/apparently clean/JJ/clean state/NNP/state. always/RB/always skipping/VBG/skipping filesystem/NN/filesystem checks/NNS/checks may/MD/may sometimes/RB/sometimes be/VB/be dangerous/JJ/dangerous /,/, so/RB/so ext2fs/NNP/ext2fs provides/VBZ/provides two/CD/two ways/NNS/ways to/TO/to force/VB/force checks/NNS/checks at/IN/at regular/JJ/regular intervals/NNP/intervals. a/DT/a mount/NN/mount counter/NN/counter is/VBZ/is maintained/VBN/maintained in/IN/in the/DT/the superblock/NNP/superblock. each/DT/each time/NN/time the/DT/the filesystem/NN/filesystem is/VBZ/is mounted/VBN/mounted in/IN/in read/write/JJ/read/write mode/NN/mode /,/, this/DT/this counter/NN/counter is/VBZ/is incremented/NNP/incremented. when/WRB/when it/PRP/it reaches/VBZ/reaches a/DT/a maximal/JJ/maximal value/NN/value /:/( also/RB/also recorded/VBD/recorded in/IN/in the/DT/the superblock/NN/superblock /:/) /,/, the/DT/the filesystem/NN/filesystem checker/NN/checker forces/NNS/forces the/DT/the check/NN/check even/RB/even if/IN/if the/DT/the filesystem/NN/filesystem is/VBZ/is `/``/` `/``/` clean''/NNP/clean''. a/DT/a last/JJ/last check/NN/check time/NN/time and/CC/and a/DT/a maximal/JJ/maximal check/NN/check interval/NN/interval are/VBP/are also/RB/also maintained/VBN/maintained in/IN/in the/DT/the superblock/NNP/superblock. these/DT/these two/CD/two fields/NNS/fields allow/VBP/allow the/DT/the administrator/NN/administrator to/TO/to request/NN/request periodical/JJ/periodical checks/NNP/checks. when/WRB/when the/DT/the maximal/JJ/maximal check/NN/check interval/NN/interval has/VBZ/has been/VBN/been reached/VBN/reached /,/, the/DT/the checker/NN/checker ignores/NNS/ignores the/DT/the filesystem/NN/filesystem state/NN/state and/CC/and forces/NNS/forces a/DT/a filesystem/NN/filesystem check/NNP/check. ext2fs/NNP/ext2fs offers/VBZ/offers tools/NNS/tools to/TO/to tune/VB/tune the/DT/the filesystem/NN/filesystem behavior/NN/behavior like/IN/like tune2fs/NNP/tune2fs physical/JJ/physical structure/NN/structure /:/: the/DT/the physical/JJ/physical structure/NN/structure of/IN/of ext2/NNP/ext2 filesystems/NNS/filesystems has/VBZ/has been/VBN/been strongly/RB/strongly influenced/VBN/influenced by/IN/by the/DT/the layout/NN/layout of/IN/of the/DT/the bsd/NN/bsd filesystem/NN/filesystem .a/NN/.a filesystem/NN/filesystem is/VBZ/is made/VBN/made up/RP/up of/IN/of block/NN/block groups/NNP/groups. the/DT/the physical/JJ/physical structure/NN/structure of/IN/of a/DT/a filesystem/NN/filesystem is/VBZ/is represented/VBN/represented in/IN/in this/DT/this table/NN/table /:/: boot/NN/boot sector/NN/sector block/NN/block grp/NN/grp 1/CD/1 block/NN/block grp2/NNP/grp2 ?/./? ?/./? /:/.. block/NN/block grp/NN/grp n/NN/n each/DT/each block/NN/block group/NN/group contains/VBZ/contains a/DT/a redundant/JJ/redundant copy/NN/copy of/IN/of crucial/JJ/crucial filesystem/NN/filesystem control/NN/control informations/NNS/informations /:/( superblock/NN/superblock and/CC/and the/DT/the filesystem/NN/filesystem descriptors/NNS/descriptors /:/) and/CC/and also/RB/also contains/VBZ/contains a/DT/a part/NN/part of/IN/of the/DT/the filesystem/NN/filesystem /:/( a/DT/a block/NN/block bitmap/NN/bitmap /,/, an/DT/an inode/NN/inode bitmap/NN/bitmap /,/, a/DT/a piece/NN/piece of/IN/of the/DT/the inode/NN/inode table/NN/table /,/, and/CC/and data/NNS/data blocks/NNS/blocks /VBP/) /./. the/DT/the structure/NN/structure of/IN/of a/DT/a block/NN/block group/NN/group is/VBZ/is represented/VBN/represented in/IN/in this/DT/this table/NN/table /:/: super/NN/super block/NN/block fs/NNS/fs descriptors/NNS/descriptors block/VBP/block bitmap/NN/bitmap inode/NN/inode bitmap/NN/bitmap inode/NN/inode table/NN/table data/NNS/data blocks/NNS/blocks operating/VBG/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/19/CD/04/19 using/VBG/using block/NN/block groups/NNS/groups is/VBZ/is a/DT/a big/JJ/big factor/NN/factor contributing/NN/contributing to/TO/to the/DT/the reliability/NN/reliability of/IN/of the/DT/the file/NN/file system/NN/system /:/: since/IN/since the/DT/the control/NN/control structures/NNS/structures are/VBP/are replicated/VBN/replicated in/IN/in each/DT/each block/NN/block group/NN/group /,/, it/PRP/it is/VBZ/is easy/JJ/easy to/TO/to recover/VB/recover from/IN/from a/DT/a filesystem/NN/filesystem where/WRB/where the/DT/the superblock/NN/superblock has/VBZ/has been/VBN/been corrupted/NNP/corrupted. this/DT/this structure/NN/structure also/RB/also helps/VBZ/helps to/TO/to get/VB/get good/JJ/good performances/NNS/performances /:/: by/IN/by reducing/NN/reducing the/DT/the distance/NN/distance between/IN/between the/DT/the inode/NN/inode table/NN/table and/CC/and the/DT/the data/NNS/data blocks/VBZ/blocks /,/, it/PRP/it is/VBZ/is possible/JJ/possible to/TO/to reduce/VB/reduce the/DT/the disk/NN/disk head/NN/head seeks/VBZ/seeks during/IN/during i/o/NNP/i/o on/IN/on files/NNP/files. in/IN/in ext2fs/NNP/ext2fs /,/, directories/VBZ/directories are/VBP/are managed/VBN/managed as/IN/as linked/VBN/linked lists/NNS/lists of/IN/of variable/JJ/variable length/NN/length entries/NNP/entries. each/DT/each entry/NN/entry contains/VBZ/contains the/DT/the inode/NN/inode number/NN/number /,/, the/DT/the entry/NN/entry length/NN/length /,/, the/DT/the file/NN/file name/NN/name and/CC/and its/PRP$/its length/NNP/length. by/IN/by using/VBG/using variable/JJ/variable length/NN/length entries/NNS/entries /,/, it/PRP/it is/VBZ/is possible/JJ/possible to/TO/to implement/NN/implement long/RB/long file/JJ/file names/NNS/names without/IN/without wasting/VBG/wasting disk/NN/disk space/NN/space in/IN/in directories/NNP/directories. as/IN/as an/DT/an example/NN/example /,/, the/DT/the next/JJ/next table/NN/table represents/NNS/represents the/DT/the structure/NN/structure of/IN/of a/DT/a directory/NN/directory containing/VBG/containing three/CD/three files/NNS/files /:/: file/JJ/file /,/, very_long_name/NNP/very_long_name /,/, and/CC/and f2/NNP/f2. the/DT/the first/JJ/first entry/NN/entry in/IN/in the/DT/the table/NN/table is/VBZ/is inode/NN/inode number/NN/number ;/:/; the/DT/the second/JJ/second entry/NN/entry is/VBZ/is the/DT/the entire/JJ/entire entry/NN/entry length/NN/length /:/: the/DT/the third/JJ/third field/NN/field indicates/VBZ/indicates the/DT/the length/NN/length of/IN/of the/DT/the file/NN/file name/NN/name and/CC/and the/DT/the last/JJ/last entry/NN/entry is/VBZ/is the/DT/the name/NN/name of/IN/of the/DT/the file/NN/file itself/PRP/itself i1/NNP/i1 15/CD/15 05/CD/05 file/NN/file i2/NNP/i2 40/CD/40 30/CD/30 very_very_very_long_file_name/NNP/very_very_very_long_file_name i3/NNP/i3 12/CD/12 03/CD/03 i1/NNP/i1 15/CD/15 5/CD/5 file/NN/file i2/NNP/i2 40/CD/40 30/CD/30 very_very_very_long_file_name/NNP/very_very_very_long_file_name inode/NN/inode table/NN/table 0/-NONE-/0 15/CD/15 40/CD/40 operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/20/CD/04/20 the/DT/the ext3/NNP/ext3 file/NN/file system/NN/system /:/: the/DT/the ext2/NNP/ext2 file/NN/file system/NN/system is/VBZ/is in/IN/in fact/NN/fact a/DT/a robust/JJ/robust and/CC/and well/RB/well tested/VBN/tested system/NNP/system. even/RB/even so/RB/so some/DT/some problem/NN/problem areas/NNS/areas have/VBP/have been/VBN/been identified/VBN/identified with/IN/with ext2fs/NNP/ext2fs. these/DT/these are/VBP/are mostly/RB/mostly with/IN/with the/DT/the shutdown/NN/shutdown fsck/NN/fsck /:/( for/IN/for filesystem/NN/filesystem health/NN/health check/NN/check at/IN/at the/DT/the time/NN/time of/IN/of shutdown/NN/shutdown /:/) /./. it/PRP/it takes/VBZ/takes unduly/RB/unduly long/RB/long to/TO/to set/VB/set it/PRP/it right/RB/right using/VBG/using e2fsck/NNP/e2fsck /./. the/DT/the solution/NN/solution was/VBD/was to/TO/to add/VB/add journaling/NN/journaling to/TO/to the/DT/the filesystem/NNP/filesystem. one/CD/one more/JJR/more line/NN/line about/IN/about journaling/NNP/journaling. another/DT/another issue/NN/issue with/IN/with the/DT/the ext2/NNP/ext2 file/NN/file system/NN/system is/VBZ/is its/PRP$/its poor/JJ/poor capability/NN/capability to/TO/to scale/VB/scale to/TO/to very/RB/very large/JJ/large drives/NNS/drives and/CC/and files/NNP/files. the/DT/the ext3/NNP/ext3 file/NN/file system/NN/system which/WDT/which is/VBZ/is in/IN/in some/DT/some sense/NN/sense an/DT/an extension/NN/extension of/IN/of the/DT/the ext2/NNP/ext2 filesystem/NN/filesystem will/MD/will try/VB/try to/TO/to address/VB/address these/DT/these shortcomings/NNS/shortcomings and/CC/and also/RB/also offer/VBP/offer many/JJ/many other/JJ/other enhancements/NNP/enhancements. the/DT/the proc/NN/proc file/NN/file system/NN/system /:/: proc/NN/proc file/NN/file system/NN/system shows/VBZ/shows the/DT/the power/NN/power of/IN/of the/DT/the linux/NN/linux virtual/JJ/virtual file/NN/file system/NNP/system. the/DT/the proc/NN/proc file/NN/file system/NN/system is/VBZ/is a/DT/a special/JJ/special file/NN/file system/NN/system which/WDT/which actually/RB/actually displays/VBZ/displays the/DT/the present/NN/present state/NN/state of/IN/of the/DT/the system/NNP/system. in/IN/in fact/NN/fact we/PRP/we can/MD/can call/VB/call it/PRP/it a/DT/a ?/./? pretend/NN/pretend ?/./? file/NN/file system/NNP/system. if/IN/if one/CD/one explores/NNS/explores the/DT/the /proc/JJ//proc directory/NN/directory one/CD/one notices/NNS/notices that/WDT/that all/DT/all the/DT/the files/NNS/files have/VBP/have zero/NN/zero bytes/NNS/bytes as/IN/as the/DT/the file/NN/file size/NNP/size. many/JJ/many commands/NNS/commands like/IN/like ps/NNS/ps actually/RB/actually parse/VBP/parse the/DT/the /proc/JJ//proc files/NNS/files to/TO/to generate/VB/generate their/PRP$/their output/NNP/output. interestingly/RB/interestingly enough/RB/enough linux/NN/linux does/VBZ/does not/RB/not have/VB/have any/DT/any system/NN/system call/NN/call to/TO/to get/VB/get process/NN/process information/NNP/information. it/PRP/it can/MD/can only/RB/only be/VB/be accessed/VBN/accessed by/IN/by reading/NN/reading the/DT/the proc/NN/proc file/NN/file system/NNP/system. the/DT/the proc/NN/proc file/NN/file system/NN/system has/VBZ/has a/DT/a wealth/NN/wealth of/IN/of information/NNP/information. for/IN/for example/NN/example the/DT/the file/NN/file /proc/cpuinfo/-NONE-//proc/cpuinfo gives/VBZ/gives a/DT/a lot/NN/lot of/IN/of things/NNS/things about/IN/about the/DT/the host/NN/host processor/NNP/processor. a/DT/a sample/NN/sample output/NN/output could/MD/could be/VB/be as/RB/as shown/VBN/shown below/IN/below /:/: processor/NN/processor /:/: 0/-NONE-/0 vendor_id/NNP/vendor_id /:/: authenticamd/NN/authenticamd cpu/NN/cpu family/NN/family /:/: 5/CD/5 model/NN/model /:/: 9/CD/9 model/NN/model name/NN/name /:/: amd-k6/-NONE-/amd-k6 /:/( tm/NN/tm /:/) 3d/CD/3d +/CD/+ processor/NN/processor stepping/VBG/stepping /:/: 1/LS/1 cpu/NN/cpu mhz/NN/mhz /:/: 400.919/CD/400.919 cache/NN/cache size/NN/size /:/: 256/CD/256 kb/NN/kb fdiv_bug/NNP/fdiv_bug /:/: no/DT/no hlt_bug/NNP/hlt_bug /:/: no/DT/no f00f_bug/NNP/f00f_bug /:/: no/DT/no coma_bug/NNP/coma_bug /:/: no/DT/no fpu/NN/fpu /:/: yes/NNS/yes fpu_exception/NN/fpu_exception /:/: yes/NNS/yes operating/VBG/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/21/CD/04/21 cpuid/NN/cpuid level/NN/level /:/: 1/LS/1 wp/NN/wp /:/: yes/NNS/yes flags/NNS/flags /:/: fpu/NN/fpu vme/NN/vme de/IN/de pse/NN/pse tsc/NN/tsc msr/NN/msr mce/NN/mce cx8/NNP/cx8 pge/NN/pge mmx/NN/mmx syscall/NN/syscall 3dnow/CD/3dnow k6_mtrr/NNP/k6_mtrr bogomips/NNS/bogomips /:/: 799.53/CD/799.53 /proc/JJ//proc also/RB/also contains/VBZ/contains /,/, apart/NN/apart from/IN/from other/JJ/other things/NNS/things /,/, properties/NNS/properties of/IN/of all/DT/all the/DT/the processes/NNS/processes running/VBG/running on/IN/on the/DT/the system/NN/system at/IN/at that/DT/that moment/NNP/moment. each/DT/each property/NN/property is/VBZ/is grouped/VBN/grouped together/RP/together into/IN/into a/DT/a directory/JJ/directory with/IN/with a/DT/a name/NN/name equal/JJ/equal to/TO/to the/DT/the pid/JJ/pid of/IN/of the/DT/the process/NNP/process. some/DT/some of/IN/of the/DT/the information/NN/information that/IN/that can/MD/can be/VB/be obtained/VBN/obtained is/VBZ/is shown/VBN/shown as/RB/as follows/NNP/follows. /proc/pid/cmdline/NNP//proc/pid/cmdline command/NN/command line/NN/line arguments/NNP/arguments. /proc/pid/cpu/NNP//proc/pid/cpu current/JJ/current and/CC/and last/JJ/last cpu/NN/cpu in/IN/in which/WDT/which it/PRP/it was/VBD/was executed/NNP/executed. /proc/pid/cwd/NNP//proc/pid/cwd link/NN/link to/TO/to the/DT/the current/JJ/current working/NN/working directory/NNP/directory. /proc/pid/environ/NNP//proc/pid/environ values/VBZ/values of/IN/of environment/NN/environment variables/NNP/variables. /proc/pid/exe/NNP//proc/pid/exe link/NN/link to/TO/to the/DT/the executable/JJ/executable of/IN/of this/DT/this process/NNP/process. /proc/pid/fd/NNP//proc/pid/fd directory/NN/directory /,/, which/WDT/which contains/VBZ/contains all/DT/all file/NN/file descriptors/NNP/descriptors. /proc/pid/maps/NNP//proc/pid/maps memory/NN/memory maps/VBZ/maps to/TO/to executables/NNS/executables and/CC/and library/JJ/library files/NNP/files. /proc/pid/mem/NNP//proc/pid/mem memory/NN/memory held/VBD/held by/IN/by this/DT/this process/NNP/process. /proc/pid/root/NN//proc/pid/root link/NN/link to/TO/to the/DT/the root/NN/root directory/NN/directory of/IN/of this/DT/this process/NNP/process. /proc/pid/stat/NNP//proc/pid/stat process/NN/process status/NNP/status. /proc/pid/statm/NNP//proc/pid/statm process/NN/process memory/NN/memory status/NN/status information/NNP/information. /proc/pid/status/NNP//proc/pid/status operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/22/CD/04/22 process/NN/process status/NN/status in/IN/in human/NN/human readable/JJ/readable form/NN/form device/NN/device drivers/NNS/drivers on/IN/on linux/NN/linux introduction/NN/introduction /:/: most/JJS/most of/IN/of the/DT/the linux/NN/linux code/NN/code is/VBZ/is independent/JJ/independent of/IN/of the/DT/the hardware/NN/hardware it/PRP/it runs/VBZ/runs on/NNP/on. applications/NNS/applications are/VBP/are often/RB/often agnostic/JJ/agnostic to/TO/to the/DT/the internals/NNS/internals of/IN/of a/DT/a hardware/NN/hardware device/NN/device they/PRP/they interact/VBP/interact with/NNP/with. they/PRP/they interact/VBP/interact with/IN/with the/DT/the devices/NNS/devices as/IN/as a/DT/a black/JJ/black box/NN/box using/VBG/using operating/NN/operating system/NN/system defined/VBD/defined interfaces/NNP/interfaces. as/IN/as far/RB/far as/IN/as applications/NNS/applications are/VBP/are concerned/VBN/concerned /,/, inside/NN/inside the/DT/the black/JJ/black box/NN/box sits/NNS/sits a/DT/a program/NN/program that/WDT/that exercises/VBZ/exercises a/DT/a protocol/NN/protocol to/TO/to interact/VB/interact with/IN/with the/DT/the device/NN/device completely/NNP/completely. this/DT/this program/NN/program interacts/VBZ/interacts with/IN/with the/DT/the device/NN/device at/IN/at a/DT/a very/RB/very low/JJ/low level/NN/level and/CC/and abstracts/NNS/abstracts away/RB/away all/DT/all the/DT/the oddities/NNS/oddities and/CC/and peculiarities/NNS/peculiarities of/IN/of the/DT/the underlying/VBG/underlying hardware/NN/hardware to/TO/to the/DT/the invoking/NN/invoking application/NNP/application. obviously/RB/obviously every/DT/every device/NN/device has/VBZ/has a/DT/a different/JJ/different device/NN/device driver/NNP/driver. the/DT/the demand/NN/demand for/IN/for device/NN/device drivers/NNS/drivers is/VBZ/is increasing/VBG/increasing as/RB/as more/JJR/more and/CC/and more/JJR/more devices/NNS/devices are/VBP/are being/VBG/being introduced/VBN/introduced and/CC/and the/DT/the old/JJ/old ones/NNS/ones become/VBP/become obsolete/NNP/obsolete. in/IN/in the/DT/the context/NN/context of/IN/of linux/NN/linux as/IN/as an/DT/an open/JJ/open source/NN/source os/NNS/os /,/, device/NN/device drivers/NNS/drivers are/VBP/are in/IN/in great/JJ/great demand/NNP/demand. there/RB/there are/VBP/are two/CD/two principal/JJ/principal drivers/NNS/drivers behind/IN/behind this/NNP/this. firstly/RB/firstly /,/, many/JJ/many hardware/NN/hardware manufacturers/NNS/manufacturers do/VBP/do not/RB/not ship/VB/ship a/DT/a linux/NN/linux driver/NN/driver so/RB/so it/PRP/it is/VBZ/is left/VBN/left for/IN/for someone/NN/someone from/IN/from the/DT/the open/JJ/open source/NN/source community/NN/community to/TO/to implement/VB/implement a/DT/a driver/NNP/driver. second/JJ/second reason/NN/reason is/VBZ/is the/DT/the large/JJ/large proliferation/NN/proliferation of/IN/of linux/NN/linux in/IN/in the/DT/the embedded/VBN/embedded system/NN/system market/NNP/market. some/DT/some believe/VBP/believe that/IN/that linux/NN/linux today/NN/today is/VBZ/is number/NN/number one/CD/one choice/NN/choice for/IN/for embedded/VBN/embedded system/NN/system development/NN/development work/NNP/work. embedded/VBD/embedded devices/NNS/devices have/VBP/have special/JJ/special devices/NNS/devices attached/VBN/attached to/TO/to them/PRP/them that/IN/that require/NN/require specialized/VBD/specialized drivers/NNP/drivers. an/DT/an example/NN/example could/MD/could be/VB/be a/DT/a microwave/NN/microwave oven/VBN/oven running/VBG/running linux/NN/linux and/CC/and having/VBG/having a/DT/a special/JJ/special device/NN/device driver/NN/driver to/TO/to control/NN/control its/PRP$/its turntable/JJ/turntable motor/NNP/motor. in/IN/in linux/NN/linux the/DT/the device/NN/device driver/NN/driver can/MD/can be/VB/be linked/VBN/linked into/IN/into the/DT/the kernel/NN/kernel at/IN/at compile/NN/compile time/NNP/time. this/DT/this implies/VBZ/implies that/IN/that the/DT/the driver/NN/driver is/VBZ/is now/RB/now a/DT/a part/NN/part of/IN/of the/DT/the kernel/NN/kernel and/CC/and it/PRP/it is/VBZ/is always/RB/always loaded/NNP/loaded. the/DT/the device/NN/device driver/NN/driver can/MD/can also/RB/also be/VB/be linked/VBN/linked into/IN/into the/DT/the kernel/NN/kernel dynamically/RB/dynamically at/IN/at runtime/NN/runtime as/IN/as a/DT/a pluggable/JJ/pluggable module/NNP/module. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/23/CD/04/23 almost/RB/almost every/DT/every system/NN/system call/NN/call eventually/RB/eventually maps/VBZ/maps to/TO/to a/DT/a physical/JJ/physical device/NNP/device. with/IN/with the/DT/the exception/NN/exception of/IN/of the/DT/the processor/NN/processor /,/, memory/NN/memory and/CC/and a/DT/a few/JJ/few other/JJ/other entities/NNS/entities /,/, all/DT/all device/NN/device control/NN/control operations/NNS/operations are/VBP/are performed/VBN/performed by/IN/by code/NN/code that/IN/that is/VBZ/is specific/JJ/specific to/TO/to the/DT/the device/NNP/device. this/DT/this code/NN/code as/IN/as we/PRP/we know/VBP/know is/VBZ/is called/VBN/called the/DT/the device/NN/device driver/NNP/driver. kernel/NN/kernel must/MD/must have/VB/have device/NN/device drivers/NNS/drivers for/IN/for all/DT/all the/DT/the peripherals/NNS/peripherals that/WDT/that are/VBP/are present/JJ/present in/IN/in the/DT/the system/NN/system right/RB/right from/IN/from the/DT/the keyboard/NN/keyboard to/TO/to the/DT/the hard/JJ/hard disk/NN/disk etc/NNP/etc. device/NN/device classes/NNS/classes /:/: char/NN/char devices/NNS/devices /:/: these/DT/these devices/NNS/devices have/VBP/have a/DT/a stream/NN/stream oriented/VBN/oriented nature/NN/nature where/WRB/where data/NNS/data is/VBZ/is accessed/VBN/accessed as/RB/as a/DT/a stream/NN/stream of/IN/of bytes/NNS/bytes example/NN/example serial/NN/serial ports/NNP/ports. the/DT/the drivers/NNS/drivers that/WDT/that are/VBP/are written/VBN/written for/IN/for these/DT/these devices/NNS/devices are/VBP/are usually/RB/usually called/VBN/called ?/./? char/NN/char device/NN/device drivers/NNS/drivers ?/./? /./. these/DT/these devices/NNS/devices are/VBP/are accessed/VBN/accessed using/VBG/using the/DT/the normal/JJ/normal file/NN/file system/NNP/system. usually/RB/usually they/PRP/they are/VBP/are mounted/VBN/mounted in/IN/in the/DT/the /dev/NN//dev directory/NNP/directory. if/IN/if ls/NNS/ls ?/./? al/JJ/al command/NN/command is/VBZ/is typed/VBN/typed on/IN/on the/DT/the command/NN/command prompt/NN/prompt in/IN/in the/DT/the /dev/NN//dev directory/NN/directory these/DT/these devices/NNS/devices appear/VBP/appear with/IN/with a/DT/a ?/./? c/NN/c ?/./? in/IN/in the/DT/the first/JJ/first column/NNP/column. example/NN/example /:/: crw-rw-rw/NN/crw-rw-rw- 1/CD/1 root/NN/root tty/NN/tty 2/CD/2 /,/, 176/CD/176 apr/NN/apr 11/CD/11 2002/CD/2002 ptya0/NNP/ptya0 crw-rw-rw/NNP/crw-rw-rw- 1/CD/1 root/NN/root tty/NN/tty 2/CD/2 /,/, 177/CD/177 apr/NN/apr 11/CD/11 2002/CD/2002 ptya1/NNP/ptya1 crw-rw-rw/NNP/crw-rw-rw- 1/CD/1 root/NN/root tty/NN/tty 2/CD/2 /,/, 178/CD/178 apr/NN/apr 11/CD/11 2002/CD/2002 ptya2/NNP/ptya2 crw-rw-rw/NNP/crw-rw-rw- 1/CD/1 root/NN/root tty/NN/tty 2/CD/2 /,/, 179/CD/179 apr/NN/apr 11/CD/11 2002/CD/2002 ptya3/NNP/ptya3 block/NN/block devices/NNS/devices /:/: applicati/NN/applicati on/IN/on code/NN/code kernel/NN/kernel subsystems/NNS/subsystems /:/: examples/NNS/examples /:/: i/o/JJ/i/o controllers/NNS/controllers /,/, file/JJ/file systems/NNS/systems etc/NNP/etc. device/NN/device drivers/NNS/drivers /:/: examples/NNS/examples /:/: keyboard/NN/keyboard driver/NN/driver /,/, scsi/NN/scsi driver/NN/driver etc/FW/etc. physical/JJ/physical device/NN/device /:/: example/NN/example /:/: keyboard/NN/keyboard /,/, hard/RB/hard disk/VB/disk etc/NNP/etc. system/NN/system call/NN/call interface/NN/interface hardware/NN/hardware interface/NN/interface operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/24/CD/04/24 these/DT/these devices/NNS/devices have/VBP/have a/DT/a ?/./? block/NN/block ?/./? oriented/VBN/oriented nature/NN/nature where/WRB/where data/NNS/data is/VBZ/is provided/VBN/provided by/IN/by the/DT/the devices/NNS/devices in/IN/in blocks/NNP/blocks. the/DT/the drivers/NNS/drivers that/WDT/that are/VBP/are written/VBN/written for/IN/for these/DT/these devices/NNS/devices are/VBP/are usually/RB/usually called/VBN/called as/IN/as block/NN/block device/NN/device drivers/NNP/drivers. classic/JJ/classic example/NN/example of/IN/of a/DT/a block/NN/block device/NN/device is/VBZ/is the/DT/the hard/JJ/hard disk/NNP/disk. these/DT/these devices/NNS/devices are/VBP/are accessed/VBN/accessed using/VBG/using the/DT/the normal/JJ/normal file/NN/file system/NNP/system. usually/RB/usually they/PRP/they are/VBP/are mounted/VBN/mounted in/IN/in the/DT/the /dev/NN//dev directory/NNP/directory. if/IN/if a/DT/a ls/NNS/ls ?/./? al/JJ/al command/NN/command is/VBZ/is typed/VBN/typed on/IN/on the/DT/the command/NN/command prompt/NN/prompt in/IN/in the/DT/the /dev/NN//dev directory/NN/directory these/DT/these devices/NNS/devices appear/VBP/appear with/IN/with a/DT/a ?/./? b/NN/b ?/./? in/IN/in the/DT/the first/JJ/first column/NNP/column. example/NN/example /:/: brw-rw/NN/brw-rw---- 1/CD/1 root/NN/root disk/NN/disk 29/CD/29 /,/, 0/-NONE-/0 apr/NN/apr 11/CD/11 2002/CD/2002 aztcd/NN/aztcd brw-rw/-NONE-/brw-rw---- 1/CD/1 root/NN/root disk/NN/disk 41/CD/41 /,/, 0/-NONE-/0 apr/NN/apr 11/CD/11 2002/CD/2002 bpcd/NN/bpcd brw-rw/-NONE-/brw-rw---- 1/CD/1 root/NN/root floppy/NN/floppy 2/CD/2 /,/, 0/-NONE-/0 apr/NN/apr 11/CD/11 2002/CD/2002 fd0/NNP/fd0 network/NN/network devices/NNS/devices /:/: these/DT/these devices/NNS/devices handle/VBP/handle the/DT/the network/NN/network interface/NN/interface to/TO/to the/DT/the system/NNP/system. these/DT/these devices/NNS/devices are/VBP/are not/RB/not accessed/VBN/accessed via/IN/via the/DT/the file/NN/file system/NNP/system. usually/RB/usually the/DT/the kernel/NN/kernel handles/VBZ/handles these/DT/these devices/NNS/devices by/IN/by providing/VBG/providing special/JJ/special names/NNS/names to/TO/to the/DT/the network/NN/network interfaces/NNS/interfaces e.g/NNP/e.g. eth0/NNP/eth0 etc/NNP/etc. note/NN/note that/IN/that linux/NN/linux permits/NNS/permits a/DT/a lot/NN/lot of/IN/of experimentation/NN/experimentation with/IN/with regards/NNS/regards to/TO/to checking/VBG/checking out/RP/out new/JJ/new device/NN/device drivers/NNP/drivers. one/CD/one need/NN/need to/TO/to learn/VB/learn to/TO/to load/VB/load /,/, unload/VB/unload and/CC/and recompile/VB/recompile to/TO/to check/VB/check out/RP/out the/DT/the efficacy/NN/efficacy of/IN/of any/DT/any newly/RB/newly introduced/VBN/introduced device/NN/device driver/NNP/driver. the/DT/the cycle/NN/cycle of/IN/of testing/NN/testing is/VBZ/is beyond/IN/beyond the/DT/the scope/NN/scope of/IN/of discussion/NN/discussion here/NNP/here. major/minor/NNP/major/minor numbers/NNS/numbers /:/: most/JJS/most devices/NNS/devices are/VBP/are accessed/VBN/accessed through/IN/through nodes/NNS/nodes in/IN/in the/DT/the file/NN/file system/NNP/system. these/DT/these nodes/NNS/nodes are/VBP/are called/VBN/called special/JJ/special files/NNS/files or/CC/or device/NN/device files/NNS/files or/CC/or simply/RB/simply nodes/VBZ/nodes of/IN/of the/DT/the file/NN/file system/NN/system tree/NNP/tree. these/DT/these names/NNS/names are/VBP/are usually/RB/usually mounted/VBN/mounted in/IN/in the/DT/the /dev//NN//dev/ directory/NNP/directory. if/IN/if a/DT/a ls/NNS/ls ?/./? al/JJ/al command/NN/command is/VBZ/is issued/VBN/issued in/IN/in this/DT/this directory/NN/directory we/PRP/we can/MD/can see/VB/see two/CD/two comma/NN/comma separated/VBD/separated numbers/NNS/numbers that/IN/that appear/JJ/appear where/WRB/where usually/RB/usually the/DT/the file/NN/file size/NN/size is/VBZ/is mentioned/NNP/mentioned. the/DT/the first/JJ/first number/NN/number /:/( from/IN/from left/NN/left side/NN/side /:/) is/VBZ/is called/VBN/called the/DT/the device/NN/device major/JJ/major number/NN/number and/CC/and the/DT/the second/JJ/second number/NN/number is/VBZ/is called/VBN/called the/DT/the device/NN/device minor/NN/minor number/NNP/number. example/NN/example /:/: crw-rw-rw/NN/crw-rw-rw- 1/CD/1 root/NN/root tty/NN/tty 2/CD/2 /,/, 176/CD/176 apr/NN/apr 11/CD/11 2002/CD/2002 ptya0/NNP/ptya0 here/RB/here the/DT/the major/JJ/major number/NN/number is/VBZ/is 2/CD/2 and/CC/and the/DT/the minor/NN/minor number/NN/number is/VBZ/is 176/CD/176 the/DT/the major/JJ/major number/NN/number is/VBZ/is used/VBN/used by/IN/by the/DT/the kernel/NN/kernel to/TO/to locate/VB/locate the/DT/the device/NN/device driver/NN/driver for/IN/for that/DT/that device/NNP/device. it/PRP/it is/VBZ/is an/DT/an index/NN/index into/IN/into a/DT/a static/JJ/static array/NN/array of/IN/of the/DT/the device/NN/device driver/NN/driver entry/NN/entry points/NNS/points /:/( function/NN/function pointers/NNS/pointers /:/) /./. the/DT/the minor/NN/minor number/NN/number is/VBZ/is passed/VBN/passed to/TO/to the/DT/the driver/NN/driver as/IN/as an/DT/an argument/NN/argument and/CC/and the/DT/the kernel/NN/kernel does/VBZ/does not/RB/not bother/JJR/bother about/IN/about it/NNP/it. the/DT/the minor/NN/minor number/NN/number may/MD/may be/VB/be used/VBN/used by/IN/by the/DT/the device/NN/device driver/NN/driver to/TO/to distinguish/VB/distinguish between/IN/between the/DT/the different/JJ/different types/NNS/types operating/VBG/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/25/CD/04/25 of/IN/of devices/NNS/devices of/IN/of the/DT/the same/JJ/same type/NN/type it/PRP/it supports/NNP/supports. it/PRP/it is/VBZ/is left/VBN/left to/TO/to the/DT/the device/NN/device driver/NN/driver /,/, what/WP/what it/PRP/it does/VBZ/does with/IN/with the/DT/the minor/JJ/minor numbers/NNP/numbers. for/IN/for the/DT/the linux/NN/linux kernel/NN/kernel 2.4/CD/2.4 the/DT/the major/JJ/major and/CC/and minor/NN/minor numbers/NNS/numbers are/VBP/are eight/CD/eight bit/NN/bit quantities/NNP/quantities. so/RB/so at/IN/at a/DT/a given/VBN/given time/NN/time you/PRP/you can/MD/can have/VB/have utmost/VBN/utmost 256/CD/256 drivers/NNS/drivers of/IN/of a/DT/a particular/JJ/particular type/NN/type and/CC/and 256/CD/256 different/JJ/different types/NNS/types of/IN/of devices/NNS/devices loaded/VBN/loaded in/IN/in a/DT/a system/NNP/system. this/DT/this value/NN/value is/VBZ/is likely/JJ/likely to/TO/to increase/VB/increase in/IN/in future/JJ/future releases/NNS/releases of/IN/of the/DT/the kernel/NNP/kernel. kernel/NN/kernel 2.4/CD/2.4 has/VBZ/has introduced/VBN/introduced a/DT/a new/JJ/new /NN/( optional/JJ/optional /NN/) file/NN/file system/NN/system to/TO/to handle/VB/handle device/NNP/device. this/DT/this file/NN/file system/NN/system is/VBZ/is called/VBN/called the/DT/the device/NN/device file/NN/file system/NN/system /./. in/IN/in this/DT/this file/NN/file system/NN/system the/DT/the management/NN/management of/IN/of devices/NNS/devices is/VBZ/is much/JJ/much more/RBR/more simplified/NNP/simplified. although/IN/although it/PRP/it has/VBZ/has lot/VBN/lot of/IN/of user/NN/user visible/JJ/visible incompatibilities/NNS/incompatibilities with/IN/with the/DT/the previous/JJ/previous file/NN/file system/NN/system /,/, at/IN/at present/NN/present device/NN/device file/NN/file system/NN/system is/VBZ/is not/RB/not a/DT/a standard/JJ/standard part/NN/part of/IN/of most/JJS/most linux/NN/linux distributions/NNP/distributions. in/IN/in future/JJ/future /,/, things/NNS/things might/MD/might change/VB/change in/IN/in favour/PRP$/favour of/IN/of the/DT/the device/NN/device file/NN/file system/NNP/system. here/RB/here it/PRP/it must/MD/must be/VB/be mentioned/VBN/mentioned that/IN/that the/DT/the following/VBG/following discussion/NN/discussion is/VBZ/is far/RB/far from/IN/from complete/NNP/complete. there/RB/there is/VBZ/is no/DT/no substitute/NN/substitute for/IN/for looking/VBG/looking at/IN/at the/DT/the actual/JJ/actual source/NN/source code/NNP/code. the/DT/the following/VBG/following section/NN/section will/MD/will mainly/RB/mainly help/VB/help the/DT/the reader/NN/reader to/TO/to know/VB/know what/WP/what to/TO/to grep/VB/grep for/IN/for in/IN/in the/DT/the source/NN/source code/NNP/code. we/PRP/we will/MD/will now/RB/now discuss/VB/discuss each/DT/each of/IN/of the/DT/the device/NN/device class/NN/class drivers/NNS/drivers that/WDT/that is/VBZ/is block/VBP/block /,/, character/NN/character and/CC/and network/NN/network drivers/NNS/drivers in/IN/in more/JJR/more detail/NNP/detail. character/NN/character drivers/NNS/drivers /:/: driver/NN/driver registeration/uregisteration/NN/registeration/uregisteration /:/: we/PRP/we register/JJR/register a/DT/a device/NN/device driver/NN/driver with/IN/with the/DT/the linux/NN/linux kernel/NN/kernel by/IN/by invoking/NN/invoking a/DT/a routine/NN/routine /:/( </:/< linux/fs.h/JJ/linux/fs.h >/NN/> /:/) int/NN/int register_chrdev/NNP/register_chrdev /NNP/( unsigned/VBD/unsigned int/NN/int major/JJ/major /,/, const/IN/const char/NN/char */-NONE-/* name/VB/name /,/, struct/NN/struct file_operations/NNS/file_operations */-NONE-/* fops/NNS/fops /:/) ;/:/; here/RB/here the/DT/the major/JJ/major argument/NN/argument is/VBZ/is the/DT/the major/JJ/major number/NN/number associated/VBN/associated with/IN/with the/DT/the device/NNP/device. name/NN/name signifies/NNS/signifies the/DT/the device/NN/device driver/NN/driver as/IN/as it/PRP/it will/MD/will appear/VB/appear in/IN/in the/DT/the /proc/devices/NNS//proc/devices once/RB/once it/PRP/it is/VBZ/is successfully/RB/successfully registered/NNP/registered. the/DT/the fops/NNS/fops is/VBZ/is a/DT/a pointer/NN/pointer to/TO/to the/DT/the structure/NN/structure containing/VBG/containing function/NN/function pointers/NNS/pointers to/TO/to the/DT/the devices/NNS/devices ?/./? functionalities/NNP/functionalities. we/PRP/we will/MD/will discuss/VB/discuss fops/NNS/fops in/IN/in detail/NN/detail later/NNP/later. now/RB/now the/DT/the question/NN/question arises/VBZ/arises /:/: how/WRB/how do/VBP/do we/PRP/we assign/VB/assign a/DT/a major/JJ/major number/NN/number to/TO/to our/PRP$/our driver/NN/driver /:/: assigning/VBG/assigning major/JJ/major numbers/NNS/numbers /:/: some/DT/some numbers/NNS/numbers are/VBP/are permanently/RB/permanently allocated/VBN/allocated to/TO/to some/DT/some common/JJ/common devices/NNP/devices. the/DT/the reader/NN/reader may/MD/may like/VB/like to/TO/to explore/VB/explore /:/: /documentation/devices.txt/JJ//documentation/devices.txt in/IN/in the/DT/the source/NN/source tree/NNP/tree. so/RB/so if/IN/if we/PRP/we are/VBP/are writing/VBG/writing device/NN/device drivers/NNS/drivers for/IN/for these/DT/these devices/NNS/devices we/PRP/we simply/RB/simply use/VBP/use these/DT/these major/JJ/major numbers/NNP/numbers. if/IN/if that/DT/that is/VBZ/is not/RB/not the/DT/the case/NN/case then/RB/then we/PRP/we can/MD/can use/VB/use major/JJ/major numbers/NNS/numbers that/WDT/that are/VBP/are allocated/VBN/allocated for/IN/for experimental/JJ/experimental usage/NNP/usage. major/JJ/major numbers/NNS/numbers in/IN/in the/DT/the range/NN/range 60-63/CD/60-63 /,/, 120-127/CD/120-127 /,/, 240-254/CD/240-254 are/VBP/are for/IN/for experimental/JJ/experimental usage/NNP/usage. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/26/CD/04/26 but/CC/but how/WRB/how do/VBP/do we/PRP/we know/VB/know that/IN/that a/DT/a major/JJ/major number/NN/number is/VBZ/is not/RB/not already/RB/already used/VBN/used especially/RB/especially when/WRB/when we/PRP/we are/VBP/are shipping/VBG/shipping a/DT/a driver/NN/driver to/TO/to some/DT/some other/JJ/other computer/NNP/computer. by/IN/by far/RB/far the/DT/the best/JJS/best approach/NN/approach is/VBZ/is to/TO/to dynamically/RB/dynamically assign/VB/assign the/DT/the major/JJ/major number/NNP/number. the/DT/the idea/NN/idea is/VBZ/is to/TO/to get/VB/get a/DT/a free/JJ/free major/JJ/major number/NN/number by/IN/by looking/VBG/looking at/IN/at the/DT/the present/NN/present state/NN/state of/IN/of the/DT/the system/NN/system and/CC/and then/RB/then assigning/VBG/assigning it/PRP/it to/TO/to our/PRP$/our driver/NNP/driver. if/IN/if the/DT/the register_chrdev/NNP/register_chrdev function/NN/function is/VBZ/is invoked/VBN/invoked with/IN/with a/DT/a zero/NN/zero in/IN/in the/DT/the major/JJ/major number/NN/number field/NN/field /,/, the/DT/the function/NN/function /,/, if/IN/if it/PRP/it registers/VBZ/registers the/DT/the driver/NN/driver successfully/RB/successfully /,/, returns/NNS/returns the/DT/the major/JJ/major number/NN/number allocated/VBD/allocated to/TO/to it/NNP/it. what/WP/what it/PRP/it does/VBZ/does is/VBZ/is that/IN/that it/PRP/it searches/VBZ/searches the/DT/the system/NN/system for/IN/for an/DT/an unused/VBN/unused major/JJ/major number/NN/number /,/, assigns/NNS/assigns it/PRP/it to/TO/to the/DT/the driver/NN/driver and/CC/and then/RB/then returns/NNS/returns it/NNP/it. the/DT/the story/NN/story does/VBZ/does not/RB/not end/VB/end here/NNP/here. to/TO/to access/NN/access our/PRP$/our device/NN/device we/PRP/we need/VBP/need to/TO/to add/VB/add our/PRP$/our device/NN/device to/TO/to the/DT/the file/NN/file system/NN/system tree/NNP/tree. that/IN/that is/VBZ/is /,/, we/PRP/we need/VBP/need to/TO/to do/VB/do mknod/NN/mknod for/IN/for the/DT/the device/NN/device into/IN/into the/DT/the tree/NNP/tree. for/IN/for that/DT/that we/PRP/we need/VBP/need to/TO/to know/VB/know the/DT/the major/JJ/major number/NN/number for/IN/for the/DT/the driver/NNP/driver. for/IN/for a/DT/a statically/RB/statically assigned/VBN/assigned major/JJ/major number/NN/number that/WDT/that is/VBZ/is not/RB/not a/DT/a problem/NNP/problem. just/RB/just use/VBP/use that/IN/that major/JJ/major number/NN/number you/PRP/you assigned/VBD/assigned to/TO/to the/DT/the device/NNP/device. but/CC/but for/IN/for a/DT/a dynamically/RB/dynamically assigned/VBN/assigned number/NN/number how/WRB/how do/VBP/do we/PRP/we get/VB/get the/DT/the major/JJ/major number/NN/number ?/./? the/DT/the answer/NN/answer is/VBZ/is /:/: parse/NN/parse the/DT/the /proc/devices/NNS//proc/devices file/VBP/file and/CC/and find/VB/find out/RP/out the/DT/the major/JJ/major number/NN/number assigned/VBD/assigned to/TO/to our/PRP$/our device/NNP/device. a/DT/a script/NN/script can/MD/can also/RB/also be/VB/be written/VBN/written to/TO/to do/VB/do the/DT/the job/NNP/job. removing/NN/removing a/DT/a driver/NN/driver from/IN/from the/DT/the system/NN/system is/VBZ/is easy/NNP/easy. we/PRP/we invoke/VBP/invoke the/DT/the unregister_chrdev/NNP/unregister_chrdev /NNP/( unsigned/VBD/unsigned int/NN/int major/JJ/major /,/, const/IN/const char/NN/char */-NONE-/* name/VB/name /:/) ;/:/; important/JJ/important data/NNS/data structure/NN/structure /:/: the/DT/the file/NN/file structure/NN/structure </:/< linux/fs.h/JJ/linux/fs.h >/NN/> /:/: every/DT/every linux/NN/linux open/JJ/open file/NN/file has/VBZ/has a/DT/a corresponding/NN/corresponding file/NN/file structure/NN/structure associated/VBN/associated with/IN/with it/NNP/it. whenever/NN/whenever a/DT/a method/NN/method of/IN/of the/DT/the device/NN/device driver/NN/driver is/VBZ/is invoked/VBN/invoked the/DT/the kernel/NN/kernel will/MD/will pass/VB/pass the/DT/the associated/VBN/associated file/NN/file structure/NN/structure to/TO/to the/DT/the method/NNP/method. the/DT/the method/NN/method can/MD/can then/RB/then use/VB/use the/DT/the contents/NNS/contents of/IN/of this/DT/this structure/NN/structure to/TO/to do/VB/do its/PRP$/its job/NNP/job. we/PRP/we list/VBP/list down/RP/down some/DT/some important/JJ/important fields/NNS/fields of/IN/of this/DT/this structure/NNP/structure. mode_t/NNP/mode_t f_mode/NNP/f_mode ;/:/; this/DT/this field/NN/field indicates/VBZ/indicates the/DT/the mode/NN/mode of/IN/of the/DT/the file/NN/file i.e/NN/i.e for/IN/for read/NN/read write/NN/write or/CC/or both/DT/both etc/NNP/etc. loff_t/NNP/loff_t f_pos/NNP/f_pos ;/:/; the/DT/the current/JJ/current offset/NN/offset in/IN/in the/DT/the file/NNP/file. unsigned/VBD/unsigned int/NN/int f_flags/NNS/f_flags ;/:/; this/DT/this fields/NNS/fields contains/VBZ/contains the/DT/the flags/NNS/flags for/IN/for driver/NN/driver access/NN/access for/IN/for example/NN/example synchronous/JJ/synchronous access/NN/access /:/( blocking/VBG/blocking /:/) or/CC/or asynchronus/NN/asynchronus /:/( non/NN/non blocking/NN/blocking /:/) access/NN/access etc/NNP/etc. struct/NN/struct file_operations/NNS/file_operations */-NONE-/* fops/NNS/fops ;/:/; this/DT/this structure/NN/structure contains/VBZ/contains the/DT/the entry/NN/entry points/NNS/points for/IN/for the/DT/the methods/NNS/methods that/WDT/that device/NN/device driver/RB/driver supports/NNP/supports. this/DT/this is/VBZ/is an/DT/an important/JJ/important structure/NN/structure we/PRP/we will/MD/will look/VB/look at/IN/at it/PRP/it in/IN/in more/JJR/more detail/NN/detail in/IN/in the/DT/the later/JJ/later sections/NNP/sections. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/27/CD/04/27 void/JJ/void */-NONE-/* private_data/NNP/private_data ;/:/; this/DT/this pointer/NN/pointer can/MD/can be/VB/be allocated/VBN/allocated memory/NN/memory by/IN/by the/DT/the device/NN/device driver/NN/driver for/IN/for its/PRP$/its own/JJ/own personal/JJ/personal use/NNP/use. like/IN/like for/IN/for maintaining/NN/maintaining states/NNS/states of/IN/of the/DT/the driver/NN/driver across/IN/across different/JJ/different function/NN/function calls/NNP/calls. sruct/NN/sruct dentry/NN/dentry */-NONE-/* f_dentry/NNP/f_dentry ;/:/; the/DT/the directory/NN/directory entry/NN/entry associated/VBN/associated with/IN/with the/DT/the file/NNP/file. etc/NNP/etc. the/DT/the file/NN/file operations/NNS/operations structure/NN/structure /:/( fops/NNS/fops /VBP/) /:/: </:/< linux/fs.h/JJ/linux/fs.h >/NN/> this/DT/this is/VBZ/is the/DT/the most/RBS/most important/JJ/important structure/NN/structure as/IN/as far/RB/far as/IN/as device/NN/device driver/NN/driver writer/NN/writer are/VBP/are concerned/NNP/concerned. it/PRP/it contains/VBZ/contains pointers/NNS/pointers to/TO/to the/DT/the driver/NN/driver functions/NNP/functions. the/DT/the file/NN/file structure/NN/structure discussed/VBD/discussed in/IN/in the/DT/the previous/JJ/previous section/NN/section contains/VBZ/contains a/DT/a pointer/NN/pointer to/TO/to the/DT/the fops/NNS/fops structure/NNP/structure. the/DT/the file/NN/file /:/( device/NN/device /:/) is/VBZ/is the/DT/the object/NN/object and/CC/and fops/NNS/fops contains/NNS/contains the/DT/the methods/NNS/methods that/WDT/that act/NN/act on/IN/on this/DT/this object/NNP/object. we/PRP/we can/MD/can see/VB/see here/RB/here object/VB/object oriented/VBN/oriented approach/NN/approach in/IN/in the/DT/the linux/NN/linux kernel/NNP/kernel. before/IN/before we/PRP/we look/VBP/look at/IN/at the/DT/the members/NNS/members of/IN/of the/DT/the fops/NNS/fops structure/VBP/structure it/PRP/it will/MD/will be/VB/be useful/JJ/useful if/IN/if we/PRP/we look/VBP/look at/IN/at taggd/NN/taggd structure/NN/structure initialization/NN/initialization /:/: tagged/JJ/tagged structure/NN/structure initializations/NNS/initializations /:/: the/DT/the fops/NNS/fops structure/VBP/structure has/VBZ/has been/VBN/been expanding/VBG/expanding with/IN/with every/DT/every kernel/NN/kernel release/NNP/release. this/DT/this can/MD/can lead/VB/lead to/TO/to compatibility/NN/compatibility problems/NNS/problems of/IN/of the/DT/the driver/NN/driver across/IN/across different/JJ/different kernel/NN/kernel versions/NNP/versions. this/DT/this problem/NN/problem is/VBZ/is solved/VBN/solved by/IN/by using/NN/using tagged/VBD/tagged structure/NN/structure initialization/NNP/initialization. tagged/VBD/tagged structure/NN/structure initialization/NN/initialization is/VBZ/is an/DT/an extension/NN/extension of/IN/of ansi/NN/ansi c/NN/c by/IN/by gnu/NNP/gnu. it/PRP/it allows/VBZ/allows initialization/NN/initialization of/IN/of structure/NN/structure by/IN/by name/NN/name tags/NNS/tags rather/RB/rather than/IN/than positional/JJ/positional initialization/NN/initialization as/IN/as in/IN/in standard/JJ/standard c/NNP/c. example/NN/example /:/: struct/NN/struct fops/NNS/fops myfops/NNS/myfops =/VBP/= /:/{ ?/./? ?/./? ?/./? ?/./? ?/./? ?/./? ?/./? ?/./? /:/.. ?/./? ?/./? ?/./? ?/./? ?/./? ?/./? ?/./? /./. open/JJ/open /:/: myopen/JJ/myopen ;/:/; close/JJ/close /:/: myclose/JJ/myclose /:/: ?/./? ?/./? ?/./? ?/./? /:/.. ?/./? ?/./? ?/./? ?/./? /:/} the/DT/the intilization/NN/intilization can/MD/can now/RB/now be/VB/be oblivious/JJ/oblivious of/IN/of the/DT/the change/NN/change in/IN/in the/DT/the structure/NN/structure /:/( provided/VBN/provided obviously/RB/obviously that/IN/that the/DT/the fields/NNS/fields have/VBP/have not/RB/not been/VBN/been removed/VBN/removed /-NONE-/) /./. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/28/CD/04/28 pointers/NNS/pointers to/TO/to functions/NNS/functions that/IN/that are/VBP/are implemented/VBN/implemented by/IN/by the/DT/the driver/NN/driver are/VBP/are stored/VBN/stored in/IN/in the/DT/the fops/NNS/fops structure/NNP/structure. methods/NNS/methods that/WDT/that are/VBP/are not/RB/not implemented/VBN/implemented are/VBP/are made/VBN/made null/NNP/null. now/RB/now we/PRP/we look/VBP/look at/IN/at some/DT/some of/IN/of the/DT/the members/NNS/members of/IN/of the/DT/the fops/NNS/fops structure/VBP/structure /:/: loff_t/NNP/loff_t /:/( */-NONE-/* llseek/VB/llseek /:/) /:/( struct/NN/struct file/NN/file */-NONE-/* ,loff_t/JJ/,loff_t /NN/) ;/:/; //:// */-NONE-/* this/DT/this method/NN/method can/MD/can be/VB/be used/VBN/used to/TO/to change/VB/change the/DT/the present/NN/present offset/NN/offset in/IN/in a/DT/a file/NNP/file. */-NONE-/* //:// ssize_t/NNP/ssize_t /:/( */-NONE-/* read/VB/read /:/) /:/( struct/NN/struct file/NN/file */-NONE-/* ,char/JJ/,char */-NONE-/* ,size_t,loff_t/JJ/,size_t,loff_t */-NONE-/* /:/) ;/:/; //:// */-NONE-/* read/VB/read data/NNS/data from/IN/from a/DT/a device/NNP/device. */-NONE-/* //:// ssize_t/NNP/ssize_t /:/( */-NONE-/* write/VB/write /:/) /:/( struct/NN/struct file/NN/file */-NONE-/* ,const/JJ/,const char/NN/char */-NONE-/* ,size_t,loff_t/JJ/,size_t,loff_t */-NONE-/* /:/) ;/:/; //:// */-NONE-/* write/VB/write data/NNS/data to/TO/to the/DT/the device/NNP/device. */-NONE-/* //:// int/VB/int /:/( */-NONE-/* readdir/VB/readdir /:/) /:/( struct/NN/struct file/NN/file */-NONE-/* ,void/JJ/,void */-NONE-/* ,fill_dir_t/JJ/,fill_dir_t /NN/) ;/:/; //:// */-NONE-/* reading/VBG/reading directories/NNP/directories. useful/JJ/useful for/IN/for file/NN/file systems/NNP/systems. */-NONE-/* //:// unsigned/VBN/unsigned int/NN/int /:/( */-NONE-/* poll/VB/poll /:/) /:/( struct/NN/struct file/NN/file */-NONE-/* ,struct/JJ/,struct poll_table_struct/NN/poll_table_struct */-NONE-/* /:/) ;/:/; //:// */-NONE-/* used/VBN/used to/TO/to check/VB/check the/DT/the state/NN/state of/IN/of the/DT/the device/NNP/device. */-NONE-/* //:// int/VB/int /:/( */-NONE-/* ioctl/VB/ioctl /:/) /:/( struct/NN/struct inode/NN/inode */-NONE-/* ,struct/JJ/,struct file/NN/file */-NONE-/* ,unsigned/JJ/,unsigned int,unsigned/JJ/int,unsigned long/JJ/long /NN/) ;/:/; //:// */-NONE-/* the/DT/the ioctl/NN/ioctl is/VBZ/is used/VBN/used to/TO/to issue/VB/issue device/NN/device specific/JJ/specific calls/NNS/calls /:/( example/NN/example setting/NN/setting the/DT/the baud/NN/baud rate/NN/rate of/IN/of the/DT/the serial/JJ/serial port/NN/port /:/) /./. */-NONE-/* //VB// int/JJ/int /NN/( */-NONE-/* mmap/VB/mmap /:/) /:/( struct/NN/struct file/NN/file */-NONE-/* ,struct/JJ/,struct vm_area_struct/NN/vm_area_struct */-NONE-/* /:/) ;/:/; //:// */-NONE-/* map/VB/map to/TO/to primary/JJ/primary memory/NN/memory */-NONE-/* //:// int/VB/int /:/( */-NONE-/* open/JJ/open /NN/) /:/( struct/NN/struct inode/NN/inode */-NONE-/* ,struct/JJ/,struct file/NN/file */-NONE-/* /:/) ;/:/; //:// */-NONE-/* open/JJ/open device/NNP/device. */-NONE-/* //:// int/VB/int /:/( */-NONE-/* flush/VB/flush /:/) /:/( struct/NN/struct file/NN/file */-NONE-/* /:/) ;/:/; //:// */-NONE-/* flush/VB/flush the/DT/the device/NN/device */-NONE-/* //:// int/VB/int /:/( */-NONE-/* release/VB/release /:/) /:/( struct/NN/struct inode/NN/inode */-NONE-/* ,struct/JJ/,struct file/NN/file */-NONE-/* /:/) ;/:/; //:// */-NONE-/* release/VB/release the/DT/the file/NN/file structure/NN/structure */-NONE-/* //:// int/VB/int /:/( */-NONE-/* fsync/VB/fsync /:/) /:/( struct/NN/struct inode/NN/inode */-NONE-/* ,struct/JJ/,struct dentry/NN/dentry */-NONE-/* /:/) ;/:/; //:// */-NONE-/* flush/VB/flush any/DT/any pending/VBG/pending data/NNS/data to/TO/to the/DT/the device/NNP/device. */-NONE-/* //:// etc/NNP/etc. advance/NN/advance char/NN/char driver/NN/driver operations/NNS/operations /:/: although/IN/although most/JJS/most of/IN/of the/DT/the following/JJ/following discussion/NN/discussion is/VBZ/is valid/JJ/valid to/TO/to character/NN/character as/IN/as well/RB/well as/IN/as network/NN/network and/CC/and block/NN/block drivers/NNS/drivers /,/, the/DT/the actual/JJ/actual implementation/NN/implementation of/IN/of these/DT/these features/NNS/features is/VBZ/is explained/VBN/explained with/IN/with respect/NN/respect to/TO/to char/VB/char drivers/NNP/drivers. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/29/CD/04/29 blocking/VBG/blocking and/CC/and non-blocking/JJ/non-blocking operations/NNS/operations /:/: device/NN/device drivers/NNS/drivers usually/RB/usually interact/VBP/interact with/IN/with hardware/NN/hardware devices/NNS/devices that/WDT/that are/VBP/are several/JJ/several orders/NNS/orders of/IN/of time/NN/time slower/JJR/slower than/IN/than the/DT/the processor/NNP/processor. typically/RB/typically if/IN/if a/DT/a modern/JJ/modern pc/NN/pc processor/NN/processor takes/VBZ/takes a/DT/a second/JJ/second to/TO/to process/NN/process a/DT/a byte/NN/byte of/IN/of data/NNS/data from/IN/from a/DT/a keyboard/NN/keyboard /,/, the/DT/the keyboard/NN/keyboard takes/VBZ/takes several/JJ/several thousand/CD/thousand years/NNS/years to/TO/to produce/VB/produce a/DT/a single/JJ/single byte/NN/byte of/IN/of data/NNP/data. it/PRP/it will/MD/will be/VB/be very/RB/very foolish/JJ/foolish to/TO/to keep/VB/keep the/DT/the processor/NN/processor waiting/VBG/waiting for/IN/for data/NNS/data to/TO/to arrive/VB/arrive from/IN/from a/DT/a hardware/NN/hardware device/NNP/device. it/PRP/it could/MD/could have/VB/have severe/JJ/severe impact/NN/impact on/IN/on the/DT/the overall/JJ/overall system/NN/system performance/NN/performance and/CC/and throughput/NNP/throughput. another/DT/another cause/NN/cause that/IN/that can/MD/can lead/VB/lead to/TO/to delays/NNS/delays in/IN/in accessing/VBG/accessing devices/NNS/devices /,/, which/WDT/which has/VBZ/has nothing/NN/nothing to/TO/to do/VB/do with/IN/with the/DT/the device/NN/device characteristics/NNS/characteristics /,/, is/VBZ/is the/DT/the policy/NN/policy in/IN/in accessing/NN/accessing the/DT/the device/NNP/device. there/RB/there might/MD/might be/VB/be cases/NNS/cases where/WRB/where device/NN/device may/MD/may be/VB/be blocked/VBN/blocked by/IN/by other/JJ/other drivers/NNS/drivers /./. for/IN/for a/DT/a device/NN/device driver/NN/driver writer/NN/writer it/PRP/it is/VBZ/is of/IN/of paramount/NN/paramount importance/NN/importance that/WDT/that the/DT/the processor/NN/processor is/VBZ/is freed/VBN/freed to/TO/to perform/NN/perform other/JJ/other tasks/NNS/tasks when/WRB/when the/DT/the device/NN/device is/VBZ/is not/RB/not ready/NNP/ready. we/PRP/we can/MD/can achieve/VB/achieve this/DT/this by/IN/by the/DT/the following/JJ/following ways/NNP/ways. one/CD/one way/NN/way is/VBZ/is blocking/VBG/blocking or/CC/or the/DT/the synchronous/JJ/synchronous driver/NN/driver access/NNP/access. in/IN/in this/DT/this way/NN/way of/IN/of access/NN/access we/PRP/we cause/VBP/cause the/DT/the invoking/VBG/invoking process/NN/process to/TO/to sleep/VB/sleep till/NN/till the/DT/the data/NNS/data arrives/NNP/arrives. the/DT/the cpu/NN/cpu is/VBZ/is then/RB/then available/JJ/available for/IN/for other/JJ/other processes/NNS/processes in/IN/in the/DT/the system/NNP/system. the/DT/the process/NN/process is/VBZ/is then/RB/then awakened/VBN/awakened when/WRB/when the/DT/the device/NN/device is/VBZ/is ready/NNP/ready. another/DT/another method/NN/method is/VBZ/is in/IN/in which/WDT/which the/DT/the driver/NN/driver returns/NNS/returns immediately/RB/immediately whether/IN/whether the/DT/the device/NN/device is/VBZ/is ready/JJ/ready or/CC/or not/RB/not allowing/VBG/allowing the/DT/the application/NN/application to/TO/to poll/VB/poll the/DT/the device/NNP/device. also/RB/also the/DT/the driver/NN/driver can/MD/can be/VB/be provided/VBN/provided asynchronous/JJ/asynchronous methods/NNS/methods for/IN/for indicating/VBG/indicating to/TO/to the/DT/the application/NN/application when/WRB/when the/DT/the data/NNS/data is/VBZ/is available/NNP/available. let/NN/let us/PRP/us briefly/RB/briefly look/VBP/look at/IN/at the/DT/the linux/NN/linux kernel/NN/kernel 2.4/CD/2.4 mechanisms/NNS/mechanisms to/TO/to achieve/VB/achieve this/NNP/this. there/RB/there is/VBZ/is a/DT/a flag/NN/flag called/VBN/called o_nonblock/NNP/o_nonblock flag/NN/flag in/IN/in filp/NNP/filp- >/NNP/> f_flags/NNP/f_flags /NNP/( </NNP/< linux/fcntl.h/NNP/linux/fcntl.h >/NNP/> /NNP/) /./. if/IN/if this/DT/this flag/NN/flag is/VBZ/is set/VBN/set it/PRP/it implies/VBZ/implies that/IN/that the/DT/the driver/NN/driver is/VBZ/is being/VBG/being used/VBN/used with/IN/with non-blocking/JJ/non-blocking access/NNP/access. this/DT/this flag/NN/flag is/VBZ/is cleared/VBN/cleared by/IN/by default/NNP/default. this/DT/this flag/NN/flag is/VBZ/is examined/VBN/examined by/IN/by the/DT/the driver/NN/driver to/TO/to implement/VB/implement the/DT/the correct/NN/correct semantics/NNP/semantics. blocking/NN/blocking io/NN/io /:/: there/EX/there are/VBP/are several/JJ/several ways/NNS/ways to/TO/to cause/VB/cause a/DT/a process/NN/process to/TO/to sleep/VB/sleep in/IN/in linux/NN/linux 2.4/CD/2.4. all/DT/all of/IN/of them/PRP/them will/MD/will use/VB/use the/DT/the same/JJ/same basic/JJ/basic data/NNS/data structure/NN/structure /,/, the/DT/the wait/NN/wait queue/NN/queue /:/( wait_queue_head_t/NNP/wait_queue_head_t /:/) /./. this/DT/this queue/NN/queue maintains/VBZ/maintains a/DT/a linked/VBN/linked list/NN/list of/IN/of processes/NNS/processes that/WDT/that are/VBP/are waiting/VBG/waiting for/IN/for an/DT/an event/NNP/event. a/DT/a wait/NN/wait queue/NN/queue is/VBZ/is declared/VBN/declared and/CC/and initialized/VBN/initialized as/IN/as follows/NNS/follows /:/: wait_queue_head_t/NNP/wait_queue_head_t my_queue/NNP/my_queue ;/:/; //:// */-NONE-/* declaration/NN/declaration */-NONE-/* //:// init_waitqueue_head/NNP/init_waitqueue_head /:/( &my_queue/JJ/&my_queue /NN/) //:// */-NONE-/* initialization/NN/initialization */-NONE-/* //:// operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/30/CD/04/30 //CD// */-NONE-/* 2.4/CD/2.4 kernel/NN/kernel requires/VBZ/requires you/PRP/you to/TO/to intialize/VB/intialize the/DT/the wait/NN/wait queue/NN/queue /,/, although/IN/although some/DT/some earlier/JJR/earlier versions/NNS/versions of/IN/of the/DT/the kernel/NN/kernel did/VBD/did not/RB/not */-NONE-/* //VB// the/DT/the process/NN/process can/MD/can be/VB/be made/VBN/made to/TO/to sleep/VB/sleep by/IN/by calling/NN/calling any/DT/any of/IN/of the/DT/the following/JJ/following /:/: sleep_on/NNP/sleep_on /:/( wait_queue_head_t/NNP/wait_queue_head_t */-NONE-/* queue/VB/queue /:/) ;/:/; //:// */-NONE-/* puts/VBZ/puts the/DT/the process/NN/process to/TO/to sleep/VB/sleep on/IN/on this/DT/this queue/NNP/queue. */-NONE-/* //:// //:// */-NONE-/* this/DT/this routine/NN/routine puts/VBZ/puts the/DT/the process/NN/process into/IN/into non-interruptible/JJ/non-interruptible sleep/NN/sleep */-NONE-/* //:// //:// */-NONE-/* this/DT/this a/DT/a dangerous/JJ/dangerous sleep/NN/sleep since/IN/since the/DT/the process/NN/process may/MD/may end/VB/end up/RP/up sleeping/VBG/sleeping forever/NN/forever */-NONE-/* //:// interruptible_sleep_on/NNP/interruptible_sleep_on /:/( wait_queue_head_t/NNP/wait_queue_head_t */-NONE-/* queue/VB/queue /:/) //:// */-NONE-/* same/VB/same as/IN/as sleep_on/NNP/sleep_on with/IN/with the/DT/the exception/NN/exception that/IN/that the/DT/the process/NN/process can/MD/can be/VB/be awoken/VBN/awoken by/IN/by a/DT/a signal/NN/signal */-NONE-/* //:// sleep_on_timeout/IN/sleep_on_timeout /CD/( wait_queue_head_t/NNP/wait_queue_head_t */-NONE-/* queue,long/JJ/queue,long timeout/IN/timeout /CD/) //CD// */-NONE-/* same/JJ/same as/IN/as sleep_on/NNP/sleep_on except/IN/except that/DT/that the/DT/the process/NN/process will/MD/will be/VB/be awakened/VBN/awakened when/WRB/when a/DT/a timeout/NN/timeout happens/NNP/happens. the/DT/the timeout/NN/timeout parameter/NN/parameter is/VBZ/is measured/VBN/measured in/IN/in jiffies/NNS/jiffies */-NONE-/* //VB// interruptible_sleep_on_timeout/NNP/interruptible_sleep_on_timeout /NNP/( wait_queue_head_t/NNP/wait_queue_head_t */-NONE-/* queue,long/JJ/queue,long timeout/IN/timeout /CD/) //CD// */-NONE-/* same/JJ/same as/IN/as interruptible_sleep_on/NNP/interruptible_sleep_on except/IN/except that/DT/that the/DT/the process/NN/process will/MD/will be/VB/be awakened/VBN/awakened when/WRB/when a/DT/a timeout/NN/timeout happens/NNP/happens. the/DT/the timeout/NN/timeout parameter/NN/parameter is/VBZ/is measured/VBN/measured in/IN/in jiffies/NNS/jiffies */-NONE-/* //VB// void/JJ/void wait_event/NN/wait_event /:/( wait_queue_head_t/NNP/wait_queue_head_t */-NONE-/* queue,int/JJ/queue,int condition/NN/condition /:/) int/NN/int wait_event_interruptible/NNP/wait_event_interruptible /NNP/( wait_queue_head_t/NNP/wait_queue_head_t */-NONE-/* queue/VB/queue /,/, int/NN/int condition/NN/condition /:/) //:// */-NONE-/* sleep/VB/sleep until/IN/until the/DT/the condition/NN/condition evaluates/VBZ/evaluates to/TO/to true/JJ/true that/IN/that is/VBZ/is non-zero/JJ/non-zero value/NN/value */-NONE-/* //:// //:// */-NONE-/* preferred/VBN/preferred way/NN/way to/TO/to sleep/VB/sleep */-NONE-/* //VB// if/IN/if a/DT/a driver/NN/driver puts/VBZ/puts a/DT/a process/NN/process to/TO/to sleep/VB/sleep there/RB/there is/VBZ/is usually/RB/usually some/DT/some other/JJ/other part/NN/part of/IN/of the/DT/the driver/NN/driver that/IN/that awakens/NNS/awakens it/PRP/it /,/, typically/RB/typically it/PRP/it is/VBZ/is the/DT/the interrupt/NN/interrupt service/NN/service routine/NNP/routine. one/CD/one more/JJR/more important/JJ/important point/NN/point is/VBZ/is that/IN/that if/IN/if a/DT/a process/NN/process is/VBZ/is in/IN/in interruptible/JJ/interruptible sleep/NN/sleep it/PRP/it might/MD/might wake/VB/wake up/RP/up even/RB/even on/IN/on a/DT/a signal/NN/signal even/RB/even if/IN/if the/DT/the event/NN/event it/PRP/it was/VBD/was waiting/VBG/waiting on/IN/on /,/, has/VBZ/has not/RB/not occurred/NNP/occurred. the/DT/the driver/NN/driver must/MD/must in/IN/in this/DT/this case/NN/case put/VBD/put a/DT/a process/NN/process in/IN/in sleep/NN/sleep in/IN/in a/DT/a loop/NN/loop checking/VBG/checking for/IN/for the/DT/the event/NN/event as/IN/as a/DT/a condition/NN/condition in/IN/in the/DT/the loop/NNP/loop. the/DT/the kernel/NN/kernel routines/NNS/routines that/WDT/that are/VBP/are available/JJ/available to/TO/to wake/VB/wake up/RP/up a/DT/a process/NN/process are/VBP/are as/RB/as follows/VBZ/follows /:/: wake_up/NNP/wake_up /:/( wait_queue_head_t/NNP/wait_queue_head_t */-NONE-/* queue/VB/queue /:/) //:// */-NONE-/* wake/VB/wake proccess/NN/proccess in/IN/in the/DT/the queue/NN/queue */-NONE-/* //:// wake_up_interruptible/NNP/wake_up_interruptible /:/( wait_queue_head_t/NNP/wait_queue_head_t */-NONE-/* queue/VB/queue /:/) //:// */-NONE-/* wake/VB/wake process/NN/process in/IN/in the/DT/the queue/NN/queue that/IN/that are/VBP/are sleeping/VBG/sleeping on/IN/on interruptible/JJ/interruptible sleep/NN/sleep in/IN/in the/DT/the queue/NN/queue rest/NN/rest of/IN/of the/DT/the procccess/NN/procccess are/VBP/are left/VBN/left undisturbed/VBN/undisturbed */-NONE-/* //:// wake_up_sync/NNP/wake_up_sync /:/( wait_queue_head_t_/NNP/wait_queue_head_t_ */-NONE-/* queue/VB/queue /:/) wake_up_interruptible_sync/NNP/wake_up_interruptible_sync /:/( wait_queue_head_t_/NNP/wait_queue_head_t_ */-NONE-/* queue/VB/queue /:/) operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/31/CD/04/31 //CD// */-NONE-/* the/DT/the normal/JJ/normal wake/NN/wake up/IN/up calls/NNS/calls can/MD/can cause/VB/cause an/DT/an immediate/JJ/immediate reschedule/NN/reschedule of/IN/of the/DT/the processor/NN/processor */-NONE-/* //:// //:// */-NONE-/* these/DT/these calls/NNS/calls will/MD/will only/RB/only cause/VB/cause the/DT/the process/NN/process to/TO/to go/VB/go into/IN/into runnable/JJ/runnable state/NN/state without/IN/without rescheduling/NN/rescheduling the/DT/the cpu/NN/cpu */-NONE-/* //:// non/NN/non blocking/NN/blocking io/NN/io /:/: if/IN/if o_nonblock/NNP/o_nonblock flag/NN/flag is/VBZ/is set/VBN/set then/RB/then driver/RB/driver does/VBZ/does not/RB/not block/VB/block even/RB/even if/IN/if data/NNS/data is/VBZ/is not/RB/not available/JJ/available for/IN/for the/DT/the call/NN/call to/TO/to complete/NNP/complete. the/DT/the normal/JJ/normal semantics/NNS/semantics for/IN/for a/DT/a non-blocking/JJ/non-blocking io/NN/io is/VBZ/is to/TO/to return/VB/return -eagain/JJ/-eagain which/WDT/which really/RB/really tells/VBZ/tells the/DT/the invoking/NN/invoking application/NN/application to/TO/to try/VB/try again/NNP/again. usually/RB/usually devices/VBZ/devices that/IN/that are/VBP/are using/VBG/using non-blocking/JJ/non-blocking access/NN/access to/TO/to devices/NNS/devices will/MD/will use/VB/use the/DT/the poll/NN/poll system/NN/system call/NN/call to/TO/to find/VB/find out/RP/out if/IN/if the/DT/the device/NN/device is/VBZ/is ready/JJ/ready with/IN/with the/DT/the data/NNP/data. this/DT/this is/VBZ/is also/RB/also very/RB/very useful/JJ/useful for/IN/for an/DT/an application/NN/application that/IN/that is/VBZ/is accessing/VBG/accessing multiple/NN/multiple devices/NNS/devices without/IN/without blocking/NNP/blocking. polling/NN/polling methods/NNS/methods /:/: linux/NN/linux provides/VBZ/provides the/DT/the applications/NNS/applications 'poll/-NONE-/'poll '/''/' and/CC/and 'select/JJ/'select '/''/' system/NN/system calls/VBZ/calls to/TO/to check/VB/check if/IN/if the/DT/the device/NN/device is/VBZ/is ready/JJ/ready without/IN/without blocking/NNP/blocking. /NNP/( there/RB/there are/VBP/are two/CD/two system/NN/system calls/NNS/calls offering/VBG/offering the/DT/the same/JJ/same functionality/NN/functionality for/IN/for historical/JJ/historical reasons/NNP/reasons. these/DT/these calls/NNS/calls were/VBD/were implemented/VBN/implemented in/IN/in unix/NN/unix at/IN/at nearly/RB/nearly same/JJ/same time/NN/time by/IN/by two/CD/two different/JJ/different distributions/NNS/distributions /:/: bsd/JJ/bsd unix/NN/unix /:/( select/NN/select /:/) system/NN/system 5/CD/5 /CD/( poll/NN/poll /:/) /:/) both/DT/both the/DT/the calls/NNS/calls have/VBP/have the/DT/the following/VBG/following prototype/NN/prototype /:/: unsigned/VBN/unsigned int/NN/int /:/( */-NONE-/* poll/VB/poll /:/) /:/( struct/NN/struct file/NN/file */-NONE-/* ,poll_table/JJ/,poll_table */-NONE-/* /:/) ;/:/; the/DT/the poll/NN/poll method/NN/method returns/NNS/returns a/DT/a bit/NN/bit mask/NN/mask describing/VBG/describing what/WP/what operations/NNS/operations can/MD/can be/VB/be performed/VBN/performed on/IN/on the/DT/the device/NN/device without/IN/without blocking/NNP/blocking. asynchronous/JJ/asynchronous notification/NN/notification /:/: linux/NN/linux provides/VBZ/provides a/DT/a mechanism/NN/mechanism by/IN/by which/WDT/which a/DT/a drive/JJ/drive can/NN/can asynchronously/RB/asynchronously notify/VB/notify the/DT/the application/NN/application if/IN/if data/NNS/data arrives/NNP/arrives. basically/RB/basically a/DT/a driver/NN/driver can/MD/can signal/VB/signal a/DT/a process/NN/process when/WRB/when the/DT/the data/NNS/data arrives/NNP/arrives. user/NN/user processes/NNS/processes have/VBP/have to/TO/to execute/VB/execute two/CD/two steps/NNS/steps to/TO/to enable/JJ/enable asynchronous/JJ/asynchronous notification/NN/notification from/IN/from a/DT/a device/NNP/device. 1/NNP/1. the/DT/the process/NN/process invokes/VBZ/invokes the/DT/the f_setown/NNP/f_setown command/NN/command using/VBG/using the/DT/the fcntl/NN/fcntl system/NN/system call/NN/call /,/, the/DT/the process/NN/process id/VBD/id of/IN/of the/DT/the process/NN/process is/VBZ/is saved/VBN/saved in/IN/in filp/NNP/filp- >/NNP/> f_owner/NNP/f_owner. this/DT/this is/VBZ/is the/DT/the step/NN/step needed/VBD/needed basically/RB/basically for/IN/for the/DT/the kernel/NN/kernel to/TO/to route/VB/route the/DT/the signal/NN/signal to/TO/to the/DT/the correct/NN/correct process/NNP/process. 2/CD/2. the/DT/the asynchronous/JJ/asynchronous notification/NN/notification is/VBZ/is then/RB/then enabled/VBN/enabled by/IN/by setting/NN/setting the/DT/the fasync/NN/fasync flag/NN/flag in/IN/in the/DT/the device/NN/device by/IN/by means/NNS/means of/IN/of f_setfel/NNP/f_setfel fcntl/NN/fcntl command/NNP/command. after/IN/after these/DT/these two/CD/two steps/NNS/steps have/VBP/have been/VBN/been successfully/RB/successfully executed/VBN/executed the/DT/the user/NN/user process/NN/process can/MD/can request/VB/request the/DT/the delivery/NN/delivery of/IN/of a/DT/a sigio/NN/sigio signal/NN/signal whenever/NN/whenever data/NNS/data arrives/NNP/arrives. interrupt/NN/interrupt handling/NN/handling in/IN/in linux/NN/linux 2.4/CD/2.4 the/DT/the linux/NN/linux kernel/NN/kernel has/VBZ/has a/DT/a single/JJ/single entry/NN/entry point/NN/point for/IN/for all/DT/all the/DT/the interrupts/NNP/interrupts. the/DT/the number/NN/number of/IN/of interrupt/JJ/interrupt lines/NNS/lines is/VBZ/is platform/NN/platform dependent/NNP/dependent. the/DT/the earlier/JJR/earlier x86/NNP/x86 processors/NNS/processors had/VBD/had just/RB/just 16/CD/16 interrupt/JJ/interrupt lines/NNP/lines. but/CC/but operating/VBG/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/32/CD/04/32 now/RB/now this/DT/this is/VBZ/is no/DT/no longer/NN/longer true/NNP/true. the/DT/the current/JJ/current processors/NNS/processors have/VBP/have much/JJ/much more/RBR/more than/IN/than that/NNP/that. moreover/RB/moreover new/JJ/new hardware/NN/hardware comes/VBZ/comes with/IN/with programmable/JJ/programmable interrupt/NN/interrupt controllers/NNS/controllers that/WDT/that can/MD/can be/VB/be programmed/VBN/programmed among/IN/among other/JJ/other things/NNS/things to/TO/to distribute/VB/distribute interrupts/NNS/interrupts in/IN/in an/DT/an intelligent/NN/intelligent and/CC/and a/DT/a programmable/JJ/programmable way/NN/way to/TO/to different/JJ/different processors/NNS/processors for/IN/for a/DT/a multi-processors/JJ/multi-processors system/NNP/system. fortunately/RB/fortunately the/DT/the device/NN/device driver/NN/driver writer/NN/writer does/VBZ/does not/RB/not have/VB/have to/TO/to bother/VB/bother too/RB/too much/RB/much about/IN/about the/DT/the underlying/VBG/underlying hardware/NN/hardware /,/, since/IN/since the/DT/the linux/NN/linux kernel/NN/kernel nicely/RB/nicely abstracts/VBZ/abstracts it/NNP/it. for/IN/for the/DT/the intel/NN/intel x86/NNP/x86 architecture/NN/architecture the/DT/the linux/NN/linux kernel/NN/kernel still/RB/still uses/VBZ/uses only/RB/only 16/CD/16 lines/NNP/lines. the/DT/the linux/NN/linux kernel/NN/kernel handles/NNS/handles all/DT/all the/DT/the interrupts/NNS/interrupts in/IN/in the/DT/the same/JJ/same manner/NNP/manner. on/IN/on the/DT/the receipt/NN/receipt of/IN/of an/DT/an interrupt/JJ/interrupt the/DT/the kernel/NN/kernel first/RB/first acknowledges/VBZ/acknowledges the/DT/the interrupt/NNP/interrupt. then/RB/then it/PRP/it looks/VBZ/looks for/IN/for registered/VBN/registered handlers/NNS/handlers for/IN/for that/DT/that interrupt/NNP/interrupt. if/IN/if a/DT/a handler/NN/handler is/VBZ/is registered/VBN/registered /,/, it/PRP/it is/VBZ/is invoked/NNP/invoked. the/DT/the device/NN/device driver/NN/driver has/VBZ/has to/TO/to register/JJR/register a/DT/a handler/NN/handler for/IN/for the/DT/the interrupts/NNS/interrupts caused/VBD/caused by/IN/by the/DT/the device/NNP/device. the/DT/the following/VBG/following api/NN/api is/VBZ/is used/VBN/used to/TO/to register/VB/register an/DT/an interrupt/JJ/interrupt handler/NNP/handler. </NNP/< linux/sched.h/NNP/linux/sched.h >/NNP/> int/NN/int request_irq/NNP/request_irq /NNP/( unsigned/VBD/unsigned int/NN/int irq/NN/irq /,/, void/JJ/void /NN/( */-NONE-/* interrupthandler/VB/interrupthandler /:/) /:/( int/NN/int /,/, void/JJ/void */-NONE-/* ,struct/JJ/,struct pt_regs/NNS/pt_regs */-NONE-/* /VB/) /,/, unisgned/VBN/unisgned long/RB/long flags/NNS/flags /,/, const/IN/const char/NN/char */-NONE-/* dev_name/VB/dev_name /,/, void/JJ/void */-NONE-/* dev_id/NNP/dev_id /NNP/) ;/:/; //:// */-NONE-/* irq/VB/irq /:/- >/:/> the/DT/the interrupt/NN/interrupt number/NN/number being/VBG/being requested/VBN/requested */-NONE-/* //:// //:// */-NONE-/* interrupthandler/JJR/interrupthandler /:/- >/:/> function/NN/function pointer/NN/pointer to/TO/to the/DT/the interrupt/NN/interrupt handler/NN/handler */-NONE-/* //:// //:// */-NONE-/* flags/NNS/flags /:/- >/:/> bitwise/NN/bitwise orable/JJ/orable flags/NNS/flags one/CD/one of/IN/of sa_interrupt/NNP/sa_interrupt implies/NNS/implies 'fast/JJ/'fast handler/NN/handler '/''/' which/WDT/which basically/RB/basically means/VBZ/means that/IN/that the/DT/the interrupt/NN/interrupt handler/NN/handler finishes/NNS/finishes its/PRP$/its job/NN/job quickly/RB/quickly and/CC/and can/MD/can be/VB/be run/VBN/run in/IN/in the/DT/the interrupt/NN/interrupt context/NN/context with/IN/with interrupts/NNS/interrupts disabled/NNP/disabled. sa_shirq/NNP/sa_shirq implies/VBZ/implies that/IN/that the/DT/the interrupt/NN/interrupt is/VBZ/is shared/VBN/shared sa_sample_random/NNP/sa_sample_random implies/NNS/implies that/WDT/that the/DT/the interrupt/NN/interrupt can/MD/can be/VB/be used/VBN/used to/TO/to increase/VB/increase the/DT/the entropy/NN/entropy of/IN/of the/DT/the system/NN/system */-NONE-/* //:// //:// */-NONE-/* dev_name/VB/dev_name /:/- >/:/> a/DT/a pointer/NN/pointer to/TO/to a/DT/a string/NN/string which/WDT/which will/MD/will appear/VB/appear in/IN/in /proc/interrupts/NNS//proc/interrupts to/TO/to signify/VB/signify the/DT/the owner/NN/owner of/IN/of the/DT/the interrupt/JJ/interrupt */-NONE-/* //:// //:// */-NONE-/* dev_id/-NONE-/dev_id- >/:/> a/DT/a unique/JJ/unique identifier/NN/identifier signifying/VBG/signifying which/WDT/which device/NN/device is/VBZ/is interrupting/NNP/interrupting. is/VBZ/is mostly/RB/mostly used/VBN/used when/WRB/when the/DT/the interrupt/NN/interrupt line/NN/line is/VBZ/is shared/NNP/shared. otherwise/RB/otherwise kept/VBD/kept null/JJ/null */-NONE-/* //:// //:// */-NONE-/* the/DT/the interrupt/NN/interrupt can/MD/can be/VB/be freeed/VBN/freeed implying/VBG/implying that/IN/that the/DT/the handler/NN/handler associated/VBN/associated with/IN/with it/PRP/it can/MD/can be/VB/be removed/VBN/removed */-NONE-/* /void/JJ//void free_irq/NNP/free_irq /NNP/( unsigned/VBD/unsigned int/NN/int irq,void/JJ/irq,void */-NONE-/* dev_id/NNP/dev_id /NNP/) ;/:/; //:// */-NONE-/* by/IN/by calling/NN/calling the/DT/the following/VBG/following function/NNP/function. here/RB/here the/DT/the meaning/NN/meaning of/IN/of the/DT/the parameters/NNS/parameters is/VBZ/is the/DT/the same/JJ/same as/IN/as in/IN/in request_irq/NNP/request_irq */-NONE-/* /now/VB//now the/DT/the question/NN/question that/IN/that arises/NNS/arises /:/: how/WRB/how do/VBP/do we/PRP/we know/VB/know which/WDT/which interrupt/JJ/interrupt line/NN/line our/PRP$/our device/NN/device is/VBZ/is going/VBG/going to/TO/to use/NNP/use. some/DT/some device/NN/device use/NN/use predefined/VBD/predefined fixed/VBN/fixed interrupt/NN/interrupt lines/NNP/lines. so/RB/so they/PRP/they can/MD/can be/VB/be used/NNP/used. some/DT/some operating/NN/operating systems/more/NN/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/33/CD/04/33 devices/NNS/devices have/VBP/have jumper/JJR/jumper settings/NNS/settings on/IN/on them/PRP/them that/IN/that let/NN/let you/PRP/you decide/VBP/decide which/WDT/which interrupt/JJ/interrupt line/NN/line the/DT/the device/NN/device will/MD/will use/NNP/use. there/RB/there are/VBP/are devices/NNS/devices /:/( like/IN/like device/NN/device complying/VBG/complying to/TO/to the/DT/the pci/NN/pci standard/NN/standard /:/) that/IN/that can/MD/can on/IN/on request/NN/request tell/NN/tell which/WDT/which interrupt/JJ/interrupt line/NN/line they/PRP/they are/VBP/are going/VBG/going to/TO/to use/NNP/use. but/CC/but there/EX/there are/VBP/are devices/NNS/devices for/IN/for which/WDT/which we/PRP/we can/MD/can not/RB/not tell/VB/tell before/IN/before hand/NN/hand which/WDT/which interrupt/JJ/interrupt number/NN/number they/PRP/they are/VBP/are going/VBG/going to/TO/to use/NNP/use. for/IN/for such/JJ/such device/NN/device we/PRP/we need/VBP/need the/DT/the driver/NN/driver to/TO/to probe/VB/probe the/DT/the irq/NN/irq number/NNP/number. basically/RB/basically what/WP/what is/VBZ/is done/VBN/done is/VBZ/is the/DT/the device/NN/device is/VBZ/is asked/VBN/asked to/TO/to interrupt/VB/interrupt and/CC/and then/RB/then we/PRP/we look/VBP/look at/IN/at all/DT/all the/DT/the free/JJ/free interrupt/NN/interrupt lines/NNS/lines to/TO/to figure/VB/figure out/RP/out which/WDT/which line/NN/line got/VBD/got interrupted/NNP/interrupted. this/DT/this is/VBZ/is not/RB/not a/DT/a clean/JJ/clean method/NN/method and/CC/and ideally/RB/ideally a/DT/a device/NN/device should/MD/should itself/PRP/itself announce/VB/announce which/WDT/which interrupt/JJ/interrupt it/PRP/it wants/VBZ/wants to/TO/to use/NNP/use. /NNP/( like/IN/like pci/NN/pci /:/) /./. the/DT/the kernel/NN/kernel provides/VBZ/provides helper/NN/helper functions/NNS/functions for/IN/for probing/VBG/probing of/IN/of interrupts/NNS/interrupts /:/( </:/< linux/interrupt.h/JJ/linux/interrupt.h >/NN/> probe_irq_on/NNP/probe_irq_on /,/, probe_irq_off/NNP/probe_irq_off /NNP/) or/CC/or the/DT/the drive/JJ/drive can/NN/can do/VB/do manual/JJ/manual probing/NN/probing for/IN/for interrupts/NNP/interrupts. top/NN/top half/NN/half and/CC/and bottom/JJ/bottom half/NN/half processing/NN/processing /:/: one/CD/one problem/NN/problem with/IN/with interrupt/JJ/interrupt processing/NN/processing is/VBZ/is that/IN/that some/DT/some interrupt/JJ/interrupt service/NN/service routines/NNS/routines are/VBP/are rather/RB/rather long/JJ/long and/CC/and take/VB/take a/DT/a long/JJ/long time/NN/time to/TO/to process/NNP/process. these/DT/these can/MD/can then/RB/then cause/VB/cause interrupts/NNS/interrupts to/TO/to be/VB/be disabled/VBN/disabled for/IN/for a/DT/a long/JJ/long time/NN/time degrading/VBG/degrading system/NN/system responsiveness/NN/responsiveness and/CC/and performance/NNP/performance. the/DT/the method/NN/method used/VBD/used in/IN/in linux/NN/linux /:/( and/CC/and in/IN/in many/JJ/many other/JJ/other systems/NNS/systems /:/) to/TO/to solve/VB/solve this/DT/this problem/NN/problem is/VBZ/is to/TO/to split/VB/split up/RP/up the/DT/the interrupt/NN/interrupt handler/NN/handler into/IN/into two/CD/two parts/NNS/parts /:/: the/DT/the ?/./? top/JJ/top half/NN/half ?/./? and/CC/and the/DT/the ?/./? bottom/NN/bottom half/NN/half ?/./? /./. the/DT/the top/JJ/top half/NN/half is/VBZ/is what/WP/what is/VBZ/is actually/RB/actually invoked/VBN/invoked at/IN/at the/DT/the interrupt/NN/interrupt context/NNP/context. it/PRP/it will/MD/will just/RB/just do/VB/do the/DT/the minimum/JJ/minimum required/VBN/required processing/NN/processing and/CC/and then/RB/then wake/VB/wake up/RP/up the/DT/the bottom/NN/bottom half/NNP/half. the/DT/the top/JJ/top half/NN/half is/VBZ/is kept/VBN/kept very/RB/very short/JJ/short and/CC/and fast/NNP/fast. the/DT/the bottom/NN/bottom half/NN/half then/RB/then does/VBZ/does the/DT/the time/NN/time consuming/VBG/consuming processing/NN/processing at/IN/at a/DT/a safer/NN/safer time/NNP/time. earlier/RBR/earlier linux/NN/linux had/VBD/had a/DT/a predefined/VBN/predefined fixed/VBN/fixed number/NN/number of/IN/of bottom/NN/bottom halves/NNS/halves /:/( 32/CD/32 of/IN/of them/PRP/them /:/) for/IN/for use/NN/use by/IN/by the/DT/the driver/NNP/driver. but/CC/but now/RB/now the/DT/the /NN/( kernel/NN/kernel 2.3/CD/2.3 and/CC/and later/JJ/later /NN/) the/DT/the kernel/NN/kernel uses/VBZ/uses ?/./? tasklets/NNS/tasklets ?/./? to/TO/to do/VB/do the/DT/the bottom/NN/bottom half/NN/half processing/NNP/processing. tasklet/NN/tasklet is/VBZ/is a/DT/a special/JJ/special function/NN/function that/WDT/that may/MD/may be/VB/be scheduled/VBN/scheduled to/TO/to run/VB/run in/IN/in interrupt/NN/interrupt context/NN/context /,/, at/IN/at a/DT/a system/NN/system determined/VBN/determined safe/NN/safe time/NNP/time. a/DT/a tasklet/NN/tasklet may/MD/may be/VB/be scheduled/VBN/scheduled to/TO/to run/VB/run multiple/NN/multiple times/NNS/times /,/, but/CC/but it/PRP/it only/RB/only runs/VBZ/runs once/NNP/once. an/DT/an interesting/JJ/interesting consequence/NN/consequence of/IN/of this/DT/this is/VBZ/is that/IN/that a/DT/a top/JJ/top half/NN/half may/MD/may be/VB/be executed/VBN/executed several/JJ/several times/NNS/times before/IN/before a/DT/a bottom/NN/bottom half/NN/half gets/VBZ/gets a/DT/a chance/NN/chance to/TO/to execute/NNP/execute. now/RB/now since/IN/since only/RB/only a/DT/a single/JJ/single tasklet/NN/tasklet will/MD/will be/VB/be run/VBN/run /,/, the/DT/the tasklet/NN/tasklet should/MD/should be/VB/be able/JJ/able to/TO/to handle/VB/handle such/JJ/such a/DT/a situation/NNP/situation. the/DT/the top/JJ/top half/NN/half should/MD/should keep/VB/keep a/DT/a count/NN/count of/IN/of the/DT/the number/NN/number of/IN/of interrupts/NNS/interrupts that/WDT/that have/VBP/have happened/NNP/happened. the/DT/the tasklet/NN/tasklet can/MD/can use/VB/use this/DT/this count/NN/count to/TO/to figure/VB/figure out/RP/out what/WP/what to/TO/to do/NNP/do. //NNP// */-NONE-/* takelets/VBZ/takelets are/VBP/are declared/VBN/declared using/VBG/using the/DT/the following/VBG/following macro/NN/macro */-NONE-/* //:// declare_tasklet/NNP/declare_tasklet /:/( taskletname,function,data/NNP/taskletname,function,data /:/) ;/:/; //:// */-NONE-/* taskletname/VB/taskletname /:/- >/:/> name/NN/name of/IN/of the/DT/the tasklet/NN/tasklet */-NONE-/* //:// //:// */-NONE-/* the/DT/the function/NN/function to/TO/to be/VB/be run/VBN/run as/IN/as a/DT/a tasklet/NNP/tasklet. the/DT/the function/NN/function has/VBZ/has the/DT/the following/VBG/following prototype/NN/prototype */-NONE-/* //:// operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/34/CD/04/34 //CD// */-NONE-/* void/JJ/void function/NN/function /:/( usigned/VBN/usigned long/RB/long /:/) */-NONE-/* //:// //:// */-NONE-/* data/NNS/data is/VBZ/is the/DT/the argument/NN/argument to/TO/to be/VB/be passed/VBN/passed to/TO/to the/DT/the function/NN/function */-NONE-/* //:// //:// */-NONE-/* the/DT/the tasklet/NN/tasklet can/MD/can be/VB/be scheduled/VBN/scheduled using/VBG/using this/DT/this function/NN/function */-NONE-/* //:// tasklet_schedule/NNP/tasklet_schedule /:/( &takletname/JJ/&takletname /NN/) interprocess/NN/interprocess communication/NN/communication in/IN/in linux/NN/linux /:/: again/RB/again there/RB/there is/VBZ/is considerable/JJ/considerable similarity/NN/similarity with/IN/with unix/NNP/unix. for/IN/for example/NN/example /,/, in/IN/in linux/NN/linux /,/, signals/NNS/signals may/MD/may be/VB/be utilized/VBN/utilized for/IN/for communication/NN/communication between/IN/between parent/NN/parent and/CC/and child/NN/child processes/NNP/processes. processes/NNS/processes may/MD/may synchronize/VB/synchronize using/VBG/using wait/NN/wait instruction/NNP/instruction. processes/NNS/processes may/MD/may communicate/VB/communicate using/VBG/using pipe/NN/pipe mechanism/NNP/mechanism. processes/NNS/processes may/MD/may use/VB/use shared/VBN/shared memory/NN/memory mechanism/NN/mechanism for/IN/for communication/NNP/communication. probably/RB/probably need/VBP/need some/DT/some more/RBR/more points/NNS/points on/IN/on this/DT/this topic/JJ/topic on/IN/on ipc/NN/ipc and/CC/and the/DT/the different/JJ/different mechanisms/NNS/mechanisms available/NNP/available. i/PRP/i found/VBD/found a/DT/a good/JJ/good url/NN/url ?/./? http/NN/http /:/: //cne.gmu.edu/modules/ipc/map.html/JJ///cne.gmu.edu/modules/ipc/map.html ?/./? /./. /:/( show/NN/show these/DT/these using/VBG/using animation/NN/animation /:/) let/NN/let us/PRP/us examine/VBP/examine how/WRB/how the/DT/the communication/NN/communication is/VBZ/is done/VBN/done in/IN/in the/DT/the networked/VBN/networked environment/NNP/environment. the/DT/the networking/NN/networking features/NNS/features in/IN/in linux/NN/linux are/VBP/are implemented/VBN/implemented in/IN/in three/CD/three layers/NNS/layers /:/: 1/CD/1. socket/NN/socket interface/NN/interface 2/CD/2. protocol/NN/protocol drivers/NNS/drivers 3/CD/3. network/NN/network drivers/NNP/drivers. typically/RB/typically a/DT/a user/NN/user applications/NNS/applications ?/./? first/JJ/first i/f/NN/i/f is/VBZ/is the/DT/the socket/NNP/socket. the/DT/the socket/NN/socket definition/NN/definition is/VBZ/is similar/JJ/similar to/TO/to bsd/VB/bsd 4.3/CD/4.3 unix/CD/unix which/WDT/which provides/VBZ/provides a/DT/a general/JJ/general purpose/NN/purpose interconnection/NN/interconnection framework/NNP/framework. the/DT/the protocol/NN/protocol layer/NN/layer supports/NNS/supports what/WP/what is/VBZ/is often/RB/often referred/VBN/referred to/TO/to as/RB/as protocol/NN/protocol stack/NNP/stack. the/DT/the data/NNS/data may/MD/may come/VB/come from/IN/from either/DT/either an/DT/an application/NN/application or/CC/or from/IN/from a/DT/a network/NN/network driver/NNP/driver. the/DT/the protocol/NN/protocol layer/NN/layer manages/NNS/manages routing/VBG/routing /,/, error/NN/error reporting/VBG/reporting /,/, reliable/JJ/reliable retransmission/NN/retransmission of/IN/of data/NNS/data for/IN/for networking/VBG/networking the/DT/the most/JJS/most important/JJ/important support/NN/support is/VBZ/is the/DT/the ip/NN/ip suite/NN/suite which/WDT/which guides/VBZ/guides in/IN/in routing/NN/routing of/IN/of packets/NNS/packets between/IN/between hosts/NNP/hosts. on/IN/on top/JJ/top of/IN/of the/DT/the routing/NN/routing are/VBP/are built/VBN/built higher/JJR/higher layers/NNS/layers like/IN/like udp/NN/udp or/CC/or tcp/NNP/tcp. the/DT/the routing/NN/routing is/VBZ/is actually/RB/actually done/VBN/done by/IN/by ip/NN/ip driver/NNP/driver. the/DT/the ip/NN/ip driver/NN/driver also/RB/also helps/VBZ/helps in/IN/in disassembly/RB/disassembly //:// assembly/RB/assembly of/IN/of the/DT/the packets/NNP/packets. the/DT/the routing/NN/routing gets/VBZ/gets done/VBN/done in/IN/in two/CD/two ways/NNS/ways /:/: 1/CD/1. by/IN/by using/NN/using recent/JJ/recent cached/JJ/cached routing/NN/routing decisions/NNS/decisions 2/CD/2. by/IN/by using/NN/using a/DT/a table/NN/table which/WDT/which acts/NNS/acts as/IN/as a/DT/a persistent/NN/persistent forwarding/VBG/forwarding base/NN/base generally/RB/generally the/DT/the packets/NNS/packets are/VBP/are stored/VBN/stored in/IN/in a/DT/a buffer/NN/buffer and/CC/and have/VB/have a/DT/a tag/NN/tag to/TO/to identify/VB/identify the/DT/the protocol/NN/protocol that/IN/that need/NN/need to/TO/to be/VB/be used/NNP/used. after/IN/after the/DT/the selection/NN/selection of/IN/of the/DT/the appropriate/JJ/appropriate protocol/NN/protocol the/DT/the ip/NN/ip driver/NN/driver then/RB/then hands/VBZ/hands it/PRP/it over/IN/over to/TO/to the/DT/the network/NN/network device/NN/device driver/NN/driver to/TO/to manage/NN/manage the/DT/the packet/NN/packet movement/NNP/movement. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/35/CD/04/35 as/IN/as for/IN/for security/NN/security /,/, the/DT/the firewall/NN/firewall management/NN/management maintains/NNS/maintains several/JJ/several chains/NNS/chains ?/./? with/IN/with each/DT/each chain/NN/chain having/VBG/having its/PRP$/its own/JJ/own set/NN/set of/IN/of rules/NNS/rules of/IN/of filtering/VBG/filtering the/DT/the packets/NNP/packets. real/JJ/real time/NN/time linux/NN/linux /:/: large/JJ/large number/NN/number of/IN/of projects/NNS/projects both/DT/both open/JJ/open source/NN/source and/CC/and commercial/JJ/commercial have/VBP/have been/VBN/been dedicated/VBN/dedicated to/TO/to get/VB/get real/JJ/real time/NN/time functionality/NN/functionality from/IN/from the/DT/the linux/NN/linux kernel/NNP/kernel. some/DT/some of/IN/of the/DT/the projects/NNS/projects are/VBP/are listed/VBN/listed below/IN/below commercial/JJ/commercial distributions/NNS/distributions /:/: fsmlabs/NNS/fsmlabs /:/: rtlinuxpro/NN/rtlinuxpro lineo/NN/lineo solutions/NNS/solutions /:/: ulinux/NN/ulinux lynuxworks/NNS/lynuxworks /:/: bluecat/JJ/bluecat rt/NN/rt montavista/NN/montavista software/NN/software /:/: real-time/JJ/real-time solutions/NNS/solutions for/IN/for linux/NN/linux concurrent/NN/concurrent /:/: redhawk/NN/redhawk redsonic/JJ/redsonic /:/: redice-linux/JJ/redice-linux open/JJ/open source/NN/source distributions/NNS/distributions /:/: adeos/NNS/adeos ?/./? art/NN/art linux/NN/linux kurt/NN/kurt /:/-- the/DT/the ku/NN/ku real-time/JJ/real-time linux/NN/linux linux/rk/NN/linux/rk qlinuxrealtimelinux.org/NN/qlinuxrealtimelinux.org red-linux/NN/red-linux rtai/NN/rtai rtlinux/NN/rtlinux linux/NN/linux installation/NN/installation amongst/NN/amongst various/JJ/various flavors/NNS/flavors of/IN/of unix/NN/unix /,/, linux/NN/linux is/VBZ/is currently/RB/currently the/DT/the most/RBS/most popular/JJ/popular os/NNP/os. linux/NN/linux is/VBZ/is also/RB/also part/NN/part of/IN/of the/DT/the gnu/NN/gnu movement/NN/movement which/WDT/which believes/VBZ/believes in/IN/in free/JJ/free software/NN/software distribution/NNP/distribution. a/DT/a large/JJ/large community/NN/community of/IN/of programmers/NNS/programmers subscribe/VBP/subscribe to/TO/to it/NNP/it. linux/NN/linux came/VBD/came about/IN/about mainly/RB/mainly through/IN/through the/DT/the efforts/NNS/efforts of/IN/of linus/NN/linus torvalds/NNS/torvalds from/IN/from finland/NN/finland who/WP/who wanted/VBD/wanted a/DT/a unix/NN/unix environment/NN/environment on/IN/on his/PRP$/his pc/NN/pc while/IN/while he/PRP/he was/VBD/was a/DT/a university/NN/university student/NNP/student. he/PRP/he drew/VBD/drew inspiration/NN/inspiration from/IN/from prof/NNP/prof. andrew/NN/andrew tanenbaum/NN/tanenbaum of/IN/of university/NN/university of/IN/of amsterdam/NN/amsterdam /,/, who/WP/who had/VBD/had earlier/RBR/earlier designed/VBN/designed a/DT/a small/JJ/small os/NNS/os called/VBN/called minix/NNP/minix. minix/NN/minix was/VBD/was primarily/RB/primarily used/VBN/used as/IN/as a/DT/a teaching/NN/teaching tool/NN/tool with/IN/with its/PRP$/its code/NN/code made/VBD/made widely/RB/widely available/JJ/available and/CC/and distributed/NNP/distributed. minix/NN/minix code/NN/code could/MD/could be/VB/be modified/VBN/modified and/CC/and its/PRP$/its capability/NN/capability extended/NNP/extended. linus/NN/linus torvalds/NNS/torvalds not/RB/not only/RB/only designed/VBN/designed a/DT/a pc-based/JJ/pc-based unix/NN/unix for/IN/for his/PRP$/his personal/JJ/personal use/NN/use /,/, but/CC/but also/RB/also freely/RB/freely distributed/VBN/distributed it/NNP/it. presently/RB/presently /,/, operating/VBG/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/36/CD/04/36 there/EX/there is/VBZ/is a/DT/a very/RB/very large/JJ/large linux/NN/linux community/NN/community worldwide/NNP/worldwide. every/DT/every major/JJ/major university/NN/university /,/, or/CC/or urban/NN/urban centre/NN/centre /,/, has/VBZ/has a/DT/a linux/NN/linux group/NNP/group. linux/NN/linux found/VBD/found ready/JJ/ready acceptance/NN/acceptance and/CC/and the/DT/the spirit/NN/spirit of/IN/of free/JJ/free distribution/NN/distribution has/VBZ/has attracted/VBN/attracted many/JJ/many willing/JJ/willing voluntary/JJ/voluntary contributors/NNP/contributors. now/RB/now a/DT/a days/NNS/days linux/NN/linux community/NN/community regulates/VBZ/regulates itself/PRP/itself by/IN/by having/VBG/having all/DT/all contributions/NNS/contributions evaluated/VBN/evaluated to/TO/to ensure/VB/ensure quality/NN/quality and/CC/and to/TO/to take/VB/take care/NN/care of/IN/of compatibility/NNP/compatibility. this/DT/this helps/VBZ/helps in/IN/in ensuring/NN/ensuring a/DT/a certain/JJ/certain level/NN/level of/IN/of acceptance/NNP/acceptance. if/IN/if you/PRP/you do/VBP/do a/DT/a google/JJ/google search/NN/search you/PRP/you will/MD/will get/VB/get a/DT/a lot/NN/lot of/IN/of information/NN/information on/IN/on linux/NNP/linux. our/PRP$/our immediate/JJ/immediate concerns/NNS/concerns here/RB/here are/VBP/are to/TO/to help/VB/help you/PRP/you have/VB/have your/PRP$/your own/JJ/own linux/NN/linux installation/NN/installation so/RB/so that/IN/that you/PRP/you can/MD/can practice/VB/practice with/IN/with many/JJ/many of/IN/of the/DT/the tools/NNS/tools available/JJ/available under/IN/under the/DT/the broad/JJ/broad category/NN/category of/IN/of unix-based/JJ/unix-based oss/NNP/oss. 20.1/CD/20.1 the/DT/the installation/NN/installation linux/NN/linux can/MD/can be/VB/be installed/VBN/installed on/IN/on a/DT/a wide/JJ/wide range/NN/range of/IN/of machines/NNP/machines. the/DT/the range/NN/range may/MD/may span/VB/span from/IN/from one/CD/one 's/POS/'s own/JJ/own pda/NN/pda to/TO/to a/DT/a set/NN/set of/IN/of machines/NNS/machines which/WDT/which cooperate/JJ/cooperate like/IN/like google/NN/google 's/POS/'s 4000/CD/4000 node/NN/node linux/NN/linux cluster/NNP/cluster. for/IN/for now/RB/now we/PRP/we shall/MD/shall assume/VB/assume that/IN/that we/PRP/we wish/VBP/wish to/TO/to install/VB/install it/PRP/it on/IN/on a/DT/a pc/NNP/pc. most/JJS/most pcs/NNS/pcs have/VBP/have a/DT/a bootable/JJ/bootable cd/NN/cd player/NN/player and/CC/and bios/NNP/bios. this/DT/this means/VBZ/means in/IN/in most/JJS/most cases/NNS/cases we/PRP/we can/MD/can use/VB/use the/DT/the cd/NN/cd boot/NN/boot and/CC/and install/NN/install procedure/NNP/procedure. older/NN/older pc/NN/pc 's/POS/'s did/VBD/did not/RB/not have/VB/have these/DT/these features/NNP/features. in/IN/in that/DT/that case/NN/case one/CD/one was/VBD/was required/VBN/required to/TO/to use/VB/use a/DT/a set/NN/set of/IN/of floppies/NNP/floppies. the/DT/the first/JJ/first part/NN/part of/IN/of this/DT/this basic/JJ/basic guide/NN/guide is/VBZ/is about/IN/about getting/VBG/getting the/DT/the installation/NN/installation program/NN/program up/IN/up and/CC/and running/VBG/running /:/: using/VBG/using either/DT/either a/DT/a cd/NN/cd or/CC/or a/DT/a set/NN/set of/IN/of floppies/NNP/floppies. 20.2/CD/20.2 the/DT/the installation/NN/installation program/NN/program in/IN/in this/DT/this section/NN/section we/PRP/we describe/VBP/describe the/DT/the linux/NN/linux installation/NNP/installation. the/DT/the main/JJ/main point/NN/point in/IN/in the/DT/the installation/NN/installation is/VBZ/is to/TO/to select/VB/select the/DT/the correct/JJ/correct configuration/NNP/configuration. typically/RB/typically red/VBD/red hat/IN/hat linux/NN/linux is/VBZ/is installed/VBN/installed by/IN/by booting/NN/booting to/TO/to the/DT/the install/NN/install directory/NN/directory from/IN/from a/DT/a cd-rom/NNP/cd-rom. the/DT/the other/JJ/other options/NNS/options may/MD/may include/VB/include the/DT/the following/NNP/following. */-NONE-/* booting/VBG/booting to/TO/to install/VB/install using/VBG/using a/DT/a floppy/NN/floppy disk/NNP/disk. */-NONE-/* using/VBG/using a/DT/a hard/JJ/hard drive/JJ/drive partition/NN/partition to/TO/to hold/VB/hold the/DT/the installation/NN/installation software/NNP/software. */-NONE-/* booting/VBG/booting from/IN/from a/DT/a dos/NNS/dos command/VBP/command line/NNP/line. */-NONE-/* booting/VBG/booting to/TO/to an/DT/an install/NN/install and/CC/and installing/VBG/installing software/NN/software using/VBG/using ftp/NN/ftp or/CC/or http/VB/http protocols/NNP/protocols. */-NONE-/* booting/VBG/booting to/TO/to an/DT/an install/NN/install and/CC/and installing/VBG/installing software/NN/software from/IN/from an/DT/an nfs-mounted/JJ/nfs-mounted hard/JJ/hard drive/NNP/drive. installing/NN/installing from/IN/from cd-rom/NNP/cd-rom /:/: most/RBS/most pcs/NNS/pcs support/NN/support booting/VBG/booting directly/RB/directly from/IN/from a/DT/a cd-rom/JJ/cd-rom drive/NNP/drive. set/NN/set your/PRP$/your pc/NN/pc 's/POS/'s bios/NNS/bios /:/( if/IN/if required/VBN/required /-NONE-/) /./. now/RB/now insert/VB/insert the/DT/the cd-rom/JJ/cd-rom and/CC/and reboot/NN/reboot to/TO/to the/DT/the pc/NN/pc to/TO/to install/VB/install red/VBN/red hat/JJ/hat linux/NNP/linux. you/PRP/you should/MD/should see/VB/see a/DT/a boot/NN/boot screen/NN/screen that/WDT/that offers/VBZ/offers a/DT/a variety/NN/variety of/IN/of options/NNS/options for/IN/for booting/VBG/booting .the/JJ/.the options/NNS/options typically/RB/typically would/MD/would be/VB/be as/RB/as follows/VBZ/follows /:/: */-NONE-/* </:/< enter/NN/enter >/:/> /:/- start/NN/start the/DT/the installation/NN/installation using/VBG/using a/DT/a graphical/JJ/graphical interface/NN/interface */-NONE-/* text/VB/text /:/- start/NN/start the/DT/the install/NN/install using/VBG/using a/DT/a text/NN/text interface/NN/interface operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/37/CD/04/37 */-NONE-/* nofb/VB/nofb /:/- start/NN/start the/DT/the install/NN/install using/VBG/using a/DT/a video/NN/video frame/NN/frame buffer/NN/buffer */-NONE-/* expert/VB/expert */-NONE-/* linux/VB/linux rescue/JJ/rescue */-NONE-/* linux/VB/linux dd/JJ/dd at/IN/at this/DT/this stage/NN/stage if/IN/if you/PRP/you press/VBP/press key/JJ/key f2/NNP/f2 then/RB/then it/PRP/it provides/VBZ/provides a/DT/a help/NN/help screen/VBN/screen for/IN/for the/DT/the text-based/JJ/text-based installation/NNP/installation. type/NN/type the/DT/the word/NN/word text/NN/text at/IN/at the/DT/the boot/NN/boot prompt/NN/prompt and/CC/and press/NN/press enter/NN/enter to/TO/to continue/NNP/continue. you/PRP/you shall/MD/shall be/VB/be asked/VBN/asked to/TO/to select/VB/select a/DT/a language/NNP/language. so/RB/so select/VB/select a/DT/a language/NN/language of/IN/of your/PRP$/your choice/NNP/choice. highlight/NN/highlight ok/NN/ok button/NN/button and/CC/and press/NN/press enter/NNP/enter. you/PRP/you will/MD/will then/RB/then be/VB/be asked/VBN/asked to/TO/to select/VB/select a/DT/a keyboard/NN/keyboard for/IN/for install/NNP/install. so/RB/so highlight/VBD/highlight ok/NN/ok button/NN/button and/CC/and press/NN/press enter/NN/enter after/IN/after selecting/VBG/selecting a/DT/a keyboard/NNP/keyboard. you/PRP/you shall/MD/shall be/VB/be next/JJ/next asked/VBN/asked to/TO/to select/VB/select a/DT/a pointing/NN/pointing device/NN/device /,/, select/NN/select a/DT/a suitable/JJ/suitable mouse/NN/mouse and/CC/and press/NN/press ok/NNP/ok. next/JJ/next you/PRP/you will/MD/will be/VB/be asked/VBN/asked /:/: select/JJ/select the/DT/the type/NN/type of/IN/of installation/NN/installation from/IN/from ?/./? */-NONE-/* workstation/NN/workstation */-NONE-/* server/VB/server */-NONE-/* laptop/VB/laptop */-NONE-/* custom/VB/custom */-NONE-/* upgrade/VB/upgrade an/DT/an existing/VBG/existing system/NN/system select/NN/select the/DT/the suitable/JJ/suitable option/NN/option /,/, for/IN/for example/NN/example /,/, select/NN/select server/NN/server install/NN/install and/CC/and press/NN/press enter/NNP/enter. next/JJ/next you/PRP/you will/MD/will choose/VB/choose a/DT/a partitioning/NN/partitioning scheme/NNP/scheme. the/DT/the choices/NNS/choices include/VBP/include the/DT/the following/VBG/following /:/: */-NONE-/* auto/NN/auto partition/NN/partition */-NONE-/* disk/VB/disk druid/JJ/druid */-NONE-/* fdisk/VB/fdisk the/DT/the auto/NN/auto partition/NN/partition will/MD/will the/DT/the format/NN/format hard/NN/hard drive/VBP/drive according/VBG/according to/TO/to the/DT/the type/NN/type of/IN/of selected/VBN/selected installation/NNP/installation. it/PRP/it will/MD/will automatically/RB/automatically configure/VB/configure the/DT/the partitions/NNS/partitions for/IN/for use/NN/use with/IN/with linux/NNP/linux. the/DT/the disk/NN/disk druid/VBD/druid will/MD/will launch/VB/launch a/DT/a graphical/JJ/graphical editor/NN/editor listing/NN/listing the/DT/the free/JJ/free spaces/NNS/spaces available/NNP/available. the/DT/the fdisk/NN/fdisk option/NN/option offers/NNS/offers an/DT/an ability/NN/ability to/TO/to create/VB/create nearly/RB/nearly 60/CD/60 different/JJ/different types/NNS/types of/IN/of partitions/NNP/partitions. on/IN/on clicking/VBG/clicking disk/NN/disk druid/NN/druid /,/, you/PRP/you will/MD/will get/VB/get an/DT/an option/NN/option of/IN/of creating/VBG/creating new/JJ/new partitions/NNS/partitions if/IN/if you/PRP/you are/VBP/are using/VBG/using a/DT/a new/JJ/new hard/JJ/hard drive/NNP/drive. if/IN/if you/PRP/you are/VBP/are using/VBG/using an/DT/an old/JJ/old hard/JJ/hard disk/NN/disk the/DT/the partitions/NNS/partitions are/VBP/are recognized/NNP/recognized. create/NN/create the/DT/the appropriate/NN/appropriate partitions/NNS/partitions or/CC/or use/VB/use existing/VBG/existing ones/NNS/ones as/IN/as the/DT/the case/NN/case may/MD/may be/NNP/be. finally/RB/finally /,/, press/NN/press ok/NN/ok to/TO/to continue/NNP/continue. red/VBD/red hat/WP/hat linux/NN/linux requires/VBZ/requires a/DT/a minimum/JJ/minimum of/IN/of two/CD/two partitions/NNP/partitions. one/CD/one is/VBZ/is a/DT/a swap/NN/swap partition/NN/partition and/CC/and the/DT/the other/JJ/other a/DT/a root/NN/root /:/( //:// /:/) partition/NNP/partition. the/DT/the swap/NN/swap partition/NN/partition should/MD/should be/VB/be more/RBR/more than/IN/than twice/NN/twice as/IN/as large/JJ/large as/IN/as the/DT/the operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/38/CD/04/38 installed/VBN/installed amount/NN/amount of/IN/of memory/NNP/memory. other/JJ/other partitions/NNS/partitions may/MD/may be/VB/be /remote/JJ//remote and/CC/and /home/NNP//home. these/DT/these can/MD/can be/VB/be created/VBN/created after/IN/after the/DT/the installation/NN/installation as/IN/as well/NNP/well. you/PRP/you will/MD/will now/RB/now be/VB/be as/IN/as asked/VBN/asked to/TO/to select/VB/select a/DT/a boot-loader/JJ/boot-loader for/IN/for booting/NN/booting linux/NNP/linux. the/DT/the choice/NN/choice of/IN/of not/RB/not using/VBG/using a/DT/a boot-loader/JJ/boot-loader is/VBZ/is also/RB/also available/NNP/available. the/DT/the options/NNS/options available/JJ/available are/VBP/are grub/NN/grub and/CC/and lilo/NNP/lilo. select/NN/select the/DT/the appropriate/JJ/appropriate boot/NN/boot loader/NN/loader and/CC/and press/NN/press ok/NNP/ok. grub/NN/grub and/CC/and lilo/NN/lilo are/VBP/are typically/RB/typically installed/VBN/installed in/IN/in the/DT/the mbr/NN/mbr of/IN/of the/DT/the first/JJ/first ide/NN/ide hard/RB/hard drive/JJ/drive in/IN/in the/DT/the pc/NNP/pc. you/PRP/you will/MD/will now/RB/now be/VB/be asked/VBN/asked for/IN/for to/TO/to choose/VB/choose kernel/NN/kernel parameters/NNS/parameters for/IN/for booting/VBG/booting linux/NNP/linux. enter/NN/enter the/DT/the arguments/NNS/arguments in/IN/in the/DT/the dialog/NN/dialog box/NN/box or/CC/or use/VBP/use the/DT/the ok/NN/ok button/NN/button to/TO/to continue/NNP/continue. if/IN/if for/IN/for some/DT/some reason/NN/reason we/PRP/we can/MD/can not/RB/not arrive/VB/arrive at/IN/at dual/JJ/dual booting/NN/booting automatically/RB/automatically /,/, then/RB/then add/VBD/add this/DT/this code/NN/code at/IN/at the/DT/the end/NN/end of/IN/of the/DT/the file/NN/file /etc/boot/grud/grub.conf/NN//etc/boot/grud/grub.conf file/NN/file title/NN/title windows/VBZ/windows rootnoverify/NN/rootnoverify /:/( hd0,0/-NONE-/hd0,0 /:/) chainloader/NN/chainloader +/:/+ 1/CD/1 makeactive/JJ/makeactive you/PRP/you can/MD/can now/RB/now configure/VB/configure a/DT/a dual/JJ/dual boot/NN/boot system/NN/system /,/, if/IN/if required/VBN/required by/IN/by configuring/NN/configuring the/DT/the boot-loader/NNP/boot-loader. when/WRB/when finished/VBD/finished click/NN/click ok/NN/ok and/CC/and you/PRP/you will/MD/will be/VB/be asked/VBN/asked to/TO/to select/VB/select a/DT/a firewall/NN/firewall configuration/NNP/configuration. use/NN/use a/DT/a security/NN/security level/NN/level from/IN/from */-NONE-/* high/JJ/high */-NONE-/* medium/NN/medium */-NONE-/* none/NN/none after/IN/after this/DT/this you/PRP/you will/MD/will have/VB/have to/TO/to set/VB/set the/DT/the incoming/NN/incoming service/NN/service requests/NNS/requests followed/VBD/followed by/IN/by a/DT/a time-zone/JJ/time-zone selection/NN/selection dialog/NN/dialog box/NNP/box. select/NN/select the/DT/the appropriate/JJ/appropriate settings/NNS/settings and/CC/and press/NN/press ok/NN/ok to/TO/to continue/NNP/continue. you/PRP/you will/MD/will now/RB/now be/VB/be prompted/VBN/prompted to/TO/to enter/VB/enter a/DT/a user-id/JJ/user-id and/CC/and password/NNP/password. the/DT/the password/NN/password will/MD/will not/RB/not be/VB/be echoed/VBN/echoed onto/IN/onto the/DT/the screen/NNP/screen. now/RB/now is/VBZ/is the/DT/the time/NN/time to/TO/to create/VB/create user/NN/user accounts/NNP/accounts. each/DT/each has/VBZ/has home/VBN/home directory/NN/directory home/NN/home usually/RB/usually under/IN/under /home/usr/JJ//home/usr directory/NNP/directory. next/JJ/next you/PRP/you have/VBP/have to/TO/to select/VB/select packages/NNS/packages you/PRP/you want/VBP/want to/TO/to install/NNP/install. use/NN/use the/DT/the spacebar/NN/spacebar to/TO/to select/VB/select the/DT/the various/JJ/various groups/NNS/groups of/IN/of software/NN/software packages/NNP/packages. the/DT/the size/NN/size of/IN/of the/DT/the installed/VBN/installed software/NN/software will/MD/will dynamically/RB/dynamically reflect/VB/reflect the/DT/the choices/NNP/choices. use/NN/use the/DT/the select/NN/select individual/JJ/individual package/NN/package item/NN/item to/TO/to choose/VB/choose the/DT/the individual/JJ/individual software/NN/software packages/NNP/packages. the/DT/the installer/NN/installer will/MD/will now/RB/now start/VB/start installing/VBG/installing the/DT/the packages/NNS/packages selected/VBN/selected from/IN/from the/DT/the cd-rom/JJ/cd-rom drive/JJ/drive onto/IN/onto the/DT/the new/JJ/new linux/NN/linux partitions/NNP/partitions. at/IN/at the/DT/the end/NN/end of/IN/of the/DT/the installation/NN/installation you/PRP/you will/MD/will get/VB/get an/DT/an option/NN/option of/IN/of creating/VBG/creating a/DT/a boot-disk/JJ/boot-disk for/IN/for later/JJ/later use/NNP/use. you/PRP/you can/MD/can create/VB/create the/DT/the boot/NN/boot disk/NN/disk later/JJ/later using/VBG/using the/DT/the mkbootdisk/NN/mkbootdisk command/NNP/command. operating/NN/operating systems/more/JJ/systems/more on/IN/on linux/NN/linux lecture/NN/lecture notes/NNS/notes pcp/VBP/pcp bhatt/iisc/JJ/bhatt/iisc /,/, bangalore/JJ/bangalore m20/v1/june/JJ/m20/v1/june 04/39/CD/04/39 after/IN/after this/DT/this /,/, your/PRP$/your installation/NN/installation is/VBZ/is done/NNP/done. press/NN/press ok/NN/ok and/CC/and red/VBD/red hat/DT/hat linux/NN/linux will/MD/will eject/VB/eject the/DT/the cd/NN/cd rom/IN/rom and/CC/and reboot/NNP/reboot. after/IN/after rebooting/VBG/rebooting you/PRP/you will/MD/will be/VB/be able/JJ/able to/TO/to log/VB/log onto/IN/onto a/DT/a linux/NN/linux session/NNP/session. to/TO/to shutdown/VB/shutdown your/PRP$/your computer/NN/computer use/NN/use the/DT/the shutdown/NN/shutdown -h/JJ/-h now/RB/now command/NNP/command. usually/RB/usually most/RBS/most distributions/NNS/distributions allow/VBP/allow you/PRP/you to/TO/to test/NN/test the/DT/the set-up/NNP/set-up. it/PRP/it helps/VBZ/helps to/TO/to see/VB/see if/IN/if it/PRP/it works/NNP/works. the/DT/the auto/NN/auto detection/NN/detection /:/( like/IN/like in/IN/in red/JJ/red hat/NN/hat /:/) takes/VBZ/takes care/NN/care of/IN/of most/JJS/most of/IN/of the/DT/the cards/NNS/cards and/CC/and monitor/NN/monitor types/NNP/types. 20.2.1/CD/20.2.1 finishing/VBG/finishing the/DT/the installation/NN/installation with/IN/with the/DT/the above/JJ/above steps/NNS/steps /,/, we/PRP/we should/MD/should have/VB/have installed/VBN/installed a/DT/a good/JJ/good working/NN/working linux/NN/linux machine/NNP/machine. the/DT/the install/NN/install program/NN/program will/MD/will usually/RB/usually prompt/VB/prompt to/TO/to take/VB/take out/RP/out all/DT/all boot-disks/NNS/boot-disks /,/, etc/NNP/etc. and/CC/and the/DT/the machine/NN/machine will/MD/will be/VB/be rebooted/VBN/rebooted /-NONE-/( sometimes/RB/sometimes you/PRP/you may/MD/may have/VB/have to/TO/to reboot/VB/reboot /:/) /./. you/PRP/you will/MD/will see/VB/see the/DT/the linux/NN/linux loader/NN/loader coming/VBG/coming up/NNP/up. it/PRP/it is/VBZ/is also/RB/also known/VBN/known as/IN/as lilo/NNP/lilo. newer/NN/newer versions/NNS/versions or/CC/or distributions/NNS/distributions like/IN/like mandrake/NN/mandrake come/NN/come up/RB/up with/IN/with their/PRP$/their own/JJ/own lilo/NN/lilo 's/NNP/'s. redhat/WDT/redhat 7.x/CD/7.x comes/VBZ/comes with/IN/with a/DT/a graphical/JJ/graphical screen/NN/screen and/CC/and menu/NN/menu for/IN/for startup/NNP/startup. anyway/NN/anyway /,/, one/CD/one may/MD/may see/VB/see options/NNS/options like/IN/like linux/NN/linux and/or/JJ/and/or dos/NNS/dos or/CC/or windows/VBZ/windows /./. normally/RB/normally we/PRP/we fill/MD/fill in/IN/in these/DT/these names/NNS/names during/IN/during the/DT/the installations/NNP/installations. another/DT/another popular/JJ/popular boot-loader/NN/boot-loader called/VBN/called grub/NN/grub has/VBZ/has become/VBN/become the/DT/the default/NN/default for/IN/for redhat/NNP/redhat. 
computer networks prof sujoy ghosh dept of computer science and engineering  iit kharagpur lecture # 07 switches-1  reference time  00  45  good day so today and in the next lecture we will be talking about switches switches are the  refer slide time  01  01  01  03  most important part of a computer networks and we will look into some aspects of the different types of switches in this lecture we will look at the kind of switches that are used in telecom networks there is a special version of these  which we will cover in a later lecture and then in the next lecture we will be talking about packet switches  which are closer to the heart of data networks first thing is why do we need switches ?  slide refer time  01  38 ? 02  15  the problem is that each user can potentially call any other user  as we have seen in telephone networks and we can not have direct lines we can not have an order n2 kind of lines so every user is connected to essentially a switch in the switching office switches establish temporary circuits ; that means they establish a temporary connection between the caller and the callee at the switching station switching systems come in two parts  one is the switch and the other is the switch controller  refer slide time 02  16 ? 03  41  as you remember from our discussion about telecom networks  people want to talk to other subscribers  who are in maybe a different location  under a different switching station the switching stations have to connect among themselves for making this connection through the signaling that we talked about  there is a control plane over here control planes are some kind of computers  which are capable of sending some kind of signals or instructions to the individual switches in the control plane  we set up the path and there is a corresponding signal from the controller to the corresponding switch for setting up a particular circuit or a particular connection  so that an end-to-end connection from one user to the other is set up this control plane is sort of an overlay network over the actual switch  and once the connection is set up naturally the call and all the signals  etc  flow in this plane  refer slide time 03  42 ? 04  10  there is a network device called a router and there is routing  which is very close to switching the only thing is that in routing  we decide about long-range paths if you remember from our discussion about the seven-layer osi protocols  you remember that there was a network layer and the router is a device in the network layer whose job it is to find out that in order to reach the ultimate destination station  what is the local link that i have to take here ? for a switch it is slightly simpler ; it is strictly a local decision but for the router there is a global implication ? what is the local link on the output side that i must take for a signal coming from input line to a particular destination  so that i will finally go through all these connections through various other routers to reach my destination  whereas for a switch the job is a little simpler in the sense that when the signal is coming from one incoming link and is going to go out to a particular outgoing link  which is known at the switch  how to set up the connection ? actually  a router is a switch with some added functionality  refer slide time 05  34 ? 06  22  many connections will need paths through more than one switch  so that is when we required routing static routing uses the same approach all the time ; that means same destination is routed through the same path all the time a dynamic routing may allow changes in routing depending on traffic ; that means some part of the network may be congested  so it might want to avoid that path and go to the same destination through some other path as we have seen at least in telephone networks  because of the way we distribute the telephone numbers to subscribers  it is easy to route you can look at those incoming digits and just decide on the route switching is the local connectivity between input and output lines now we will discuss some basic concepts and terminology  refer slide time  06  31 07  21  one is the transfer medium ? transfer medium in a switch  could be buses  electronic buses  through which you can send a stream of cells queues are memory locations that temporarily store cells switches often require some queues ; the queues may be on the input side or the queues may be on the output side ; queues may be in various places so we will look at all these different cases but these are temporary memory locations  where we temporarily store some cells till we know what to do with it or forward it to its destination a switching element is the building block for the switch a switch may be either on or off and if it is on that connection is there or if it is off the connection is not there sometimes the switch is like this ? at a particular point a switch may connect either to one point or to another point a switch is just a simple element and in a big switch  we have a lot of these switching elements these switching elements form the so-called  refer slide time  07  58 08  09  switching fabric ; that means the shape of the switch  like  how the switches are organized so that all the incoming calls can be handled there is a term called blocking and non-blocking  refer slide time  08  18  08  35  blocking means a network is unable to connect stations because all paths are in use a blocking network allows this this is used in voice systems and the main reason is that we have short-duration calls the point is that there are so many subscribers  may be thousands of subscribers ; if we want to provide the switching capability to the maximum possible extent  that means  if everybody is busy talking to somebody or the other  that means  if every subscriber is using this  then if we try to provision our equipment based on this assumption that everybody may be talking to everybody at the same time  then the switch will become very big and very expensive so what the telephone people have done is that they have made an extensive study of how many people are likely to talk during a particular time of the day  especially bell labs in usa they were the pioneers and a giant telephone company  which was the largest at one point of time  and later was broken up etc during the early part of may be 1940s and 1950s  they made a very extensive study about people ? s calling habits they found out that during the busy time or the peak hour when all the officers are open  how many people out of a subscriber base are likely to call that is one kind of statistic they collected ; and the other kind of statistic they collected is that if one person starts talking what is the distribution of the call duration ; for how long is this particular subscriber likely to hold on to that line they found the statistical distribution ; and based on that they decided that if i provision this much in terms of our switching elements and switching capacity  then almost all the time everybody will be able to get the service  but exceptions may occur this is based on some statistical study at some particular point of time it may so happen that the number of subscribers who wanted to speak is just larger than the overall switching capacity that you have in that case some of the calls will be blocked i am just talking in terms of switching capacity this kind of blocking may occur elsewhere in the network also we provision based on some statistical averages but at exceptional times  for short durations of time  we may have to block some of the calls because we do not have the capacity to handle so many calls at the same time so that is a situation where it is blocking and what people try to do is that they try to calculate the blocking probability  which may be 1 %  2 % or 5 % ? 5 % is quite high  as nowadays people do not even like that that is the blocking probability that we wish to achieve ? we are provisioning this much for these many subscribers  refer slide time  12  08 ? 12  38  non-blocking permits all stations to connect in pairs at once this may be used for some data connection where blocking is not allowed or blocking is not acceptable under any circumstances if you want to make it fully non-blocking  that solution would be more expensive than if you allow a limited amount of blocking of course a high degree of blocking will not be acceptable to the users at all  refer slide time  12  39 ? 13  21  there are various kinds of switches i am trying to present here a taxonomy of different types of switches ? not that all actual switches neatly fit into the boxes some of them take some portions of this and there is some kind of a hybrid or mixture but this is one way in which the different types of switches can be classified we have space division switching and time division switching like in multiplexing we have a time division multiplexing and frequency division multiplexing  here we have space division switching and time division switching time division switching is very close to time division multiplexing as we will see now space division switches  refer slide time  13  37 14  22  maybe single stage or multistage in single stage we have a switching matrix ; then we have a knockout network  shuffle exchange networks in multistage  it may be a single path or multipath like delta networks or benes networks  sorting networks  etc in time division switches we have shared memory and shared medium shared memory could be a central memory or shared medium could be a bus or a ring etc ; so these are different types of switches we will not have the time to look at all these in detail so we will just look at some of the very common types of switches that are used  refer slide time  14  23 ? 15  25  let us first talk about space division switching it was developed mainly for analog environment why do we call it is space division ? because the different calls go through separate physical paths that is why they are called space division switches  unlike time division  where different calls may be going through the same physical path at different time slots ; we will come to that when we discuss time division switching but in space division switching  different calls go through separate physical paths the simplest of space division switches is the cross bar switch the number of cross points grows as the square of number of stations ; loss of cross point prevents connection ; if a particular cross point becomes bad it is an inefficient use of cross points ; all stations are connected but only a few cross points are actually in use ; and this is fully non-blocking let us first have a quick look at a cross bar switch a cross bar switch is very simple  refer slide time 15  32 16  36  what do we have in a switch ? in a switch you have n input lines coming on from one side and n output lines ? you have to connect some of the line let us say i want to connect this particular line to let us say this particular output line  i.e  the fourth input line to be connected to the fifth output line i want this particular switch to be on and the other switch off if this particular switch is on  there is a connection between this line and this line so i have a direct physical path between the fourth input line and the fifth output line and each of these crosses that you see is a single switching element and as you can see  since there are n lines i.e  if there are n lines on the input side and n lines on the output side  we have n2 switching elements  which actually is quite a lot  refer slide time  16  37 16  38  so if you go back  refer slide time  16  38  17  49  the number of cross points grows as the square of the number of stations if a particular switch  which is at the crossing point between the fourth input line and the fifth output line  if that particular switching element  somehow has gone bad  then four and five can not talk to each other ever that is again another drawback of this kind of switches of course it is an inefficient use of cross point ? at every cross point we have a switch and all stations are connected but only a few cross points are actually in use at most n/2 cross points can actually be in use  whereas we are using n2 cross points  which is a really a poor utilization of the switches one good thing about this kind of switch is that it is totally non-blocking ; that means  all pairs of subscribers can talk to each other at the same time  refer slide time  17  50 ? 18  52  the cross bar switch is the simplest form of n input lines and n output lines that feed to n2electronic switches if all lines are full duplex  that means all lines allow communication in both the directions  then we require only half the number of switches we possibly do not require the diagonal switches  the switches which are in the diagonal i do not want to talk to myself ; the other thing is that only either the top half or the bottom half of the switches ? top half means top half of the principal diagonal or the bottom half of the principal diagonal ? only those switches are required  in general n2/ 2 switches would be required if you have full duplex lines the other problem about the cross bar switches is that apart from the number of switches  the number of i/o pins is also a problem if you want to a make let us say 1000/1000 line switches for 1000 subscribers  you may have 1000 incoming lines  1000 outgoing lines  but how do you put all these 2000 pins on the chip ? it also becomes a problem ? people have gone to more sophisticated design for switches they are classified in various ways  through input queuing  output queuing  refer slide time  19  32 ? 19  34  or central queuing we will look at these one by one later on  refer slide time  19  35 20  05  let us look at another kind of a space division switches known as knockout switches  which were introduced in 1987 by at&t bell labs essentially we require using output queuing over here we will look at output queuing and the issues in detail later on if the switch is trying to pump in more number of bits or more number of bits to a particular output line than that an output line can handle  you have to either drop them or you have to store them somewhere  maybe in a queue  and that queuing is associated with the output ports that is what we mean by output queuing so n inlets  refer slide time  20  26 ? 20  44  and n outlets operate at the same speed transfer medium consists of n broadcast buses  one for each inlet n bus interface units  one for each outlet  takes input from all the broadcast buses each delivers an output to its own outlet let us take a look at the figure  refer slide time  20  47 21  52  so we have the n input lines on one side a call may come from anywhere  let us say subscriber 1 is trying to call to subscriber 2 so what subscriber 1 will do is that it will broadcast the signal over this bus there are n buses over here and all these n bus interface units are connected to all the buses  each of the bus interface units ? 1  2  3 up to n ? will receive that signal from n but this bus interface unit 2 knows that this is supposed be meant for me so he will allow this signal to transfer to the output line  whereas others will simply ignore it this is again another fairly simple scheme we have  of course  reduced the number of switching elements that are required  refer slide time  21  53  22  01  it is not using a bus  and you will not get a very fast switching  but this works fairly well if you want to go beyond this  that means  you do not want so many lines  etc  as i said and even if you have 1000 subscribers you want to service from the same switch  even in knockout switch you have 1000 buses inside  which is not technically feasible so we go to the other kind of switches which i showed earlier ; namely  multistage switches and multistage switches have one of the most commonly used switching architecture even today  so far as space division is concerned in multistage switches we may actually provision less number of switching elements than are strictly required for the highest use  as we want to reduce the cost of the switch all the input lines can go to all the output lines and it is broken up into several stages as we will see  refer slide time  23  19 ? 24  04  the advantage of a multistage switch is that it has reduced number of cross points  more than one path through the network ; this increases reliability as you remember  in our simple cross bar switch  if one particular switch is bad that particular pair of users can not talk to each other ; that is not really desirable since there are more than one path through the network  even if one particular switching element becomes bad they are still able to communicate the control becomes more complex and it may be blocking so  as i said  in most of the cases it will not block  but in some cases  it may be blocking  refer slide time  24  05 ? 24  36  they have a large number of inlets and outlets which are  sort of  grouped into small groups so that these problems with pins and input lines are not there often they have identical switching building blocks  forming a fabric so there are many switching building blocks consisting of some number of switches and such modules are used all over the switch as you can guess  in a multistage switch  we will have different stages the input will come from one side and will go to one stage  then may be another stage  and a third stage  and then may be out so there are multiple stages and each stage is broken up into small modules these modules may or may not be identical  so it is sort of cheaper to manufacture and it also handles all the pins  etc  in this fashion so it often has  refer slide time  25  11 25  15  identical switching building blocks forming a fabric  and a fabric has multiple stages  refer slide time  25  16 ? 26  16  this is just one example of a small multistage interconnection network so as you see  this is one stage  this is another stage and this is the third stage there are three stages over here each stage is broken up into small blocks ; so this is an 8 ? 8 sort of switch if you remember to have 8 ? 8 switches in our cross bar switch  we require 64  or even if we take half of it  maybe 30 or above 30 switches here each is a 2 ? 2 switch ; so actually you can handle it with only one switch the number of switches has come down drastically but there are problems  as we will see  that it may be blocking kind of system  refer slide time  26  17-28  01  so how do you know that something  which is coming over from an input line  would reach the particular output line ? suppose the output lines are numbered and since there are eight output lines  we can code them using these three bits  from 000 to 111 in a binary fashion this particular line  which really is the input line number 011  wants to have a call to the output line number 101 if you know to which output line you want to go to  1  0  and 1 really become control signals for these switches on the way so 1 means go to the lower output line ; 0 means go to the upper output line and you can see that those that are starting with 0 come at the top  those that are starting with 1 come over here and that is the same binary number order that we are maintaining the switch is simply a rule that if it looks at bit  if it is 0 it connects to the upper line and if it is 1 it is connected to the lower line so 1 will connect to the lower line  0 it will connect it to the upper line 1 over in this stage will be connected to the lower line and we will reach 101 this is almost self routing through the switching fabric and because of this  routing is easy  refer slide time  28  02 ? 28  34  delta network is one kind of a multistage interconnection networks it is constructed of identical k ? k switching elements it has regular interconnection patterns suitable for a large-scale chip integration it is self routing as we have shown  requiring log_k n number of digits and a log-k n number of stages each  with n/k switching elements so  refer slide time  28  34  29  53  this is the picture that we had seen earlier ; this is the diagram of a bigger delta network  may be with 16 input lines and 16 output lines as you can see  this is a four-stage switch  because in order to code for 16 lines  it will require four bits from 0000 up to 1111 each bit decides whether that particular switch connects you to the upper output line or the lower output line and from any of these input lines there is a path to any of the other output line this is the 16 ? 16 banyan network as you can see  by doing it in this multistage fashion in a regular cross bar switch  while we require some thing like 125 switching elements here  you require only  say  32 switching elements so the number of switching elements is much less  refer slide time  29  54 ? 30  11  but there may be a problem of contention in a delta network cells can be simultaneously switched through the network however cells may have to contend for the same switching element let us go back to the earlier diagram  refer slide time  30  13 ? 30  39  you see this  say  0000 wants to talk to 0001  so he will simply go like this and similarly another line over here  may want to go straight down to somewhere over here so many calls can go through together but this is not always the case there may be a contention for the same switching element as we will see in this diagram  refer slide time  30  42-31  58  let us say 0 1 1 0  so 0  1  and then 1,0 ; 0 will come here  then 1 will go straight ; 0 1 1 0 ; and then 0 1 0 0 so 0  upper 1  1  and you see that we have potentially got a contention for the same switching element from two different points in the network ; it is sort of converging to the same switching element before it can proceed so there is going to be a contention over there if there is a contention  obviously both of them can not be handled at the same time ; either one of them has to wait you have to make it wait by putting it in some buffer  etc  or one of them will have to be blocked or dropped although we save on the number of switching elements  sometimes we get a contention some ways to reduce contention is  refer slide time  32  26 ? 32  37  to provide buffers in every basic switching element  increase the internal link speed relative to the external speed  and use a backward feedback these are different sort of techniques to reduce contention one is of course providing buffers as we have already discussed ; you could increase the internal link speed relative to the external speed that means if the internal link is much faster than the external speed at which you are pumping in  then it may be able to handle both of them so far as the input streams  refer slide time  33  04 ? 33  31  or the output streams are concerned  they will not notice the faster switching that is going on within the switch so that they will think that there is no contention you can use backward feedback ; that means  at some later point in the main if you find that there is a contention then give one of them feedback so that it sort of re-circulates  refer slide time  33  32 ? 34  07  the other ways are to use multiple networks in parallel ; provide multiple links internally between switching elements ; and shuffle cells first so that they do not collide later this is also another kind of switch that is quite common ; it is known as the batcher banyan switch we have seen the banyan switch part ; in batcher part there is some shuffling of the input cells so that in the banyan part they do not collide by contending for the same switching element  refer slide time  34  08 ? 34-57  in the space division switch  the big switch is broken into multistage smaller chunks i will show a three-stage switch suppose i want an n/n switch ; suppose it were a cross bar  then it would be an n/n switch this is replaced by n/n number of n ? k switches in the first stage  followed by k  n/n  ?  n/n  switches in the second stage  followed by n/n number of k ? n switches in the third stage so let us take a first look at a simple example  refer slide time  34  58-35  57  so this is a three-stage switch ; in the first stage  we have 10 of them so n is 10 ; and k is 2 so we have 5 ? 2 switches we have 1 2 3 4 5 at the input stage  so n/n  that is  two of them or 5 ? 2 switches and then two 2 ? 2 switches followed by 2 ? 5 switches let us say 5 wants to speak to 2  so 5 comes here ; gets switched in this fashion to 2 ; and 6 wants to talk to 1 so 6 goes to this switching fabric in this fashion in the third stage  refer slide time  35  58 ? 37  59  if you take the general case of n = 1000  n = 50  k = 10  this reduces the number of switches to 24,000 from about 500,000 because 1000 ? 1000/2 is 500,000 ; that is  the number of switching elements you would require for a simple cross bar kind of switch  whereas by breaking it up into three stages in this fashion taking this particular value of n = 50 and k = 10  you reduce the number of switches to 24,000 however  the switch can handle only n * k/n so if n = 1000 and k = 10 and n = 50  so n * k/n would be 200 so only 200 simultaneous calls  so only 400 users can use it at the same time as i mentioned  it may be fairly alright because you have a phone but you are not talking on that phone all the time ; most of the time actually it is just lying idle if the telephone company makes a good study and finds out that 400 is the maximum number that is sufficient for a very low blocking probability even during busy hour  then that is fine  refer slide time  37  34 -38  24  the general scheme of this is that you have n lines fitting into each of these n/n modules at the first stage so you have a total of n lines fitting into one module so you have n ? k kind of switches so that this switch can be directed to any of the switches on this side so there are k of them here there are n/n switch modules in this first stage  k modules in the second stage  and again n/n modules in the last stage  third stage so you have  n/n + k + n/n  modules  refer slide time  38  25 ? 39  28  in the multistage interconnect network  you may either have a connection based kind of system  that means  once a connection is made it is permanent till the call is held  as we have in a usual telephone network  or it may be a cell-by-cell  that means  although the user sort of goes on having the conversation  his stream of bits is divided into small cells and each cell is individually routed through the main many connections will need paths through more than one switch ? cell-based means routing tag versus network-based  which is routing tables so if you have tags it is faster ; if it is table it is slightly slower and as i said  the static routing uses the same approach all the time ; dynamic routing allows for change in routing depending on the traffic so what is a tag ?  refer slide time  39  32 ? 39  35  you remember that in a delta network we were putting 001 etc ; we were encoding the input or the output  specifically the output lines  and then using that address so that the cell can route itself through the network that is an example of a tag  which means that within a switch each of the lines has got some kind of code in it ; you might call it tag this tag will be used for routing now if it is self-routing  like the one shown in delta network  which is very simple  it will be very fast if it is some other kind of tag we are using where such a simple scheme does not hold  then maybe we have to look up to some table to find out where i want to go with tags  cells can be  refer slide time  40  27 ? 40  58  augmented to include extra header information when they enter a switch that means you look at which is the output line it wants to go to and then add the code for that output line on to this cell  which sort of becomes the tag for example  with the siemens atm chip set  each 53-byte octet or byte cell is augmented to a 64-byte cell as it enters the switch so these extra bytes are for putting in this tags  etc this extra information speeds up the routing process  refer slide time  40  59 ? 42  09  in a connection-based system ? we discussed this earlier  but once again ? the path is determined once for the duration of the connection that means  once the connection is made  for the entire duration of the connection the path remains the same all cells of the connection follow the same path now it may be a connection-based system with cells ; that means  once the connection is set up  a particular path is designated that this is the path all the cells  which are originating for this particular call  will take so  all cells of the connection follow the same path this guarantees proper sequencing of cells ; of course  they will now go in an order the connection  of course  may be refused  that means when you are trying to set up a connection you find that in an intermediate stage there is not enough resource there is too much contention for that  so the connection may be refused paths can be determined by a combination of random selection to distribute the load if you remember  in a multistage switch specially  there are various paths from the input to the output ; there are various possible paths  so that if one path is not alright because of some defect or one path is not very good because at that particular point of time that path is loaded  you may route your path through some other path of the switch  refer slide time 42  32 ? 42  49  you might do a random selection amongst the paths to distribute the load  do a careful selection to arrive at the correct destination ? if this and this selection can be done either centrally or in a step-by-step fashion as is done in a delta network  refer slide time  42  50 ? 43  49  we have different types of switching ? we have connections plus tags  you have connectionless  which are tags of course we will look at connectionless switches in more detail when we discuss packet switches so the same discussion that we have now  part of the discussion that we are having here  could also be useful in the next lecture we have connectionless plus tables  that means  if tags are not possible you have to do some table lookup because this table lookup will always be slightly costly in terms of time the kind of speed that you can achieve with a table lookup becomes limited because of that ; but any way if this is again a possibility that you can have connections-oriented system by using tables  you can have connectionless systems using tables ; this is also used in routers specially  refer slide time 43  50 ? 44  40  we will look into buffers in more detail when we discuss packet switches buffers may be complete sharing  which is the best utilization of memory and best for bursts of equal loads complete sharing means everybody can share all  so there is a central memory kind of thing  which is shared it may be a complete partitioning ; naturally complete partitioning would be faster and best for unbalanced load partial sharing means some of it may be centralized  some of it may be distributed  etc there may be various strategies regarding buffers  refer slide time 44  41 ? 44  43  next we come to time division switches ? time division switches follow almost the same principle as time division multiplexing  in which the same line was being used for communication by different channels ; what we did was that we kept a specific time slot for one channel and these time slots go in a round robin fashion so after a particular frame is over  that means  all the input lines have had their time slots then one particular channel will get back its second time slot  and so on so it will go on in a round robin fashion we use the same principle in time division switches ; in time division switches the bits or bit streams may follow the same path  that means  different calls are following the same path but they are using different time slots so a fixed  refer slide time  45  55 ? 46  17  the number of bits from each line is read into a ram in order ? this constitutes a single frame that means a fixed number of bits from each frame  each line a mapping table reads from the ram in a different order for switching from line j to line k  the j th location is read in the k th step  refer slide time 46  18 ? 47  27  this is shown here suppose these are the input lines 0 1 2 3 4 5 6 7 the output is read in a somewhat different fashion 4 7 6 3 0 5 2 1 that means actually whatever the 0  its line 0  puts in this slot would be read by line 4  because line 4 is reading in that time slot so line 0 is  in effect  connected to line 4 similarly  line 1 is connected to line 7  line 3 is not connected to anybody it ? s idle at the moment  so 3 3 ; similarly a 5 5 ; so it is idle similarly  just as we have 0 4 we 4 0 ; so this is a bidirectional communication  duplex communication going on so in the first slot or  let ? s say  the 0 th slot  the line number 4 reads it and in the 4 th time slot  line number 0 reads it so line 0 is switched to line 4  1 to 7  etc lines 3 and 5 are idle  refer slide time 47  28 ? 48  29  basic components of a tdm switch ? we will not have the time to go into the details of this it has a dedicated internal buffer memory  distinct from the ram memory used for program code and data and this buffer will sort of contain the bits which are to be written into and read often on a completely separate physical module  that means  printed writing card usually it has at least two dma bidirectional serial ports if you have studied operating system  that is direct memory access  which is used for fast communication without the intervention of cpu  that is dma of course we want this as fast as possible ; so dma bidirectional serial ports  input and output  are simultaneous on each port with dedicated hardware for each operation so our memories are very special ; that means  they have multiple port memories and serial i/o on each port this is a very simplified block diagram  refer slide time 48  32 ? 49  25  usually in your line  the bit stream will come serially but on the bus internally we want to put them together  maybe 1 byte at a time so we have a serial to parallel converter for getting 8 bits and converting it to a byte  which will be fed in parallel so database goes into the buffer ram memory ? there is a connection memory which is a mapping table that we have talked about so when you are setting up a connection  you will make entries into the connection memory we will just have a look at the connection memory  that is  what we have already seen and then it gets consecutive address generated here and then from the buffer memory once again it goes to the output side and then there is a parallel to serial converter for feeding into the individual lines so this is the data bus and this is the address bus  refer slide time  49  26 ? 49  47  connection memory contains a list or table for mapping input time slots to output time slots when a call is set up  you make an increase in this connection memory the pointer data values are set from the cpu on a per call basis the data output of this memory is used as an address to access the buffer ram ; decimal representation is shown  refer slide time 49  48 ? 50  02  this is another example so in address 0  we have pointer or content is 14 ; that means line number 0 may be connected into line number 14 in this example  refer slide time  50  03 ? 52  06  now just one more thing ? that assuming 1 byte is read from each line  each frame is to be processed in 125 micro seconds you remember how this 125 micro second comes about ? remember we talked about the voice channel  and each voice channel requires a capacity of 64 kbps as we mentioned so 64 kbps means that what is the gap between every bit in 1 second ? there are 64,000 of them so it would be 64 kbps if we handle 1 byte at a time  it will be 8 kbps and 1/8 kbps would be 125 micro seconds so this is the basic time for frame and in the entire time division hierarchy  as we will see in time division multiplexing  this 125 micro second is a very sacred figure ; this is what everybody sort of sticks to so that a voice call can smoothly fit into this of course if you want to have a higher speed channel then what you might do is in the same 125 micro seconds ? slot  you may pack in a large number of bits that is alright but we keep the frame size to 125 micro second if the memory cycle time is t micro second and there are n lines we have 2nt  because each of them has two operations  one read and one write so 2nt would be 125 so a 1000 line switch will require a cycle time of about 60 nanoseconds that is the kind of memory speed  and as we will see  as the number of lines goes up or as the speed of switches goes up  this memory speed becomes a constraint as with space to division switches  it is possible to device multistage switches  refer slide time  52  07 ? 53  15  now just one last point about capacity allocation ; i mentioned that the service providers actually want to provision less than the maximum possible but what would be the blocking probability if you provision it in a certain manner  let us say  in the c stage switch ? so i will just give you the formula if the average call arrival rate is  say  ? calls per second  which is an exponential distribution as people have seen for a voice network ? for data network it is different ; we will come to that in the next lecture ? the average holding time is m seconds per call  which is poisson distribution the call load in erlangs is a = ? m this is called the load and given a load a  we try to allocate a channel capacity n such that the call blocking probability b is at an acceptable level  typically around 1 % or less this is the typical figure that we try to achieve the difference is that within the busy hour  we get not more than 1 % call blocking probability and the formula for calculating this is this  refer slide time  53  16 ? 53  39  b is equal to a * * n / n ! *  ?  a * * i/i !   ? so you can use this formula or may be write a small program using this formula to calculate the call blocking probability giving values of a  n  i  etc  refer slide time  53  40 ? 54  19  so you can verify this this is one last this thing ? verify using erlang-b and stirlings approximation for handling the factorial  that for large n  say 100  even with 70 % average channel utilization  that is a/n  we get very small blocking probability but of course  if the channel utilization or a/n becomes 80 % and then 90 %  what will happen is that you will find that your channel probability is going up and then you can do the same thing for a small n and try to see what happens thank you  refer slide time  54  22  54  25  good day so in this lecture we will discuss about packet switches that means packet switches are switches which as specifically designed for handling packets we have seen the telecom switches like space division time division switches etc ok we have also discuss something about multistage switches which are used quit often in packet switches also but in this lecture we will specifically discuss about a packet switches  refer slide time  54  59  55  01  which is at the heart of all most all your computer networks ok so  refer slide time 55  11  55  26  first just to give you some motivation that why do we require switches the performance of a lan can be considerably enhanced by moving over to switched lans moving over from what if you remember that some of the earliest kinds of lans that we have just seen a brief glance of some of them used shared memory like a hub or a bus etc now in a if you are using a shared medium what is going to happen is that only two nodes connected to this lan can communicate with each other at a particular point of time where as if you have a switch multiple pairs of users or multiple pairs of nodes can communicate with each other at the same time so naturally you get a very good boost in performance of the over all lan so that is one reason why we require switches of course we require switches in other place also  refer slide time  56  18  56  23  multiple distinct source destination pairs are able to communicate at the same time thorough a switch so that is why we require a switch in  refer slide time ? 56  24 56  34  packet networks a packet switch needs to look at the header of each packet to find the destination address of the packet so you do not have to do a full scale sort of lookup of a very big table a refer slide time 56  43-57  52  so you have a you lookup only a very small table of v c i and v p i in the v c table replace but of course virtual connection just as their setup they may be taken down so replace old v c i v p i with new ones forward cell to outgoing interface transmit cell onto link so this is the this is how an a t m switch works so if you so you see that the basic concept of the cell remains the same that means we have we have some we have to find out the output port from the address and the here the address once it is setup after that the output the address is simply a small table of v c i v p i which makes this lookup process much faster so this together with the fact that the cells are of same size so you can develop your hardware in such a way so that this a t m switches will work very fast otherwise the rest of the switch and the switching principle remains the same as we have discussed already  refer slide time 57  53-58  08  next comes comes ethernet switch which is perhaps the common most common type of switch that you see almost every where as a matter of fact this number of ethernet switches which are being used and which hare being put to use the almost regularly is so high that the cost of this switches have also come down you know because if if you produce something in very large number you can amountize the cost of is development etc over a large number of switches so this cost of the switch comes down so ethernet switches have become very cheap these days ok switch which are used to cost may be a lack or so may be ten fifteen years back cause only a few thousand rupees today so this is the most common type of switch which we see every where computer networks prof sujoy ghosh department of computer science and engineering i.i.t  kharagpur lecture name # 8 packet switches  refer slide time  00  40  good day in this lecture  we will discuss about packet switches ; packet switches are switches  which are specifically designed for handling packets we have seen the telecom switches like space division  time division switches  etc we have also discussed something about multistage switches  which are used in packet switches in this lecture  we will specifically discuss about packet switches  which are at the heart of almost all your computer networks  refer slide time  01  22 ? 01  37  first  to give you some motivation  why do we require switches ? the performance of a lan can be considerably enhanced by moving over to switched lans if you remember  some of the earliest kinds of lans that we have just seen  a brief glance of some of them  used shared memory like hub or a bus if you are using a shared medium  what is going to happen is that only 2 nodes connected to this lan can communicate with each other at a particular point of time  whereas if you have a switch  multiple pairs of users or multiple pairs of nodes can communicate with each other at the same time naturally  you get a very good boost in performance of the overall lan ; that is one reason we require switches we require switches in other place also  refer slide time  02  28  02  48  multiple distinct source destination pairs are able to communicate at the same time through a switch that is why we require a switch in packet networks a packet switch needs to look at the header of each packet to find the destination address of the packet if you remember  when we discussed about connection-oriented and connectionless systems  telephone networks are predominantly connection-oriented  although connectionless technology is also getting there data networks are predominantly connectionless although some connection-oriented network technologies are also used in some parts of the network today when we are talking about packet switches  we are specifically talking about connectionless systems in a connectionless system  since there is no fixed connection between the source and destination which is held during a session etc  such concepts are not there so each packet is on its own and that packet is perishable and contains data from the source node  which is meant for the destination node it will contain lots of others things like headers  etc  which we talked about earlier but now we are specifically interested in the packets ? that means  the data stream has been broken up into packets so each packet must contain the destination address of where the packet will finally reach because since there is no space connection  each packet must carry  refer slide time  04  12 ? 04  38  the destination address and this destination address is sometimes also called the mac address ; mac is for media access control there are various types of mac address we will come to that later on depending on the address  the packet is forwarded to another port what happens in a packet switch is that through one port  some data has come in ; this data will contain a mac address  this mac address is the address of the node  the address of the destination where it is supposed to reach  the destination node this destination node ? the switch has to know that this destination is connected to this particular outgoing link there is a question of mapping from the mac address to a particular output line and if that output line has a tag as we had seen in the earlier lecture on some of the switches that they use tags if they have a tag  depending on this mac address  this tag could be sort of maybe looked up from table or something and added to the packet so that packet can make its way to the switch and reach the final  correct output line  and from then on to the destination station  refer slide time  05  42 ? 06  57  depending on the address  the packet is forwarded to another port since more than one packet may arrive at different ports destined for the same output port  they may have to be internally queued this was also discussed in the last lecture  that if we have more than one packet which is sort of destined for the same output port  obviously we can not take both of them together one of them has to wait in some memory or in some buffer or maybe it will be queued because there maybe other packets coming up for the same port so they will be all queued and this queue could be serviced by the output line 1/1  that means 1/1 will be popped out of the queue you may queue it right at the input  if you see that the output port is busy  you may queue it at output port or somewhere in-between not dropping packets and being fair to all input lines are desirable criteria for packet switch design that means we do not like to drop packets ; we want to buffer them as far as possible of course if a switch is of small capacity  which is swamped by a huge number of incoming streams  etc  maybe for the same output port or something the queue  the switch may be forced to drop some packets but usually we would not like to do that we would not like to drop any packet and at the same time we do not want to starve any particular input line in general  we like to serve all of them in a fair fashion these are the criteria we use for evaluating a design for a particular packet switch  refer slide time  07  37 ? 07  56  the first-generation packet switch went through several generations  we are in the 4th generation or something anyway  the 1st generation packet switch is here  it simply uses a cpu  stores packets received online cards in its main memory these packets are routed to output queues  the packets in the same queue are scheduled by software for access to the output line card let us look at this  the simple kind of a situation  refer slide time  07  56 ? 09  27  we have a cpu with some memory there are particular input and output queues ; these are the line cards what are the line cards ? this is a 6 port switch as you see ; there are 6 lines  and there are maybe so many ports these ports  some of the functionalities are collected together and they are implemented in a small dotter card kind of thing  which is called a line card a line card will handle just a few of the lines  and there will be several line cards on the same switch if you go back these packets are routed through the cpu  which does the lookup ? it looks at the mac address  the particular output port to which it must go cpu will have all that information the cpu looks up and then it directs that packet to the particular output port there maybe a queue and this queue is scheduled by software for access to the output line card this was the first-generation packet switch  which is fine ? excepting that because of this cpu and memory storage  looking up  tables  etc  it takes time these switches were  refer slide time  09  27 ? 10  56  comparatively slow next we came to the second-generation switches here some of the routing functions are involved do you remember what the routing function is ? the routing function in general means that we look at the destination address and decide which output line this packet must go to and this routing function  if you are doing centrally  naturally it will be slower you can distribute it somehow  like distributing some of the routing functions to the line cards themselves line cards which can switch locally if the destination is on the same line card ? there is another point you can do that ? and if a particular line cards sees that the output destination will go through the same line card through a particular line  then the line card need not send it to the cpu at all this can switch locally so that was one improvement over the first-generation switch secondly  there is contention for the shared bus ; that is of course a problem  a contention for the shared bus  and packet switch can not be routed and the same is handed over to a central processor this can not be the local line card  which does not have enough intelligence and knowledge to know how to route it in that case that is sent to the central processor  refer slide time  10  56 ? 11  32  in third-generation switches  the shared bus is replaced by a switch fabric  which is an interconnection of buses and switching elements the shared bus is replaced if you remember  we can use a bus for broadcast  etc  like we did in knockout switch that may become a problem because of the contention for this shared bus so we replace that by the switch fabric  which is the interconnection of buses and switching elements  refer slide time  11  32 -11  52  when a packet arrives in this third-generation switch  which we will discuss in detail  when a packet arrives at an input port it is tagged with the output port id by a control processor the switch elements automatically routes it to the correct output port  as we have seen  this routing takes place in a min the buffers in the switches can be associated  refer slide time  11  52 ? 12  21  with the input or the output or with individual switching elements the switch fabric may be cross bar  broadcast  banyan or other configuration we have seen some of these configurations ; remember the cross bar switches ? that means just a simple connection of switches ; then we have some broadcast like the knockout switch  maybe a banyan like a multistage switch or other kinds of configuration  refer slide time  12  23 ? 12  54  there are three types of switching fabrics  one is that we are using through the memory  other is one which you switch through a shared bus or you have a fabric of switching elements like cross bar ? it is the simplest kind of fabric of course you can have more complex fabric over here as we have seen  like multistage interconnect network these are the three different types of switching fabrics that we have  refer slide time  12  54 ? 13  48  switching via memory  this was the first-generation routers as we have discussed packets are copied by a system  a single cpu now  speed is limited by memory bandwidth at two bus crossings per datagram  what is happening is that from the input port  some packet is coming through the system ; the bus sent to the memory where the cpu is looking into it and then decides where it must go  then sends it back to the data bus in that output port  which catches it and throws it out this is the sort of part which gives a bottleneck to this entire scheme because this bus part tends to be slow  refer slide time  13  48 ? 14  04  in modern routers  as i mentioned input port processor performs lookup  copy into memory  etc an example is ? this is short of commercial system ? like cisco catalyst 8,500  which would take this kind of approach  refer slide time  14  04-14  40  switching via bus  datagram from input port memory to output port memory is via a shared bus bus contention  switching speed is limited by bus bandwidth you have very fast buses like 1 gbps for cisco 1900  which is low and cisco switch  which has now been discontinued it has sufficient speed for access and enterprise routers  not regional or backbone but this bus structure does not really do well for higher level switches and one example of bus structure is a knockout switch we have already discussed  just to recapitulate  we have n bus interface units  one for each outlet and each takes input from all the broadcast buses ; each delivers output to its own outlet this is  if you remember the diagram of the knockout switch  you have these buses on which the data is broadcast from the input side in the output side  particularly bus interface unit for which it is destined  it catches the particular packet ; others ignore that packet and so it is queued up over here ? like q1  q2  q3  q4  etc  and it is pumped out as per this queue  on a first come first serve basis ; this basis could be something else also if you want to have some other pair  also in particular packets  etc  it ? s possible but in the simplest case  this is a first come first serve kind of queue  refer slide time  15  47-16  16  switching via an interconnection network are just as in the other kind of switches we have seen it overcame bus bandwidth limitations  that is the basic implication as we want to go faster and faster  we have to migrate from buses to an interconnection network we have already seen banyan networks other interconnection was initially developed to connect processors and multiprocessors  etc it became useful in this class of packet switches  refer slide time  16  17 ? 16  29  advanced design may involve fragmenting datagram into fixed length cells  switch cells through the fabric ? this was the idea for example  this is done in  let us say atm switches in atm switches what they do is that whatever the packets may come in the form of packets  it may come in the form of streams originally ; it is finally broken into fixed length cells the good thing about a fixed length cell is that you can  if you know length in advance  then you can design hardware so that it can be handled in faster a possible way although the atm cell has 53 bytes inside the switch  it is something like 64 bytes  these 64-byte cells are fixed length cells and they are pumped as fast as possible it is for designing very fast interconnection network  in which we fragment them into fixed length cells cisco 12,000 switches gbps through the interconnection network  when you go to this gigabit kind of switches  you require an interconnection network or maybe something more as we will see  refer slide time  17  38  17  47  as was discussed earlier  we have three kinds of approaches to handling  contention and buffering  etc one is on the input side  another is on the output side ; the other one is somewhere in-between we will discuss these one by one ; first let us come to the input side but before we go forward  i will digress a little bit  i will just explain a little bit about what is involved in the input side  the input part of the switch if you remember in our discussion about the several osi models  in the bottom-most layer  we had the physical layer above that was the data link layer  above that we had the network work layer  above that we had transport and other layers  which do not occupy us at the moment we will look at these later but we are having the physical layer  the data link layer and then network layer or the routing layer  these three are sort of very closely linked to switches operation first is the physical layer  that means  physically the link is coming in some fashion that means there will be certain kind of connecters  certain number of lines are coming per input line when we are saying one input line  but the one input line may consist of a number of wires when you are connecting for example  if you are connecting through a cat -5 cable  there are a number of wires which will connect to that particular port ; that is  a single port similarly  in other cases  you have a physical layer  you have an optical connection coming in  and you must have an optical detector over there  etc this also means physical characteristics of the media have to be handled by the input port if you look at this picture again  we have just the input part shown over here  this side is the switch fabric  that means  getting inside the switch so here it is sort of the line card itself first there is a line termination  which takes it specification  etc  from the particular physical layer that is being used we have something like a data link layer functionality an example of a data link layer kind of protocol is the ethernet we will  of course  look at details of ethernet later on what does the data link layer contain ? the data link layer contains the address called the mac address  which we have talked about in the last lecture ? the mac address  the media access control address ? of the next machine to which it is destined please remember that these addresses are addresses of the machine  because the source node knows the destination  let us say it may not know it also directly anyway let us forget about the large network  let us now focus on a particular switch and some nodes connected to this switch this node a knows that i want to communicate with the node b of course node a  b  etc  do not have any meaning at this level so at this level  some particular address is given called the hardware address  which actually is the address of the networking card if it is a computer that you have as a node  then the networking card of the computer  the network interface card  the nic card  it will have some address built into it in the hardware similarly  the destination will also have another hardware address this hardware address is put in this data link layer part and that means the data link layer puts this hardware destination hardware address into the packet  refer slide time  21  53  22  22  this address has to be read and then somehow you have to make a mapping from this address this particular address is connected to this particular line for that you need some lookup  forwarding  and queuing ? if you are doing input queuing  you will do the input queuing also what kind of lookup ? this lookup will tell you that for this particular mac address that is the output line card nowadays  what the switches do is that they keep on sort of getting this information in a dynamic fashion when a switch is connected to a number of computers  the switch will listen to the network traffic and find out all the hardware addresses  which are connected to these different lines it will sort of slowly gather this information and store it inside ; it will know that whenever some particular node is sending  it will give it the source address  also called the source mac address it will now get the source or mac address and this particular mac address must be connected to this line this switch keeps on gathering kind of information  and storing inside ; and part of it maybe stored locally in the line card some part of it maybe stored centrally and there are thousands ? nowadays  a switch can remember thousands of such mac addresses  which are directly connected to the switch there is another level of problem  which is finding about the addresses of remote machines  machines that are not connected to this switch at all machines  which are connected through others switches  routes  etc  in a different country  maybe so that is a different problem ; that is a routing problem  but in the data link problem we are concerned with all the mac addresses of all the nodes which are connected to this particular network which is local so that is stored in this switch ; you will now look up the table  refer slide time  24  07 ? 24  21  and decide that that is the final destination output line  which is the forwarding line and then you do the queuing then you send it to the switching fabric for its final destination  refer slide time  24  22  26  04  we will now talk about decentralized switching  given datagram destination  there is lookup of output port using routing table in input port memory  the goal is complete input port processing at ? line speed ; ? so this is what i want to do we do not want to hold up this particular packet ; you get the maximum throughput at the maximum speed we do not want to hold up any packet in any buffer ? ideally that is what we would like to do so we want to look it up locally at the input port itself  if that is possible but please remember that even if you can do all this lookup business at the line speed at which the packet comes  even then you maybe forced to store the packet for some time because either the output port where this particular packet is headed is already occupied because it is sending some other packet through it at the moment to some intermediate switching element  there maybe a contention for intermediate switching elements  etc for all this contention  etc  we maybe forced to put this packet on hold even if we do the lookup at line speed so we have to queue this in the datagram and the other possibility is that if the datagram arrives faster  then forwarding it into switching fabric and forwarding maybe constrained by all this contention  etc then you have to put it in a queue so what you can do is that you can put it in the input  refer slide time  26  05 27  00  side ; you can buffer it at input called input buffering packets are buffered at the input they are released when they gain access to both the fabric and the output trunk that means both the internal switching elements as well as the output port must be free and then this packet maybe released from the buffer  which is held at the input all elements except the arbiter  which is combinational  needs to run only as fast as the lines so this is a good point about input buffering that elements do not need to be faster than the rate at which the lines operate in some other cases  we will see that at faster speed  this is a big problem  this input buffering  which is known as the head of line blocking let us look at head of line blocking  refer slide time  27  03 ? 28  33  look at this head of the line blocking ? you see what is happening is  here you see there are three input ports  and this is the switch fabric there are three input ports ; the destination is shown by the color  that means the following  red means it is destined for this particular port ; blue one is destined for this particular port ; green one is destined for this particular port see what is happening  the first packet  red  comes here and goes to the output port ; this one is also red  which means it is destined for the same output port although there is no contention in the switch fabric ; it has to wait that is accepted the trouble is  this green one  which was sort of destined for something in the middle  and which could have gone through this fabric at the same time as this red packet  is flowing at the top this has to wait because the queue is blocked by this particular red packet this is called head of line blocking at the head of the queue  there is somebody who is blocked and all the people who are behind  all the packets which are behind  have to wait  this is called head of line output port contention time t  when only one red packet can be transferred so the green packet experiences head of line blocking this is the head of line blocking  which is a problem with input buffering other reason you might require input port queuing is that the fabric is slower than input ports combined input ports combined means it is a special case when all the lines are trying to pump data at the same time what you require is a sum total of all the speed that you get over there  which is not always possible  because then surely there will be contention inside for the switching element so you will be forced to queue some of it at the input head of line blocking we have already discussed that queue datagram in front of a queue prevents others in queue from moving forward so there is queuing delay and loss due to input buffer overflow this is the other thing  which might happen ; what might happen is that this queue is given for each input port at each input port since this buffer is not shared  this one is only for that particular input port naturally the size of the queue is limited ; if it so happens that data is coming in at a fast rate and the fabric is very congested  it is not getting a chance to go through  this queue at the input port may overflow if they overflow  which means that some packets have been lost  it is a very undesirable situation ; but this may happen this is the head of line blocking so the other option is to buffer  refer slide time  30  33 -30  58  them at the output ; that means  you have a queuing buffer management  this part  then the output part is being fed from the switching fabric ; queuing buffer management ; data link processing  that means  protocol decapsulation for the next jump  etc  and finally the line termination once again you have to go to the physical layer over here this is the output port queuing  refer slide time  31  00 ? 31  13  what are the implications of output port ? queuing buffering required when datagrams arrive from fabric faster then the transmission rate  the fabric is pushing a datagram into a particular output line at a faster rate than the output line can pump it out naturally packets are getting accumulated near the output port  so packets are getting queued over there so you develop a queue  refer slide time  3  30 -32  11  there is a scheduling discipline  which we might choose among the queued datagrams for transmission ? which is the one that gets the higher priority  if you are putting some higher priority etc  and even if you are trying to give the same priority to everyone  it might so have happened that we might have kept one particular packet quite long in other places ; we may have sort of fed it back ; i did something with it as it was already late we might like to give higher priority than other packet  etc so there maybe a scheduling which is going on in this queued buffers are maintained for each output line  refer slide time  32  11 ? 32  25  this is a great advantage  because it does not suffer from head of line blocking naturally  because it is been buffering as soon as possible  but there  refer slide time  32  26 ? 3  42  are problems later stages of switch fabric and buffers have to be n times faster in the worst case to avoid dropping of packets within this space this rule makes the switches more expensive another thing is that suppose  in the worst case  all the n inputs  say n ? 1 input lines  are trying to feed data into the same output port what is going to happen is that these packets  which are coming at the line speed through n ? 1 lines  they sort of start converging to the nth port how can they converge ? obviously  if everything is operating at the same speed  then there is going to be contention in these switching elements or one way to avoid this contention is to make switching elements faster that means suppose two of them have to go to the same switching element but suppose that the switching element operates at double the speed ? i am just giving a simple example ? at double the speed but at the same rate at which it is coming  it can push it forward so as you go more towards output port  the speed requirement becomes higher and higher finally  near the output  at the very point of the output port  it has to be n times faster approximately  which is not done like n times faster that is not possible but the point is this is a difficulty which we have with output buffering ; although we do not have head of line blocking  they tend to be more expensive if you have a buffer fabric i mean there is always a sort of trade-off between how expensive a particular switch is and what its performance is naturally if you want to go for higher and higher performance where it is very important  then you need to sort of get switches that are more expensive  refer slide time  34  47 ? 35  31  we have the buffer at the input and buffer at the output the buffer maybe distributed in-between all over the fabric  the buffer is associated with each switching element  which is used when the next stage is not available it needs a lot of memory and quality of connection is difficult to control the point is that if  throughout switching fabric  if you have distributed our buffer  it is very difficult to have any kind of policy about priorities  etc the switches will handle it any way they can  so we can not have a policy which holds over all the buffer because we do not have processing capability over there ; it is just a buffer and a switch  refer slide time  35  32 ? 35  44  this is an example of a switching fabric element you look at this switch in the center we have the switch and then with two input lines coming in  you have a buffer over here if the next switching element is busy  then that particular thing can be put into the buffer  from the buffer it will come back to the switch and then get switched when the next element is available  refer slide time  36  10-37  04  buffers need to be only as fast as an element ? s fan-in ratio  and during overload  the resulting queue is distributed there is one good thing about distributing the buffer ? which is that instead of putting all the buffer either on input side or the output side as the output side gets more and more congested in one particular area  what will happen is that the previous switching element will also get congested they will buffer something and then the buffer will be pushed back what is happening is that there is a distribution of this buffer all over the fabric these later stages need not be all the way up to n times faster than the initial stages  which is not always possible so that is one good thing about buffer fabric  refer slide time  37  04 ? 37  35  we will look at some examples of packet switches  we will talk about three switches that is  ethernet switches  atm switches and ip routers ? these are all packet switches all of them hold very important positions in the world of networking ; we will just look at these one by one  refer slide time  37  35  37  51  let us take up an atm switch first if you remember  in the atm system  we have fixed sized cells ? in the atm world  there called cells  then in the ethernet world  etc  they are called cells packets  datagrams  etc anyway they are called cells ; these are of fixed size  like 53 bytes etc each cell will contain a so-called destination address and the destination address is in two parts  one is called virtual path identifier and the other is virtual connection identifier ? vci and vpi in the virtual connection table what happens is that atm is a set of virtual connections ; what is a virtual connection ? a virtual connection is somewhere in-between a physical connection on one side and completely connectionless  let ? s say ethernet packets  on other side in a completely connectionless ethernet packet  that packet contains the full destination and at each node in-between  this destination is interpreted  looked up into some table  etc  some algorithm is done  and then you decide what is the next step to go to in a connection-orientated system  physical connection through the switches is set up from the source to the destination in a virtual connection  virtual connection is also set up so there is initial set-up time just as there is for connection-oriented  purely physical connection-oriented systems similarly for virtual connection also  we need a set-up phase and then you can start communicating in the set-up phase  all the nodes in-between know that we are going to have a session  where the destination is going to be ; what would be its next address  and so on ? it is computed  let ? s say  as we do in ethernet  etc but once it is computed  it is coded in a very small vci/vpi the port one has to go to for this particular session is identified by the vci and vpi so this computation is done  recomputed at each of the intermediate nodes  and then the virtual connection is set up ; that is all there is no physical connection so as soon as there is some cell  which is for this virtual connection  an intermediate node will immediately know that this is the next step and that is where it will push it so you do not have to do a full-scale look-up  you have  refer slide time  40  29-41  40  a very big table so we look up a very small table of vci and vpi in the vc table but  of course  just as the virtual connections are set up  they maybe taken down so we replace the old vci/vpi with new ones ; forward cell to outgoing interface transmit cell onto link this is how an atm switch works you will see that the basic concept of the cell remains the same ; that means  we have to find out the output port from the address once the output  the addresses are set up  it is simply a small table of vci/vpi  which make this look-up process much faster with this  together with the fact that the cells are of same size  you can develop your hardware in such a way  so the atm switch will work very fast otherwise  the rest of the switch and switching principle remains the same as we have discussed already  refer slide time  41  40 41  55  next comes an ethernet switch  which is perhaps the most common type of switch that you see almost everywhere as a matter of fact  the number of ethernet switches which are being used almost regularly  is so high that the cost of switches has also come down it is because if you produce something in large numbers  you can amount the cost of its development  etc  over a large number of switches  so the cost of switches comes down ethernet switches have become very cheap these days  switches which used to cost maybe 1 lakh or so 10  15 years back  cost only few thousands of rupees today   this is the most common type of switches  which we see everywhere if it is an ethernet packet  then it has to handle the ethernet addresses which are in the packet the ethernet address is actually a 6-byte address  so we will have a 48-bit address usually we do not get to see it as users  because this is 6 byte ; it is very difficult to remember such a long address  and these addresses come in a very random fashion it is very difficult to remember ethernet addresses  but human beings need not remember ethernet addresses ethernet addresses are learnt by the system ; when a system is put in a network where the system maybe a computer or a node or the system maybe a switch or a router  they learn about the ethernet addresses  local ethernet addresses  which are there we will get into the details of ethernet  etc  later on but anyway this lookup is necessary the first step in ethernet switch is look up frame destination address in forwarding table ; if known  forward to correct port ; if unknown broadcast to all ports so this is what an ethernet switch does suppose a packet comes with a particular destination address  and if the destination address is known  the node having this particular address is connected to this particular port then the output port  for this packet ? s output port  is forwarded to the correct port if unknown  you broadcast it to all ports why is this ? if you remember as i mentioned earlier  these switches automatically learn from whatever is going on ; they automatically learn the mac addresses of the local machines but suppose it is put in a network  in the beginning it does not know anything what does it do ? what it does is that  as soon as it comes from some port  it broadcasts it to all the other ports it will listen and find out which is the one that really was successful and there are various protocols for finding these things out ; it will slowly learn it may so happen that this switch may get a packet for which the destination address is not known to the switch in that case  it broadcasts to all the ports then we have  learn source address of incoming frame ? one thing of course is learned from this frame  although the destination address is unknown  it knows the source address ; the source address is the particular incoming link it came in through this particular address must be the node having a particular address  must be connected to this port so that later on if this particular node comes as a destination  it knows where to send it to forward frame to outgoing interface ? that is the other thing  transmit frame onto a link these are the various functions of an ethernet switch  refer slide time  46  07-46  17  we have something called an ip router ; router as you know works at the network layer ; it is not in the data link layer that means a router has a different set of address called ip address ; so ip address is a global kind of addressing scheme there is some scheme for this ip address although not as good as the telephone numbering scheme  but anyway  there is some central control the job of the ip router is to find out this global address that i have got maybe this particular node is in some other country ; it has to understand that for going to that  reaching that final destination  i have to take this link locally then it will send it to the next level  that is  the data link level  for hopping that particular local layer once again  we have the same problem that we have got an address  some kind of destination address  which happens to be an ip address we have to do that  look up  we have to decide this is the port it must go to and then send it to the port so the same switch is used with some added processing capability for doing the process router ? usually it comes with all kind of other functionalities and also it needs some processor of its own and it needs some memory naturally for running programs  etc there is some kind of an operating system which is there in a router  so a router is more complex but the hardware part  the major part of an hardware  is still the switch and the input and output line ports usually a router can handle different types of ports ; for example  usually an ethernet switch will handle only ethernet port so the physical characteristics or the physical layer properties of the ports are constant for all the ports  but a router can cut different types of cards  which can handle different types of ports  maybe serial port  high-speed serial port  and all kinds of things  refer slide time  48  27 ? 49  13  but the basic thing remains the same look-up  the packet destination address in forwarding table ? if known  forward to correct port ; if unknown  well  the router can not broadcast it because if all routers start broadcasting then there will be broadcast all over the world through all the routers  which is not really acceptable at all you can broadcast something only locally by an ethernet switch ; so if the destination is unknown  and it has no way of finding where to send it  it simply drops the packet when it sends  it decrements the time to leave  update header  checksum ? so these are some of the side-effects which it has to go through ? let me not go into the details of this ? and finally forward the packet to outgoing interface  transmit packet on the link as usual  refer slide time  49  14 ? 49  26  this is a router ? once again we have a switching fabric  we have input port and we have output port  and we have a routing processor  refer slide time  49  27-50  55  let me quickly look at some of the issues in developing fast packet switches first thing you must know  understand  is that the demand for communication speed is growing much faster than that for computational speed you know that in computers there is this moore ? s law  which tells that every one-and-half years maybe  the speed doubles ; the memory capacity maybe doubled ; etc but if you look at the way growth has taken place in the communication field  especially with this speed of communication which is required  this is much faster than the similar developments in the computational area there are two reasons for this  one is  of course  people are trying to communicate more people previously were just satisfied with voice ; now they want to send data  they want to upload or download large files  they want to send movies  etc the individual demand for bandwidth is growing  that is one thing ; and the other thing is that more and more people are getting connected to the network as more and more people get connected to the network  the number of possible connections goes up as n2 ; if there are n people  as n goes up  it goes up in the squares so all this is going through the central backbone  etc at the backbone level  the speed requirement is very high  so we require very fast packet switches and we will look at  refer slide time  50  57 ? 51  08  just some issues over here the main bottleneck in an ultra fast switch is the speed of memory used in buffers this is the main bottleneck  refer slide time  51  09 ? 52  17  for example  if you have a 5-nanosecond sram  that is  static ram ? it is the faster kind of ram rather than dram and you have 64-byte wide bus ? you have 5 ns per memory operation  that is your memory speed  two memory operations per packet you have to write it there and you have to read it  so that makes it 10 ns and you have 64 bytes  which means 64 ? 8  that is  512 bits ? so you are handling 512 bits in 10 ns  which comes to 51.2 gb/s this looks like a very high figure but now  we get switches which have speeds of maybe 100 or even 200 gb/s they are very high speed  so the buffer memory is the maximum this is not as simple as that ; ultimately it comes to about 40 gb/s or so we use the fastest possible ram but even that is not enough so we can take some possibility   refer slide time  52  18-52  33  one is the ping pong buffering  which means the packet comes over here there are two buffer memories  one is that either you send it or you put it in a buffer like this  refer slide time  52  34 ? 52  59  for example  when it comes  maybe one of them is being sent while the other is being buffered then this one will be sent and the next one that comes  will be buffered so you are trying to double the speed at which it is operating you require two buffer memories for it that is one approach  refer slide time  53  00 ? 53  01   refer slide time  53  02 ? 53  27  the other approach is to use multiple parallel buffers ; instead of two  you have many of them and you put them in buffer in parallel  so you can go about it maybe in a round robin fashion  put in an multiple buffer and the other bottleneck is that  especially in a router  if that your processor  if that is centralized  then that becomes the bottleneck for speed  refer slide time  53  27-53  35  we have the fork  the so-called fork join router  where maybe you have put a number of routers in parallel these lines are coming at a particular rate ; they are distributed over all the routers so the routers individually do the look up  etc  at whatever speed they operate on then they keep on pumping this side as well as this side ? these are combinational so they can operate very fast ? the look up  etc  is paralyzed these do not have any buffers in them  this part has the buffer so this way  by going in for parallel operation  we try to make as fast switches and routers as possible this speed is going on increasing as they have to increase in order to cater to the growing demand of packet switches  speed of packet switches  and capacity of packet switches  all over the world thank you preview of next lecture lecture no # 09 sonet/sdh this lecture  we will discuss about sonet the word sonet stands for synchronous optical net work sonnet in the usa  canada and japan,synchronous digital hierarchy elsewhere for example in india  we will be calling sdh  this is a time division multiplexing system that transmits a constant stream of information  refer the slide time  55  14 ? 56  57  please look at this figure so we have some multiplexers as the figure shows  we have a multiplexer in this side another which is an output fits to another multiplexer  this multiplexer is going in this direction and then after some time  the signal becomes weak we want a repeater  that means what is a repeater ? a repeater is something which boosts the signal strength  so there is a repeater then it travels some more distance and then there is a repeater again and then it travels some more distance and the other side we have the corresponding demultiplexer and then it fits into the other demultiplexer from repeater to repeater  we call it as section so all from repeater to multiplexer this is also a section multiplexer to repeater  repeater to repeater  these are called sections and then from multiplexer to multiplexer we call it a line at the repeater nothing happens except the signal is cleaned up  signal maybe boosted or there maybe other cleaning operation synchronizing operation etc that maybe done at the repeater but as such the signals which are traveling here are the same set of signals are traveling here at a multiplexer some of the signals may go off in another direction  some signals may go in some other direction etc at the multiplexer there maybe convergence or divergence depending on which way the signals is flowing so that may happen at a multiplexer so from multiplexer to multiplexer  we call it a line and then from the end user part point to end user point  we called it a path  refer slide time  56  57 ? 57  09  the spe does not necessarily start in column 4 which mean that the spe that does not necessarily stay within 1 frame  these are 2 very important points in on it  the point is that all through you have 87 columns but actually the data may start getting transmitted as some arbitrary point inside that 87 columns what is the idea ? why do want to leave something and they only start from the middle ? the point is that if there are some kind of mismatches because of miss matches of rate etc  if everything in the world were absolutely synchronous  all activities an all equipments etc then would have started from the beginning but that is not the case this is where we absorbed this kind of variation and this gives a great flexibility to solve it which was not there earlier other interesting thing is that spe does not necessarily stay within 1 frame which means  that the spe start in 1 frame and then 1 in another  we will just look at a diagram of this let us have a diagram of this  you see the spe  this light green color that really starts from somewhere after leavening some of the root  starts hear in the path overheat is somewhere hear and there are 2 frame is here so the spe is really spent in both the frames computer networks prof.sujoy ghosh department of computer science and engineering iit  kharagpur lecture # 9  refer start time  00  47  good day in this lecture we will discuss about  refer slide time  00  54  01  16  sonet the word sonet stands for synchronous optical network  sonet in the usa  canada  and japan  synchronous digital hierarchy elsewhere for example in india we will be calling sdh so this is a time division multiplexing system that transmits a constant stream of information  refer slide time  01  17  02  10  sdh is actually a successor of pdh few years back we used to have a pdh gear in our telecom infrastructure in the wide area network part that is plesiochronous multiplexing  nearly synchronous   this business of being a nearly synchronous introduces us a lot of problems and complications so  when from this nearly synchronous we went to synchronous  that was a major achievement as well as improvement of services as we will see later on in the pdh multiplexing in which two or more signals are transmitted and nominally in the same digital way and the significant instance occur at nominally the same time this was pdh  refer slide time  02  10  2  34  when sonet was introduced  it had a number of achievements to its credit firstly  it is a standard multiplexing using multiples of 51.84 mbps  that is an sts-1 rate and sts-n ? we will look at this rates this was used as building blocks this is something that is to be understood that why it is that particular rate value is so important the point is when you are multiplexing the original source may come from various sources  and these signals will travel  will get together  will separate out and then mixed with others  etc that is possible only when we have in international multiplexing standard and this international multiplexing standard was first achieved in sonet what happened was previously of course the rate which people used were must less and they had all kinds of differences as technology grew and different sort of countries on different things came together  they came together at a certain rate of transmission and this is a basic building block of sonnet there is a standard multiplexing using multiples of this particular day that in itself was a big achievement  refer slide time  03  50  04  23  secondly  it also first stated the optical signal standard for interconnecting multiple vendor equipment the point was previously of course at lower rates they were all electrical signal standards  sonet has both has electrical signal standard as well as optical signal standard and in this optical signal standard it was possible to bring together multiple vendors to agree on to some particular format  refer slide time  04  23  05  23  and the third achievement in sonet was extensive oam & p capabilities so what are oam & p ? o is for operation ; a is for administration ; and m is for maintenance ; p is for protection maintaining the system  administrating the system  operation of the system etc  are much more flexible in sonet when compared to others what kind of flexibility  etc  that we will see regarding protection also  as a matter of fact it is so strong in sonet  that we will specifically discuss this aspect in a separate lecture when we talk about protection these are very strong points in sonet and that ? s not all  refer slide time  05  23  06  50  the fourth one was multiplexing formats for existing digital signals it ? s not that such a development can take place in vacuum ? that means they had some history and the trouble was that different countries have different kinds of histories it is not feasible for a technology to come and say throw away whatever you have been doing and put this there will never be forklift upgrade ; it is never possible because of cost  practical considerations  and all kinds of things so an evolving technology  in order to be successful  has to bring together previous technologies so that they can merge into this new technology and that was another sonet achievement these existing digital signals ? these ds1  ds2  etc  are different multiplexing standards at the low end by the way there is also ds0 and ds0 rate is our venerable 64 kbps line rate do you remember once again that for voice channels  we require a 64 kbps because of pcm  etc we have already discussed so that is a ds0 rate and these several ds0 get together to form ds1 and so on  and that way  there is a hierarchy of rates  refer slide time  06  50  08  25  then the fifth achievement of sonet was that it supports itu hierarchy  e1  etc so this itu hierarchy was more popular in europe  india  etc and they had rates like e1  e2  e3  etc e1 was something like 2 mbps  and then e2 was 1mbps  and e3 was 34 mbps  whereas the development in usa was on a different track they had a tone rate t1  t2  t3  etc their rates were as above  ds1  ds2  etc what happened was that when sonet got introduced  these two sort of came together and although they are not perfectly identical ? these sonet and sdh ? for most of the part  they are identical ; they interoperate with only very slight modification at the boundaries  which is not very important that is a great thing and that means that the same standard is being adopted worldwide  so that any signal can be transported in any way if there is an infrastructure  we can transport in anyway to another part of world ; there is no problem so bringing together of these  that means bridging the atlantic ocean of these two standards  that was another good achievement of sonet  refer slide time  08  25  08  49  the next is that it accommodates other applications the other applications which were not a part of this kind of hierarchy  like bisdn  that is broadband isdn  also can be accommodated in sonet and that way you see sonet was quite flexible ; and how this flexibility is achieved we will see that later on  refer slide time  08  49  09  32  finally it allows quick recovery from failure  talking about protection  etc so if there is a failure like a line failure or if there is a terminal equipment failure you can deploy a sonet in a particular fashion and sonet can recover from this failure and this retransmission  etc  can take place in a short period of time that is very important when you want to give the so-called career great service  where arbitrary down time is absolutely not acceptable as i said  we will discuss this separately in another lecture  refer slide time  09  32  11  02  some of the broad features of sonet and sdh  it was first standardized by anci/ecsa  sdh by itu ? t so sonet was by this anci/ecsa and sdh by this itu ? t sonet is time division multiplexing  pure we know what time division multiplexing is  and we will see later on how frames  etc are made up it is a pure time division multiplexing system sonet encompasses optical and electrical specifications  so there are optical specifications as well as electrical specifications you know that usually at the user end  quite often things start at the electrical level and the rates are low but as you go more towards the backbone of the network  the rates that are needed at the backbone start becoming higher and higher and finally at the real backbone it has to be very high-speed network  and such high-speed networks are only possible through optical communication and optical networking once again  we will see about optical networking in the next couple of lectures our specification  the sonet specification  spans both the electrical side as well as the optical side  and that is a very good feature of sonet  refer slide time  11  02  11  42  sonet uses octet multiplexing  octet means the same thing as a byte that means 8 bits  so sonet uses octet multiplexing they are multiplexed byte by byte sonet uses extremely precise timing  something like in 30 years  maybe ; sonet has very precise timing and that is why things are synchronous and if things become synchronous  then we derive a lot of advantages out of that and sonet provides support for operation  maintenance  and administration  oam  as we have already mentioned  refer slide time  11  42  14  24  sonet is actually superior to t3 and t4  etc with improvements over the t carriers ; these t3  t4 are still in use but they feed into sonet nowadays but earlier  they were used to feed into this pdh and these t3  t4 have particular rates which existed  and their specification left something to be desired because of this lack of synchronicity  handling the signals from different sources is not easy what could happen is that when things are not synchronous  but just almost synchronous  then to handle this ? almost ? part  you have to do something ; you have to incur some overhead ; and you have to incur some complexity that was the difficulty with pdh ; in sdh or sonet  this is eliminated  and we get better transport performance then  we have the ability to identify sub streams this was another advantage of sonet over pdh  which is that a particular user uses may be using a very small kind of bandwidth ? small in relative sense ? and then  as more and more users  as i said as all these data streams or communications streams come towards the backbone of the network  the pipes tend to get fatter that means  we need faster and faster communication so between say two points in the backbone  there may be a very fast communication going on and then after going to some other hops  this will again diverge sonet has this ability that different streams can get together  travel for some time  and then again diverge so the ability to identify sub streams is very important  and that is also allowed in sonet  which was more difficult in the rdr system and of course international connectivity  as i said that it breached atlantic and that was great it enhanced control and administrative function  that was also very good from the point of view of service providers  refer slide time  14  24  16  00  we have talked about this seven-layer osi protocol ; where does a sonet sdh really fit in ? sonet sdh goes to the bottom of this if you remember  starting from the application layer  we go right up to the physical layer there are several layers in osi model  and there are other models anyway  usually the bottom-most layer is always the physical layer so sonet really fits into the physical layer in some sense so what would happen is that the layer just above the physical is the data link layer  may be  or layer two so after all this encapsulation  etc is over through all these six other layers including the data link layer  sonet takes it over for transporting it from one point to another so sdh is placed at the bottom of the protocol stack in the physical layer along with the fiber any ip traffic even if it is the ip traffic of a packet oriented traffic ? and remember that sonet is a tdm system ? it can sort of travel within a sort of tdm transport as they quite often do so any ip traffic that is destined to be transmitted across a fiber-based sdh network will be framed by a layer two protocol before being ready to take its orders from the sdh equipment  refer slide time  16  00  17  59  these are some of the multiplexing standards ? i have not given all of them i just indicate some of them if you remember as i mentioned ds0 is a 64 kbps channel and 24 of them constitute a t1 line so t1 rate is approximately about 1.5 mbps ; 4 t1 gives t2 and 6 t2 gives t3 and so on similarly 30 ds0 ? this is a european system ? gives e1 line so e1  if you remember  is about say 2 mbps  4 e1 gives e2 ; e3 is a 34 mbps line and then i suddenly jump right up to this thing called oc3 ; this o is for optical so this way  this 155 mbps is 3 of the basic sts 1 rates that i mentioned earlier ; i will come to this later on so these are some of the standards there is a whole hierarchy of standards ; for example  this name sdh is also synchronous digital hierarchy  this is a hierarchy for the sonet  the basic rate is sts 1 that is synchronous transport signal level 1  and the speed is 51.84 mbps this is designed to carry what was ds3 rdr or a combination of ds1 ds1 c  and ds2 etc as i said a combination of different streams can flow through a sonet pipe or sonet infrastructure so that is good and that means ds3 is a fat pipe or ds3 is almost the same as sts-1 so it is a fat pipe through which multiple pipes  say may be ds2 or ds1  etc may travel  refer slide time  18  03  18  25  and this net goes up to sts-n  whereas synchronous transport signal level is n ; so this has a speed of n ? 51.84 mbps designed to carry multiple sts -1 i mentioned that these are byte multiplexed sts-1 means 1 byte from one source and another byte from another source and so on  refer slide time  18  25  19  49  fundamental sdh frame is stm -1 ; sdh if you remember is the other standard  which came from europe and they sort of came together and that is what we are talking about sdh frame is stm -1 synchronous transport module and the sonet version is oc -3  that is  optical container  each providing 155 mbps so when we come to this rate this 155 mbps oc 13  different rates etc and different systems  are culminated here  at this 155 mbps  almost 155 stm 4 provides four times the stm -1 capacity  stm 16 provides a further fourfold increase  which means stm4 may be about 620 mbps  and then  if you go to stm16  which is four times that of about 2.5 giga bit/s  then you have stm 64  which is about 10giga bit/s so all these rates are there ; that means  from this point onwards  these two streams have converged and we are going to higher and higher rates in a sort of universal fashion  which makes things easy across the world  refer slide time  19  50  20  17  it is worth noting that the inter networking between sdh and sonet systems is possible at matched bit rates ; for example stm4 and oc12 ; so they interoperate a slight modification to the overhead is required as they are structured little differently so there will always be a little something ; but anyway that is not very serious so they do interoperate  refer slide time  20  17  20  41  we have seen the sonet electrical hierarchy ; now we look at the sonet optical signal hierarchy  oc-1 is the optical career  level 1 ; it carries sts-1 ; oc 3 carries sts-3 or stm -1 at 155 mbps ; oc-n optical career level n  refer slide time  20  41  22  16  oc  n as i mentioned is an optical carrier  which uses n ? 51.84 mbps  so oc  48 is about 2.4 gbps ; overhead percentage is about 3.45 %  oc signal is sent after scrambling to avoid a long string of 0s and 1s to enable clock recovery this is a small technical point ; that means in order to keep the whole thing synchronized  the sdh units use the transitions which happen when there is a 1 so the point is that if there is no 1 for a very long period in the data stream  then the clock on one side may drift relative to the clock on the other side ; that is always possible so we try to avoid long streams of 0s in this sonet or sdh  and we do that by scrambling the data from various streams  etc  or descrambling them the idea is that even if one of them is sending a long stream of 0s  there will be quite a few 1s from the other streams and then the clock will be maintained an sts -n is synchronous transport signal electronic equivalent of optical carriers  refer slide time  22  16  23  29  oc 3  oc12  oc 24 and oc 48 rates are common in telecom circuits ? if you remember oc 48 is 16 times of oc 3 ; that is  16 times 155 mbps  which is about 10 gbps upto 10 gbps is very common these days actually right now  with dwdm systems  oc 192 rate is already in operation  and oc 768  which is 40 gbps  is being talked about so that was another disadvantage earlier that this digital hierarchy of standard rates did not exist beyond a very small rate ? i mean small in today ? s comparison but now we have an extended and open system where  as technology improves  we can always go for higher and higher rates ; so from oc 3  which is 155 mbps  we can go to maybe oc 192  which is 10 gbps or oc 768  which is 40 gbps that we are talking about now  refer slide time  23  29  24  11  how do you use these high-speed links ? these high-speed links of course have to be on fiber ? we can look at details of fiber later on  but please note that in practical application  an sdh line system will have a multiplexer that takes its inputs from a variety of sources in different layer 2 data formats so here we are talking about these different signals coming in the electronic domain  and they are coming from a variety of sources  may be coming with different layer 2 data formats these are aggregated up to form frames at a line rate of system  for example up to stm 64 for a 10 gbps bit rate system  refer slide time  24  11  25  08  now these frames at 10 gbps can not be pumped anywhere it is very difficult to pump it on a copper so these frames are transmitted out onto optical fiber links there is a possibility of multiple sdh multiplexers to each give out one wavelength of a wdm system as we will see later on  this wdm stands for wave length division multiplexing  which is some form of frequency division multiplexing i mentioned about it when i talked about frequency division multiplexing in fiber optics  we talk about wavelength multiplexing so it is possible that one multiplexer is feeding into one wavelength  another multiplexer is feeding into another wavelength  and all these different wavelengths are traveling together in the fiber  refer slide time  25  08  25  44  at the end of the system  there will be an sdh demultiplexer on the other end  just as we have a multiplexer on one side naturally  you have to have a demultiplexer on the other side that now accesses the individual data streams from the stm 64 frames as required so stm 64 is carrying lots of frames in a very short time ; they are sort of separated out and then fed into slower streams down the line so there may also be an sdh add drop multiplexer with the ability to remove and insert lower bit rate streams from the signal  refer slide time  25  44  26  33  alternatively a digital cross connect may be present with the ability to switch individual vc4s well  this is virtual container four  which is another concept  we will talk about later so between different fiber links there is a digital cross connect ; if you have the digital cross connect in the optical level  the advantage is that you need not go into the electronic domain at all so the advantage of not going into electronic domain is that you are handling a huge  very fat  pipe ; that means  a large number of channels  and you can just switch them from one fiber to another fiber simply in the optical domain without doing any kind of processing ; and that is always an advantage  refer slide time  26  33  27  50  we will talk about some sonet terms now ; for example  envelope this envelope is the payload basically  after all encapsulation  etc  you remember that finally near the bottom we have this layer 2 and this layer 2 protocol will encapsulate it and then hand it over to sonet at the lower level  maybe at the physical level so whatever this layer 2 hands over to sonet is the payload ; the rest of it are kind of system overheads ? payload plus some end system overhead also goes into this payload so these together form what is known as the envelope ; this is a sonet term other bits and bytes which are used for management  that means oam and p portion  goes as the overhead of sonet then there is the concept of concatenation ; that means  unchannelized envelope can carry super rate data payload  for example  atm  etc so  the method of concatenation is different from that of t carrier hierarchy ; we need not bother about it at the moment  refer slide time  27  50  28  23  then there are some nonstandard functional names in sonet  like tm is for terminal multiplexer  also known as line terminating equipment or lte these are ends of point-to-point links adm is for add drop multiplexer ; we have mentioned this dcc is for digital cross connect wideband and broadband ; mn is for matched nodes and d + r means drop and repeat  etc anyway  these are just some terms  refer slide time  28  23  28  40  now let us come to some important concepts in sonet namely  section  line  and path what is a section ? i will just show you figure first and then come back to this  refer slide time  28  40  30  24  please look at this figure  we have some multiplexers so as the figure shows  we have a multiplexer in this side  another is an output that fits to another multiplexer this multiplexer is going in this direction and after some time  the signal becomes weak so we want a repeater ; what is a repeater ? a repeater is something which boosts the signal strength so there is a repeater  then it travels some more distance then there is a repeater again and then it travels some more distance and then on other side we have the corresponding demultiplexer and then it fits into the other de-multiplexer from repeater to repeater  we call it a section so from repeater to multiplexer  this is also a section so multiplexer to repeater  repeater to repeater  these are called sections and then  from multiplexer to multiplexer  we call it a line at the repeater  nothing happens excepting the signal is cleaned up the signal may be boosted or there may be other cleaning operation  synchronizing operation  etc  that may be done at the repeater ; but as such  the signals which are traveling here  the same set of signals are traveling here at the multiplexer  of course  some of the signals may go off in another direction ; some signals may go in some other direction  etc so at the multiplexer  there may be a convergence or divergence  depending on which way the signal is flowing that may happen at the multiplexer  so from multiplexer to multiplexer  we call it a line ; and then from the end user point to end user point  we call it a path  refer slide time  30  30  30  57  look at this once ; the portion from a multiplexer to a repeater is known as a section or it could be a repeater to a repeater also ; the portion from a multiplexer to another multiplexer is a line the portion from source to destination multiplexer is a path ; below path line and section is the photonic sub layer ; that means photonic sub layer is whatever is happening in the optical domain  and we are not discussing that at the moment  refer slide time  30  57  31  14  sections are bounded by repeaters or multiplexers that terminate the line ; lines may carry several tributary signals and are bounded by multiplexers  a path goes end to end between terminating multiplexers  refer slide time  31  15  33  49  each sth frame lasts 125 microseconds as i mentioned  this 125 microseconds time period  time epoch  is sort of sacred in this whole domain because 125 microseconds is what is required for a ds0 channel remember this is a time division multiplexing  which means that if you have a 125 microsecond kind of slot  then some of the ds0 bytes can take these bytes actually if you have to take it as 8 kbps and if it is 8 kbps  inverse of that is 125 microsecond so if you have a 125 microsecond slot  if 1 byte travels in this frame  then that is enough for 1 ds0 channel in sonet we have very very sophisticated and very fast equipment ; that means this is a time division multiplexing system ; within this 125 microseconds  not only 1 byte can go but lot of other bytes can go that means a lot of channels can travel together in this 125 microseconds frame this is the idea so each sth frame lasts 125 microseconds ; how many bytes are going in there depends on whether it is sts -1 or sts -2 or sts ? n  etc so 125 microsecond as i mentioned is 8000 frames/s sts -1 frame has 6480 bits or 810 bytes that means in one  125 microsecond slot or frame  we are putting in 810 bytes theoretically  of course  that means it can carry 810 ds0 or voice signals ; actually it is not 810  it is lesser than that because a number of these bytes are used for different types of overheads we will talk about this we have these 810 bytes  the octets are understood in terms of a table of 9 rows and 90 columns ; so let us look at this figure  refer slide time  33  49  36  16  we have a sonet frame or an sdh frame  which has 9 rows  you can see the 9 rows on this side and then 90 columns  total 90 columns out of these 90 columns  3 columns have been shown in yellow these are sort of used for overhead and these 87 columns are used for payload or for envelope if you remember  the envelope contains the payload as well as little bit of overhead  which we will come to later on this is how after every 90 bytes  we come back to again another 3 bytes of this overhead this is how it is to be understood  the first 3 columns contain transport overhead and toh has 9 rows by 3 columns  that means 27 bytes  which is subdivided into section overhead soh  section overhead   9 bytes  3 rows of 3 columns ; loh  that is  line overhead  which is 18 bytes  that is  6 rows of 3 columns so we have section overhead and we have a line overhead ? remember we have these three concepts like section  line  and path we have not talked about path overhead there is some path overhead and it goes into the envelope ; so there is some path and as far as these things as line and section are concerned  these are the overhead bytes just to clarify why do we require the over bytes ? the point is that the multiplexers or the repeaters have to have some communication between them in the control plain so as to give you this oam capability for that some information needs to be sent or exchanged between the two points ; anywhere there is a section  the section overhead would consider those things which are central to the section about the signal strength and other kind of things ; line overhead maybe would contain something else and similarly path overhead would contain something else but these are required for these oam capabilities that we have in sonet  refer slide time  36  16  36  49  let us look at these overheads separately ; first section overhead  which defines and identifies frames and monitors section errors and communication between section terminating equipment so these are its functions  it identifies frames ; monitors section errors ? if there are errors  it monitors section errors ; and communication between section terminating equipment  maybe two repeaters or a repeater and multiplexer  and so on  refer slide time  36  49  37  29  line overhead locates first octet of spe and monitors line errors and communication between terminating equipment we will come back to this locating of the first octet of spe this is a very interesting feature and we will talk about this separately previously we talking about section errors ; so line errors and communication between terminating equipment  etc  is taken care of by the line overhead apart from that  line overhead contains this pointer  really  which points to the first byte of the spe  refer slide time  37  29  38  36  and then there is a path overhead ; and as i said path overhead is really inside the envelope and we will look at all these later path overhead verifies connection path ; you remember path means from end to end ; that means from the end to end multiplexer is a path whether the connection has been established or not  it monitors path errors  receivers ? status  communication between path termination equipment  and so on this is the poh  we talked about the synchronous payload envelope or spe that i was talking about that is  the other 87 columns hold the spe  synchronous payload envelope   so spe has 9 waves by 87 columns  which are divided into path overhead and payload  which means the path overhead goes along with the envelope that is in the spe  whereas other overheads have separate bytes or separate columns associated with them as shown  refer slide time  38  36  39  52  now this spe does not necessarily start in the column 4  which means that the spe does not necessarily stay within one frame ; these are two very important points in sonet the point is that although you have these 87 columns  actually the data may start getting transmitted at some arbitrary points inside those 87 columns what is the idea ? i mean why do you want to leave something and then only start from the middle ? the point is that if there are some kind of mismatches of late  etc  if everything in the world were absolutely synchronous  all activities and all equipments  etc  then you could have started from the beginning but that is not the case and this is where we absorb this kind of variation and this gives great flexibility to sonet  which was not there earlier and the other interesting thing is that the spe does not necessarily stay within one frame  which means that the spe may start in one frame and then end in another we will just look at a diagram of this ; let us have a diagram of this you see  refer slide time  40  00  40  21  the spe in light green color ; it really starts from somewhere i mean somewhere after leaving some of the rows  it starts here  and the path overhead is somewhere here  and there are two frames here so spe is really spanning both the frames  refer slide time  40  25  40  57  spe is not frame aligned ; it overlaps multiple frames ; avoids buffer management complexity and artificial delays whenever there is something to send  you can just send it in the envelope ; just put that pointer to that yellow edge  so that yellow edge will point to the first byte of the spe it allows direct access to byte synchronous lower level signals  for example  ds1  with just one frame recovery procedure  refer slide time  40  5 7  41  33  these are the advantages of the sonet frames this is one frame coming in may be 125 microseconds ; this is the next frame ; and spe  as i have already shown  can overlap i mean it may start somewhere within the first frame and then continue in the second frame in this fashion and then be over here actually after this  some other envelope may come in over here  refer slide time  41  35  42  34  now of course where is the path overhead ? there are two fields  h1 and h2 in loh ; loh means line overhead  which points to the beginning of the path overhead path overhead beginning floats within the frame ; 9 bytes that is one column may span frame along with the spe ; it is originated and terminated by all path devices ; and this gives you end-to-end support these are the features of path overhead the point is that if you remember the path is end to end  that means it is close to the end users ; just as the end user may start somewhere arbitrarily in-between  a path overhead also goes along with the spe and it starts over there and at loh  we keep a pointer to this path overhead  refer slide time  42  40  44  17  just as some of the equipment that we use in sonet  one of the most important of these is the add drop multiplexer they are important because at certain point in the network  what might happen is that there are some sources which want to send into the network they will sort of go so there is this sonet equipment  which is adm let us say  and sonet stream is flowing let us say like this there may be something that wants to upload and travel along with this thing at the same time  this may be the destination location for some of the other signals which originated elsewhere ; they have to be dropped here so some signals have to be dropped  some signals have to be added so this multiplexer can handle that and that is very important that is why they are called add drop multiplexers this stream is itself of course flowing at a tremendous rate  whatever that rate is so sonet sdh is a synchronous system with the master clock accuracy of 1 in 109  which you will see is highly accurate it shows when you come in some kind of ccm clock somewhere and then there is a protocol for distributing and maintaining this clock over the entire network frames are sent byte by byte and adms can add drop smaller tributaries into the main sonet sdh stream and i have explained how that is done within that frame you can send lot of bytes ; you can take out some of the bytes and add some of the bytes that is how you take out some of the smaller tributaries and add some of the smaller tributaries  refer slide time  44  22  44  58  digital cross connect  which is an optical layer equipment  is also very important it cross connects thousands of streams and software control  so it replaces patch panel ; that is a good thing about the digital cross connect and a software control is coming where the control is coming from the control plane of the switches you can connect the streams from may be one fiber to another ; it handles performance monitoring  pdh sonet streams  and also provides adm functions ; that means add drop multiplexing functions  refer slide time  44  58  45  47  finally we have this concept of grooming in sonet grooming means  we group the traffic in some format so you want to keep this group in one particular way ; it could be that there is a one group of streams for whom you want to give higher priority or you want to give higher quality of service so you have to group them together similarly there may be multiple groups ; so it enables grouping traffic with similar destination  qos  etc  which is a part of grooming it enables multiplexing or extracting streams also ? that is also part of grooming narrow wider broadband and optical cross connects may be used for grooming  refer slide time  45  47  46  40  if you look at this figure  you have this narrow band  this sonet layer and optical layer in the narrow band  we have this ds0 grooming and then in the ds1 grooming  there is a white band and then the broadband ds3 grooming ? so the rates are going up  starting from the 64 kbps  it is going up when you are going up for the sts 48  you are in optical domain ; that means sts 48 is stm 16  so that is a high rate the point is that  at that rate  most probably  you are well in the optical domain then  finally  you can go to all optical domain ; that means wavelength  waveband  and fiber grooming ? there are different levels of grooming  depending on what you want to do  refer slide time  46  42  48  00  lastly we will just talk a little bit about virtual tributaries or containers we have already talked a little bit about it this is the opposite of stm ; actually in some sense this is called sub multiplexing ; that is  different streams coming together to form one very fat or very fast stream this is the other thing ? how do we  sort of  differentiate these sub streams within this  which has to do with sub multiplexing ? sts -1 is divided into 7 virtual tributary groups  sdh uses the term virtual containers or vcs we talked about vcs  we just mentioned what are called vts or virtual tributaries in sonet lingo so we have 7 virtual tributaries  12 columns each  which can be subdivided further you see that there are 12 columns each  with 7 virtual tributary groups ? we have got 84 columns and these 84 columns are out of the 87 you have in sts -1  refer slide time  48  01  50  00  vt groups are byte interleaved to create a basic sonet spe so this vt groups are byte interleaved they may be again extracted from each other vt 1.5 is the most popular  quickly accessed  t1 line within the sts-1 frame so the idea is that you have a t1 line  which is approximately 1.5 mbps line  which is coming out of your small business  and you have a 1.5 mbps line so that is your bandwidth requirement  you want to connect it to a distant location somewhere and you do not want your thing to get mixed up with others at the same time  as a small business you can not have infrastructure of connecting to another location which is wide apart so you will go with this public infrastructure or public switched tele psdn network or whoever is maintaining this communication equipment usually telecom people maintain it in most of the places anyway  they have a sort of fiber going from one place to another  which contains very high-speed links what you want is your t1 line should join them  sort of get transported over the distance and then go and feed into another t1 line at the destination that is what you want you want your t1 line to sort of have a separate sort of existence ? just like in a compartment  we have different passengers passengers have their own individual entity but together they are packed into one compartment and then they travel similarly your t1 line is going to ride onto to this very fast stream and travel to the destination so vt 1.5 gives your t1 line  refer slide time  50  00  51  16  how do you find out about the difference ? how do you separate them in the sp ? the point is  you require one more level of pointer used to access it you can access a t1 with just a 2-pointer operation  first from the loh ? you remember  you go to the sp  just like that similarly  you go to the different tributaries or different containers using just one more level of pointer this flexibility was not there earlier ; so it was very complex to do the same function in ds3 for example  accessing ds0 within ds3 requires full demultiplexing  stacked multiplexing  etc so you require full demultiplexing ; that is not required in sonet the point is that the other streams may go ; you know where in that frame your bytes really are traveling for the stream or for the container or for the tributary that you are interested ; you just extract it  others keep on traveling as they are so you do not demultiplex the whole thing and that gives a great advantage of add drop multiplexing  refer slide time  51  16  52  02  this is just a figure showing that you can have various types of lines  all feeding into the same infrastructure you may have what we have put over here  ds1  which is 1.544 mbps  e1  2.048 mbps  dsic ds2  ds3  atm .48.384  e4  which is 139.264 mbps  atm is about 150 mbps  etc they are sort of traveling ; they are getting in different containers from vt 1.5  different tributaries  that is 1 5236 etc  form a vt group and ride on a higher strength or higher speed stream  refer slide time  52  02  53  55  just as i said  these are sort of identified through a pointer ; so we have this transport overhead we use some bytes for that out of those 87 columns we have so we use some columns of that and then we put a pointer  which gives to the sts payload pointer then there is a vt pointer  virtual tributary pointer  and this much is the vt spe within the overall sts-1 spe  which is the payload even now sonet is the most widely used technology in wide area networking that is existing today of course  as you know  as technology grows  may be we will go out of sonet people are already talking about going out of sonet because one disadvantage of sonet is that its equipment tends to be expensive well  expensive compared to what we think today what is cheap today and what we think is cheap today may sound very expensive tomorrow ; that is how the technology grows so people are talking about direct transport over the optical layer  etc may be we will touch those aspects later on but all that is still in a sort of experimental stage and on the field  actually  sdh or sonet equipment is almost everywhere ; all types of telephone companies are connected through that and major service providers use this as a means of transport thank you  refer slide time  53  58  54  11  good day,so today we will be speaking about fiber optic components  refer slide time  54  11  55  22  and fiber optic communication as might of heard this lecture as well as the next couple of lectures  we will concentrate on fiber optic components we have looked at some of the physical layer components of fiber optic systems before so we will sort of quickly review that  some of the stuff we will be talking about today is going to be common and then from that point we will take out take it up into wdm systems  how wavelength division multiplexing is done and how systems are handled in fiber optic domain  this fiber optic domain happens to be very crucial because a lot of traffic in terms of volume may be as much as forty to fifty percent  actually goes through the fiber as days are going by and as more and more demand for bandwidth is coming up fiber optics is becoming more and more important  we will be talking about fiber optic components today  refer slide time  55  22  55  56  in fiber optic component of course the basic fiber is there we have already talked about it  so we will talk little bit more about this then we have light source and receivers on two end because we know that in fiber optic cables light is the carrier of information then we require these different components like amplifiers  couplers  modulator  multiplexer and switches so we will look up at these components one by one and then we will start our discussion on wavelength division multiplexing  refer slide time  55  56  56  42  the next set of components are multiplexers filters gratings  just talk little bit about it ,if you look at this wavelength  these are all ; wavelength selective  devices multiplexers  filters  these are wavelength selective devices in a wavelength filter and what we want is suppose ? 1  ? 2 etc so many are coming  i want only ? 1 out 2 ? 3 ? 4 etc are absorbed or something where as if you are a multiplexer i want the difference this ? coming in different lines  i want all to be mixed together and use the same line  these are wavelength multiplexer  refer slide time  56  42  58  07  so application could be particular wavelength or a particular wave band selection wave band is nothing but some contiguous operating wavelengths which all are side by side  if you remember that in the operating window what ever be that 1550 what ever may be the window you are using there you can have a number of ? all side by side  there is a guard band between each of these operating ? so where the guard band that is given by the i q t has specified  how much guard band etc you have to have but so you can have large number of ? all group together in the same window aband out of that means a bunch of sequence is out of that you can short select instead of selecting only  that is wavelength band selection static wavelength cross connects and oam is optical add drop multiplexers  you have come across this term optical add drop multiplexers in the context of sonet but optical domain we require optical add drop multiplexers  we will come to that equalization of gain so that is another application filtering of noise ideas used in laser operation and dispersion compensation modules etc  these are the different applications  refer slide time  58  08  58  15  one of the standard wavelength selective component is arrayed waveguide gratings ,we have seen this before ? computer networks prof  sujoy ghosh department of computer science and engineering iit  kharagpur lecture # 10  refer start time 00  43  good day so ttoday  we will be speaking about  noise  fiber optic  noise  components  refer slide time  00  53 ? 00  56 min  and fiber optic communication as might of heard tthis lecture as well as the next couple of lectures will concentrate on fiber optic components we have looked at some of the physical  noise  layer components of  noise  fiber optic systems before  so we will quickly review that that so ssome of  noise  the stuff we will be talking about today is going to be common and then  from that point  we will take out take up wdm systems  details of how wavelength division multiplexing is done and how systems are  noise  handled in fiber optic domain tthe fiber optic domain happens to be very crucial because  noise  a lot of  noise  traffic in terms of volume  okmay be as much as forty to fifty percent 40 ? 50 %  actually follows  noise  goes through the fiber as days are going by and as more and more demand for bandwidth  noise  is coming up  fiber optics is becoming more and more important  noisesso we will be talking about fiber optic components today  noise   refer slide time  02  05  02  39 min  sso in fiber optic component  of course  the basic fiber is there ; we have already talked about it  so we will talk little bit more about this then we have light sources and receivers on twotwo ends because we know that in fiber optic  noise  cables  light is the carrier of information then we require these different components like amplifiers  couplers  modulators  multiplexers and switches sso we will look at these components one by one and tthen we will start our discussion on wavelength division multiplexing  noise   refer slide time  02  40 ? 03  34 min  sso optical fiber as was mentioned earlier is very pure and very transparent silica glass is used so aat a moderate dimension  the light is restricted to the fiber because of total internal reflection for ordinary light ; this is a multimode fiber ok mmf mmf is used in lans lans for low speeds or short distances so mmf mmf may be used in lans lans ; that is another kind of fiber bbut the multimode fiber happens to be the cheaper variety and this is used in lan lans  but this is good only for low speed wwhen ii say low speed ii mean comparatively low speed  ok for this say hundred mbps 100 mbps or hundred and fifty five mbps 155 mbps may be a low speed and by short distances may be couple of kilometers at  noise  the maximum  refer slide time  03  34  03  51 min  at a still smaller dimension  that part of the fiber that actually carries the signal ? if you remember our discussion about  the fibers in physical layer  we have shown some diagrams regarding the cross section of a fiber  so at the very core ? is a very thin strand of glass fiber tthis is surrounded by a cladding which is also made of glass ; actually we will not be able to see the actual part of the fiber  which is carrying the signal tthe surrounding is also made of glass and that is again coated or covered etc  by outer protection so if that strand happens to be even smaller  say 8 to 10 nanometer range  tthen it acts like a wave guide and a single mode of operations  refer slide time  04  39  05  10 min  wwe will not go in details of eelectro mmagnetics and wave guide propagation of optics to this fiber  but any ways  the support of the single mode of propagation is called single mode fiber smf is used for higher speed  so all these speeds of 2.5 gb/sec or 10 gb/sec etc  are possible on single mode fiber and it also goes over longer distance ok and nowadays  we have fibers which span across oceans we have fiber from one continent to another  which is really a marvel of engineering and technology  refer slide time  05  31  05  50 min  so these fibers are actually single mode fibers there are a few transmission windows like 1310 and 1550 nm bandwidth etc fifteen fifty nanometer 1550 nm window is preferred for long haul applications because it has less attenuation  wider window  and we can get very easily get good optical amplifiers in this range  refer slide time  05  50  06  30 min  so t,this is the diagram you have seen before  so you will see that at around fifteen fifty nanometer1550 nm range  we have some the  noise  kind of low attenuation  noise  ssimilarly,thirteen ten 1310 nm  noise  nanometeris another window  but this window is quite wide although it may not look very wide in this diagram  in actual practice  this is quite wide so this is the wider window and we get good optical amplifiers we will come back to this point when we discuss optical amplifiers  refer slide time  06  38  07  37 min  why do we require optical amplifiers  because there are losses in fiber,losses in fiber may be due to various reasons  one  of course  the main thing is absorption that is what we showed in the previous diagram ; it loses energy to the atom and absorbs some of the photons so we get lower magnitude or lower strength of the light signal  as we go to longer and longer distances then there is scattering of photons by the medium so there is rayleigh scattering  due to slight changes in the refractive index of glass ; then there is mie scattering due to imperfection of the cylindrical structure  it ? s made to rigorous specification  but it ? s never exact in the engineering world ? it can never be exact so we get all these different types of scattering  absorption  etc  leading to losses in fiber  refer slide time  07  39  07  53 min  apart from these just lowering of signal strength  one problem is that the losses are in nonuniform for different wavelengths ok that means that tthe  noise  loss may be more for one particular frequency and may be less for another particular another frequency the trouble is  when you take a waveform  specially a digital waveform  which is a square waveform and if you analyse it  you will get a lot of spectral component iif you do a fuller transformation on that  you will get the different harmonics or components of that particular wave shape and the and these for that for the perfect square shape to come up  these different harmonics have to be at specific strengths compared to each other ddue to differential losses at different frequencies  what would happen is that their balance would get disturbed what you will actually see is that your pulse shape has changed  refer slide time  08  54 ? 09  23 min  this is known as chromatic dispersion ? chromatic because it depends on the wavelength or frequency  or the color of the light that is why it ? s called chromatic different spectral components of pulse travel at different velocities  noise  tthis is another problem and there is something called group velocity dispersion so wwe get some kind of velocity for all these different components and this leads to some kind of dispersion  noise   refer slide time  09  24 ? 09  46 min  so this is an example of chromatic pulse ? we need not go into the details of this  but this is the input pulse whereas in the output pulse  it has a much more flattened shape because these different components have been attenuated differently as they went along the fiber for compensating these dispersions  nowadays some special types of fibers have come up ; we can not go into details of these ? one is the reduced dispersion fiber by dispersion shifted fibers we mean the natural dispersion is that is sort of acted on nonzero dispersion shifted fibers anyway  the point is that normal smf is there in most of the places  say  more than ninety five percent95 % of the deployed plant dispersion is measured in pico second per nanometer kilometer ; so dispersion is much lower for some of the interesting areas or the window  we get an almost zero dispersion for these fibers so we can get very special fiber these days  which may be utilized for very long haul applications  where dispersion becomes a problem by the way  for short haul applications  when you are travel through a few kilometers  then the dispersion is not much of a problem and we need not bother about dispersion shifted characteristics of the fiber because in ordinary fiber  whatever the dispersion it gives in that small distance  will not matter so much  refer slide time  11  20  11  25 min  we have a bandwidth span product ; that means  how much bandwidth for what kind of distance this is very common in almost all kinds of transmission lines ok  noise  sso a transmission line  which operates at a particular speed quite well for some distance  will not operate that well if you either increase the rate at which you are pumping in the data  increase the frequency  or if you keep the data rate constant and increase the length that would also not work very well sso for any kind of medium  we get the bandwidth distance product  which tends to be more or less sort of constant so aa fiber which is good for at a particular speed for lets 2 kilometers may be just good enough for 1 km when you double the data rate  refer slide time  12  25  13  26 min  for older kind of smf at 1310 nm  we get high speed ? mean these are some typical figures  they are not exact figures ; these are some typical figures to get some ideas sso we can operate at two point five giga 2.5 gbits/sec for six forty kilometers640 kms without amplification  or 10 gb/sec for  let ? s say  100 kms a decent smf can take up to two point five giga bits per second 2.5 gb/sec for four thousand four hundred kilometers 4400 kms,ok which spans from one continent to another or ten giga bits per second 10 gb/sec for five hundred kilometers 500 kms of course  you should multiply these figures for dwdm dwdm we will talk about wdm presently  where it gives you a large number of channels  may be forty 40 channels so you can see that you can realize really tremendous data rate  very very high data rate  using this fiber optic communication and that is the major advantage of fiber tthere are  of course  other advantages like have i mean you are not susceptible to electromagnetic radiations ; that is one good thing because nowadays with so many gadgets all around and so many things moving around  we get all kinds of very noisy electromagnetic ambience ; but  noise  i mean fiber is immune to all that that s that is the good point about fiber  refer slide ime  13  59  4  46 min  next  from fiber  we come to light source that is the led light source is of course of two types  depending on whether we are using multi mode fiber or single mode fiber usually  we would use ordinary light in a multi mode fiber and the source of the ordinary light would be led one good thing about the led led is of course that it is very cheap sso the good thing about multi mode fiber is that it is cheap ; the only thing is that it will not scale up very well with that bandwidth distance product an led led is just a forward biased pn-junction ; what happens is that recombination of injected minority carriers by spontaneous emission produces light and it is a broad spectrum up to gain bandwidth of the medium ; so that is an led  refer slide time  14  47  15  42 min  it is usually of a low power ok power you remember that for power you have to divide it by time although you might get a continuous source of light  it will be comparatively low power like twenty d b m 20 dbm  of low internal modulation so you can modulate it if you internally modulate it you can modulate it at best of with hundreds of mega bits/sec  per second which of course  for some applications  may be more than enough speed but then again  when you are talking about the core of wide area network  then it may not it may be it will is a very low speed so obviously in the core of a wide area network  we will not be using multimode fibers or leds led slicing is led plus a filter iit gives some power loss ; we need not bother about that at the moment  refer slide time  15  43  15  50 min  the other kind of light source  which is very important  is the laser ; ok of course  we use semiconductor lasers here almost always it gives a high i mean much higher power output so in a short duration of time we get quite intense pulses of light that is very good ; it has a high power output ; it has got a sharp spectrum ; that is it is coherent ; that is  it is not at the wide range of spectrum  refer slide time  16  12  16  42 min  so it is sharp spectrum  that is the property of a laser that reduces the chromatic dispersion it can be modulated either internally or externally  so that is also a good point it is good for longer distances and larger bit rates compared to mlm mnf  refer slide time  16  43  17  45 min  mlm we need not bother about mlm we have some special kind of devices  the tunable lasers tunable lasers means a laser  but we can change the color of light over a certain range and as we will see later  the tunable laser may be quite important in some cases we will see what kind of time we require for tuning ; it ? s fairly rapid in the sense that it is in less than milliseconds ? range in the order of milliseconds  we can change the frequency emitted by the lasing system it has a wide and continuous range of over hundred nanometer 100 nm ; has a long lifetime and is stable over lifetime ; and it is easily controllable and manufacturable these are the good points about the tunable lasers  refer slide time  17  46  18  21 min  the methods could be eelectro optical ; changing the refractive index by injecting the current or applying an electromagnetic field sso that is one way ; it could be temperature tuning although it is not much preferred first of all its range is narrow and then it may degrade the lifetime of a laser if you want to do it through temperature ; or mechanical tuning using mems mems this is compact but one problem of this tunable laser is that it is costly ; it is quite costly and that is why this is not very common ; also  it is slightly more complex to manage but in some instances  it gives some advantages we will mention this point later on when we discuss wdm wdm  refer slide time  18  43  19  20 min  then wwe come to receivers ? are of course the light pulse coming will have to be detected by something  whether a pulse has come or whether the pulse has not come  whether it ? s one 1 or a zero 0 sso if an photon comes  it will sort of push up an electron to a conduction band sso that is the standard photo detector  which you must have studied at school so if it is sort of higher than this gap  this energy gap  then we get the electron in the conduction band  which will naturally show up by conducting ; so that is the easiest thing  refer slide time  19  21  21  03 min  i was mentioning that nowadays we have fibers running for thousands of kilometers sso if we have such long haul fibers  what would happen is that naturally  after some distance  what you have to do is that your signal will become weak  so you have to amplify this previously this distance would be something of the order of four five kilometers 4 ? 5kms ok nnowadays twenty five kilometers 5 kms is very common  you can go hundreds  or in special cases  you can go even up to many hundreds of kilometers ; you can go without amplification but whatever it is  after some distance if  because of this loss  absorption  dispersion  etc  you will have to amplify the signal for optical signals traveling long distance through fiber  it needs to be strengthened this may be done through olt olt  which was the older technology in olt  what was done was that  the optical signal was converted back to the electronic domain and then you amplify the signal and then push it back to the optical domain obviously this has quite a number of disadvantages  main disadvantage being cost and the speed ; that means cost is higher and speed is lower that has some advantages also i will mention it later ; this may be done in optical domain the idea was the that  it could be done in optical domain through erbium doped fiber amplifiers there are other kinds of dopers that i will mention ; we will see that  refer slide time  21  04  21  27 min  so this is the scenario ? we have this light propagating and as it propagates with distance  the signal level comes down when it comes down to minimum operating level  at that point  we will have an amplifier that will amplify the signal back ; and then again  after sometime  it will sort of decay and then we again amplify so these are some kind of repeaters  refer slide time  21  28  23  33 min  we come to one point where simple amplification is not always enough ; sometimes we require regeneration these are the so-called 3rs  reamplify  reshape and retime as far as absorption is concerned  if you simply amplify  that means increase the size  the strength of the signal is good enough so the absorption loss or the loss of strength can be handled that way but when you talk about very long distances  due to chromatic dispersion  etc  wave shape will become distorted as we have seen in very long distance  on the other side there will be tremendous amount of errors that may not be acceptable so we have to get a wave into shape now there are some special kinds of fibers ; try to do it in optical domain but more commonly they are deployed today to bring them to electronic domain and then give them the right square shape once again so that is the second r ; and the third r is the timing ; that means how do you keep all the clocks synchronized because  after all  some tdm signals  etc  are traveling ; so you will have to have a very strict control over the time so these reamplify  reshape  and retime  are the 3 r kind of regeneration sometimes we only do with two r 2 rs or simply one r 1 r  which is simply reamplify  which can be done simply with an edfa  that is  the erbium doped fiber amplifiers ; and at certain distances  we simply reamplify this  refer slide time  23  34  24  32 min  if you want to do some reshaping  suppose this is the input shape  which has come this goes through the oe transformation  the optical domain  and we come to the electronic domain we amplify this ; shape this properly ; and then again push it back from the electronic domain to the optical domain so we again get a nicely shaped pulse and the output  which has been strengthened as well as reshaped the problem of this is that  naturally  we can do the reshaping as well as amplification at the same time but one problem that we face in this case is that the cost is high ; and the other problem is that optics inherently can operate at a very high speed but we can get fairly high-speed electronics also but it becomes more and more difficult in the electronic domain as the speed becomes higher and higher and when that happens we would like to do it in optical domain if we could and there are a number of schemes today for handling this in the optical domain for example  we can have some very specially shaped optical waves  whose shape will not change over a distance they are called solitons ; they are sort of done in a way that different spectral components are mixed in such a manner that after dispersion  they cancel out each other similarly there are fibers which give the dispersion in the opposite direction to the standard fiber so that it can be brought back to shape so these are all the atoms to handle this reshaping in the optical domain  but the most widely deployed system as of today is to take it to the electronic domain and do it there  refer slide time  25  51  26  57 min  regenerators are specific bit rate  so that is another problem with the electronic domain it is an opaque unit ; that means it has specific bit rate and modulation format that is used ; whereas optical amplifiers  in optical domain what ever is coming is being amplified so it is transparent to the bit rate  the modulation format  the protocol  etc ; it is transparent to all that whatever is coming  is simply amplifying so that is the good thing about optical amplifiers the system with optical amplifiers can be more easily upgraded to higher bit rate  without replacing the amplifiers if you are going to use the same infrastructure for higher bit rate as service providers often want to do  in that case  if you are taking it to the electronic domain  you have to replace optical amplifiers have large gain bandwidth ; they are also key enablers of dense wavelength division multiplexing  refer slide time  26  58  27  31 min  one of the standard kinds of fiber amplifiers  which is very widely deployed  is the erbium doped fiber amplification ? we have talked about this earlier erbium has a large number of excited states and from some of the excited states  it gives out this 1550 nm light  exactly the wavelength used in the third window a few meters of optical fiber doped with a few parts per million of erbium is pumped with 1480 or 980 nm laser to give amplification  refer slide time  27  32  27  46 min  so edfas amplify all lambdas in the 1550 window simultaneously so key performance parameters include saturation output power  noise figure  gain flatness  pass band  etc  refer slide time  27  47  28  23 min  we have input signal coming through regular fiber and this is the part which is erbium doped and you pump some laser so these are combined using some kind of couplers ; i will be talking about couplers later on because of the pumping laser  the erbium ions become excited and when the incoming signal hits these  they fall back to the ground state may be emitting more photons  so the signal is amplified  refer slide time  28  24  29  11 min  there is another kind of amplifier called raman amplifier  which uses longer lengths of fiber this has other advantages  basically using raman scattering  so we are not going to the details of this once again it has pumping through some kind of pump and signal this pump may be in the same direction as the signal is going or it may be counter pumped in the other direction ; the whole point is that  this pump keeps the atoms excited and  due to raman scattering  so more and more photons come out  so we get an amplified signal finally  refer slide time  29  12  29  45 min  we have other kinds of dopants also  erbium doped for 1550 nm range  praseodymium doped fluoride fiber  pdffa  for 1310 nm  thorium doped for 1350 ? 1450 nm  thulium doped ? well  this is somewhat more academic  because thulium is considered as a rare material ; it is not easily available and even if it is available  it is quite costly anyway this is in the 1450 ? 1530 nm range   refer slide time  29  46  30  03 min  tellerium erbium doped fibers in 1532 ? 1608 nm range raman amplifiers address an extended spectrum using standard single mode fiber that is the good thing about raman amplifier  refer slide time  30  03  30  09 min  so edfas are popular in c-band  raman are proposed for s-band  and gain shifted edfa for l-band etc  refer slide time  30  10  30  32 min  we can have a look at this ? depending on the wavelengths  different kinds of doped and different kinds of fiber amplifiers become is more relevant  like edfa for this range from 1550 etc  tdfa  pdfa  raman amplification for this entire range  etc now we talk about some more components  the first component we talk about is  refer slide time  30  45  31  07 min  some sort of passive device called a coupler optical coupler combines and splits signal wavelengths independent or selective ; that means  the coupler can be wavelength independent as well as wavelength selective ; fabricated using waveguides in integrated optics light couples from one waveguide to a closely placed waveguide because the propagation mode overlaps the two waveguides  refer slide time  31  08  31  40 min  so this is the picture  we have an input waveguide coming in and another input may come ; and there are 2 outputs so what might happen is that it may be used as a coupler ; that means  2 signals joining together  like we wanted to do when we tried to put in a pump in the edfa amplifier or it may be used for splitting the signal coming from one and it is getting split into two directions so this can be used in various ways  refer slide time  31  41  32  3 min  so if ? is the coupling ratio  power output 1 is ? times power of input 1 whereas power output 2 is 1 ? ? times power of input 1 so you see that together the input power is split into two parts if you want to have ? = ?  these are so-called 3-db couplers we put half the power in input 1 and half the power in output 2 if you want to broadcast the same signal to two different destinations  you can use a 3db coupler as i said  light couples from one waveguide to a closely placed waveguide   refer slide time  32  31  32  38 min  iidentical waveguides complete coupling and back periodically sso this is the couple mode theory  refer slide time  32  39  33  06 min  of course we have to follow the conservation of energy constraint so you can not get more ? since this is a more passive device  we can not get more out of it then when you put in actually you get less  so it is possible that electric fields at two outputs have the same magnitude so they are exactly the same  but will be 90 ? out of phase and lossless combining is not possible  so nothing is really 100 % efficient  refer slide time  33  07  33  50 min  passive star is a sort of generalization of this it ? s a broadcast device to more than one recipient it divides the received signal to all output ports at original wavelength ; of course  if you divide the same signal into so many different signals  the received strength of the signal will be proportionally less you have to handle it by either amplification or some other thing  or maybe  weak signal is good enough for your application etc so n ? n passive stars can route n simultaneous connections through  refer slide time  33  51  34  12 min  this is an example of an eight-port splitter whatever signal is coming  it is getting divided into two and again divided into two so we get eight signals over here ; we can actually use some 3-db couplers to form this eight port splitter from y-couplers  refer slide time  34  13  34  35 min  this is another example of an 8 ? 8 star coupler there are 8 lines ; any of these might communicate something which will be broadcast to all the other seven ports so such things are used for broadcasting  refer slide time  34  36  35  26 min  we now come to optical modulation ; that means how we modulate it of course the simple modulation scheme ? since we are talking only about digital systems ? is on/off keying  that means either on or off or 1 or 0 there are two types of modulation techniques  namely  direct modulation versus external modulation in modulation  the extinction ratio of output power for bit = 1 to output power for bit = 0 is very important we want this to be as high as possible some lasers can not be directly modulated ; that is one problem another problem with direct modulation is that you are modulating at the source  modulating at the same place  from where that light is being generated whatever diode or whatever you are using for generating it  we want to modulate through that only so that is the direct modulation  whereas in indirect modulation  what we will do is that there is a continuous source of light and just as the light comes out  we will modulate it we will put it on or off by making it go through something so that is the external modulation  refer slide time  36  00  36  22 min  so the solution is ? naturally since direct modulation has the problem about the chirp  etc ? external modulation for higher speeds  longer distance dispersion  limited regimes  etc we prefer external modulation the light source is continuously operated external modulation turns light signal on or off ; so this is the optical modulation  refer slide time  36  23  36  49 min  they can be integrated in the same package as laser ; the laser source is there and the modulator is external  but they can be packaged electro absorption or ea modulator is one important kind of modulator ; it applies an electric field  shrinks the band gap and photons are absorbed  refer slide time  36  50  37  03 min  so this is the picture  this is the continuous source of this light  which is being modulated  that is  being put on or off depending on whether you want to transmit 1 or 0  refer slide time  37  04  37  52 min  the next set of components are multiplexers  filters  and gratings we will talk a little bit about it if you look at this  these are all wavelength selective devices  multiplexers  filters  and gratings in a wavelength filter suppose ? 1  ? 2  etc so many ? s are coming  but i want only ? 1 out ? 2  ? 3  ? 4  etc  are absorbed ; whereas if you are a multiplexer  i want the different ? s coming in different lines i want all to be mixed together and use the same line that is a wavelength multiplexer  refer slide time  37  53  39  20 min  so the application could be particular wavelength or a particular wave band selection wave bands are nothing but some contiguous  operating wavelengths  which all are side by side in the operating window  whatever be the window you are using ? 1550 or whatever ? you can have a number of ? s  all side by side there is a guard band between each of these operating ? s ? the iqt has specified how much guard band etc  you will have to have you can have large number of ? s  all grouped together in the same window now you can select a band out of that  a bunch of frequencies out of that  instead of selecting only one ; that is wavelength band selection static wavelength cross connects and oadms oadms  optical add drop multiplexers   you have come across this term  optical add drop multiplexers in the context of sonet  but in the optical domain we require optical add drop multiplexers ; we will come to that equalization of gain  that is another application ; filtering of noise ; ideas used in laser operation and dispersion compensation modules etc these are the different applications  refer slide time  39  21  40  20 min  one of the standard wavelength selective components is arrayed waveguide gratings these are curved selection of silica acting as waveguides each waveguide is slightly different in length the incoming signal is split to be slightly different in length is like a running track bend ? in a running track you know that the outer track  in any athletic event  in an 800 m race or something  the outer track is longer than the inner track that is why athletes are given proper handicap  because we want to make all the distances same here deliberately  we want the distances to be different if they are different  they are going to sort of arrive out of phase at the output the incoming signal is split ; every wavelength then travels down each waveguide  refer slide time  40  21  40  34 min  time delayed signals recombine to give each wavelength its own waveguide ; can be reversed to act as a multiplexer rather than a demultiplexer ; usable in optical integrated circuits ; easily combined with other functions  refer slide time  40  35  41  11 min  this is the picture we had seen earlier  if your light is going in this direction  what you are doing is that you are demultiplexing one bunch of frequencies are coming ; we want all these different colors to get separated out so that is the demultiplexing action going on if different wavelengths or different colors of light are coming in the other direction  it ? s just the direct opposite thing  and we will get a multiplexer  so it is an awb acting either as a multiplexer or demultiplexer  depending on how you operate  refer slide time  41  12  43  07 min  s we come to optical switches ; we have seen electrical switches now we will talk little bit about optical switches what is optical switching ? you remember electrical switching ? in electrical switching  there are some one input lines coming in line i and i want to get that signal out through line j so we want to operate the switch through the switch or something  want to connect the ith line and jth line the basic idea was that the signal coming down from ith line has to go out of the jth output line that was the simple switching element it is the same thing here also ; some wavelength is coming through some fiber  that is  one input port we want to get it out of another fiber for the time being  we do not have any wavelength conversion kind of thing  thus the same wavelength has to push it to another fiber so that is my switching at the optical plane redirecting light from one optical fiber to another without electrical conversion so we are always harping on that without electrical conversion  we can operate it at a much higher way and higher speed secondly it may be cheaper also  to operate at high speeds ; it will be cheaper and then if you upgrade eventually  this is going to be transparent this does not depend on the underlying protocol  etc  that is being used at the higher layer these are the other advantages of doing at the optical plane now  the most advanced optical switching technology is mems  that is  tiny movable mirrors  refer slide time  43  08  43  13 min  so this is the crossbar switch 4 ? 4 switch  refer slide time  43  14  44  09 min  we have seen this picture also that is a mems optical cross connect you see that these are all tiny mirrors ; what i can do is that  to follow the red line which is coming  we are using these two mirrors to push it to line number 3 over here ? from line number 1 to line number 3 this way  by just adjusting the angles of the mirrors which we can do through the mems technology  we can have a simple and elegant kind of switch the light goes and bumps off a couple of mirrors and goes out the other fiber whatever signals it is carrying  what protocol it is carrying is immaterial ; similarly  the data rate also is immaterial this is a mems optical cross connect now all this technology sort of enables what is known as the wdm technology  which is a wavelength division multiplexing as i was mentioning when we were discussing multiplexing  wavelength division multiplexing is nothing but frequency division multiplexing ; that means  you want different channels to come at different frequencies it ? s just the opposite of optical domain in wavelength division multiplexing  different wavelengths and different ? s are getting together and light with different wavelengths can very well mix together and go to the other end for example  sunlight has all the frequencies that are mixed up to appear as white light to us ; if you send this through a prism  all the frequencies split up so we will get some kind of a demultiplexing action so you want to use this property for wavelength division multiplexing for achieving very high data rates there are two kinds of wavelength division multiplexing  or wdm  that people talk about mostly in the backbone  people use dwdm dwdm means dense wavelength division multiplexing by dense we mean that we put a lot of channels  lot of ? s side by side  so we get a lot of channels of course  dwdm would not usually be deployed in a lan because dwdm is costly but then  at the backbone  where you are talking about very high speed that cost is effective ; whereas another kind of wavelength division multiplexing is coming into lans  which is called cwdm or coarse wavelength division multiplexing there the wavelengths are not so closely packed ; they are sort of more sparsely placed  which is a good thing because then  the stability of these laser sources  detectors etc  are less of an issue so cdwm tends to be cheaper than dwdm and cwdm is coming into use these days we will start our discussion on wavelength division multiplexing in this lecture and then we will continue in the next lecture with the details of wavelength division multiplexing  refer slide time  46  53  47  07 min  wdm increases the capacity of optical fibers ; different wavelength lasers  each transmit at same time down the same fiber ; multiplexing is combining wavelengths ; demultiplexing is splitting of wavelengths  refer slide time  47  08  48  03 min  usually the number of wavelengths is in the power of 2  4  8  16  64  128  etc  things like 32  64 etc  are big 16  32  64 are deployed ; now people are talking about hundreds of wavelengths  may be even thousands wavelengths are separated by multiples of 0.8 nm guard band  i mentioned this is equivalent to 100 ghz there is 100 ghz separation between two ? s ; that is the minimum separation  which is mandated by the itu standard coarse wdm has widely separated wavelengths so that the components can be little less sophisticated and much more cheaper  refer slide time  48  04  48  25 min  this is a wdm system ; different lasers of different lights coming together to the multiplexer  flowing down the same fiber at the same time  being demultiplexed on the other end the multiplexer  demultiplexer could be an awg or some other  refer slide time  48  26  48  59 min  in point-to-point wdm system  one point is connected to another point through multiple wavelengths wdm is the most cost-effective technology in point-to-point technology  where the distance is about greater than 50 kms in shorter distances  multi fiber is cheaper because in dwdm naturally your end equipment tends to become quite costly if you have some extra strands of fiber  then that may be a cheaper option  refer slide time  49  00  49  48 min  wavelength add drop multiplexer is one thing we require  when we want to add on to a stream of wdm that is going through a fiber  or we want to add on some extra wavelengths on the wave or we want to take just one wavelength out and let the others pass through so that is a wavelength add drop multiplexer needed for routing and wavelength assignment it performs the same functions as the electronic counterpart at the level of wavelengths we had come across its electronic counterparts like adm in sonet ; the same thing happens in the optical domain one problem is that granularity is high  because of inherent capacity of wavelengths ; so even if you take out one single wavelength out of a whole bunch of wavelengths  that one single wavelength can carry a large amount of traffic  let us say  2.5 gbps ? that is a high amount of traffic if there are small amounts of traffic which you want to add or drop  then this is not a very effective technology  refer slide time  50  12  50  36 min  wadm has multiplexers and a set of 2 ? 2 switches  one for each wavelength they are managed electronically ; that means  these switches  etc are programmed electronically to control which incoming length flows through and which is dropped  refer slide time  50  37  51  01 min  so fiber and wavelength cross connects are important components of this wdm  needed in real networks point-to-point connection does not need a passive star  or a passive router or active switch  but in wdm  we may require all these for an entire communication network we have discussed this  refer slide time  51  02  51  51 min  passive router  it can route separately each wavelength  no wavelength conversion ; it allows wavelength reuse  same wavelength can carry multiple connections through the router for example  the same wavelength coming from fiber 1 going through fiber 3 and the same wavelength coming in from fiber 2 and going out through fiber 4 is perfectly possible if enough wavelengths are there  n ? n router  can route n2 simultaneous connections ; some routing issues are there we will discuss the routing issues in the next lecture  refer slide time  51  52  52  17 min  finally  we may have some active switch  which has all the features that a passive router has the difference is that active routing matrix  which has some functionality  has to be powered this is of course an issue when you are talking about a very long haul  refer slide time  52  18  52  20 min  with this we conclude our initial portion of our discussion and in the next lecture we are going to discuss the details of wdm ; that is  how different wavelengths are routed through the network how we can get an entire network output thank you preview of next lecture computer networks prof sujoy ghosh dept of computer science& engineering iit kharagpur lecture 11 routing and wavelength assignment in wdm all optical networks  refer slide time  52  49 min  good day  so iin this lecture  we are going to continue our discussion on wavelength deviation and multiplexing specifically we are going to talk about routing and wavelength assignment  refer slide time  53  09-54  14 min  rrouting and wavelength assignment to what ? well routing and wavelength assignment means that we have some stream of packets or whatever data or whatever communication is going on from one source to one destination now tthese sources and destination  first of all one thing is of course of point to point connection is if there is point to point connection is directly sends to the fiber that is  noise  simple but in general  they will not be directly connected general tthey will go through a network   noise  they go through some intermediate notes to reach the destination sso this for this stream  we have to route this that is one problem and the other thing is that may be they are all the stream right some particular wavelength for the time being llet us assume that it is continued on the same wavelength sso we have to assign one wave length  so we have this problem of routing and wavelength assignment  refer slide time  54  15 54  23 min  in wdm all optical networks ok of course we can do  noise  routing etc  very easily in the electronic domain   noise  that is known  noise  routing in the electronic domain how it is done etc  are we are not discussed is as easier we were discussed it  later on iin the this these series of lectures but routing  i mean we are talking about a simple kinds of routing problem here sso we will talk about routing and wave length assignment  refer slide time  54  43-56  53 min  sso this is an example of light path establishment  suppose you have these a b c d e abcde these are connected so iin the first part  the left half of the figure what we have is the physical connection from aa to bb  there is a connection and bb to dd there is a connection and so on iin this one  noise  ii show some  noise  that means some  noise  rw routing and wavelength assignment has already been done and some of the wavelengths and some of the links have been used sso here only two 2 wavelengths are used  let us say aa to bb  noise  they are not connected say a to c a to c the a to c a to c light path has been established via bb so and aa to bb  there will be a switch which will switch the  noise  and suppose this dashed line is the lambda one lambda 1 sso the lambed lambda1 a one coming through this fiber from a to b a to b that is switched to lambda one lamda 1  noise  using the same wavelength to the outgoing fiber from b to c b to c so wwe have light a paths established between b to c b to c similarly c to d c to d  there is a light path b to d b to d  there is a light path d to e d to e there is a light path e to f e to f there is a light path d to f d to f  there is a light path and so on  using the same lambda one lamda 1 then ii want to connect e to c e to c now ii can not go from e to c e to c after say lambda one lamda 1 has been  noise  assign ii can not go  but from ee by lambda one lamda 1 to anywhere because all the outgoing fibers the lambda ones lamda 1s have been used up this side  for a this side for bb and this side for f f  noise  sorry sso inorder to connect from e to c e to c  ii use the another wavelength which say lambda two lamda 2 which connects me higher dd so and the dd cross connect will connect this particular lambda lamda from this fiber to this fiber so wwe will get a direct  noise  light path from e to c e to c ssimilarly we will get a light path from b to f b to f using lambda two lamda 2a to b a to b using lambda two lamda 2 and this way   noise  they are all connected  refer slide time  56  55-57  40 min  aa burst has a long and variable length payload  if it is long low amortized overhead no fragmentation aa control packet is sent out of band that means using some other lambda lambda lamda control and reserves bandwidth that is lambda lamda data reserves a particular bandwidth along a particular path and configures the switches sso it is like a setting up temporary light path from the source to the destination ok aa burst is sent after an offset time  it arrives at a switch after it has been configured sso no buffering is needed  so our original problem is of not having optical buffer sso buffers in the optical domain that is avoided in this fashion  refer slide time  57  42-58  20 min  sso what will happen is that  this will now moving towards the other end to the next node and  noise  here this will again  noise  do some  noise  do the go through the o to e o two e and then do the  noise  switch  noise  configuration and then again e to o e to o and go to the next half and this delay etc  is calculated in such a fashion that when the burst arrives  what happens is that we when the burst arrives at the intermediate node  the switch fabric is already configured sso you do not have to store it  you simply simply passes through in the optical domain sso that is  refer slide time  58  21-58  44 min  nice so offset of course is now t minus delta t ?  because it spent delta ? amount of time over here sso without any delay  the burst goes through the optical switch fabric  so depending on how many intervening notes are there  you have to have this original tt  so that finally when the tt is exhausted offset is exhausted but you have also reached your  noise  destination computer networks prof sujoy ghosh dept of computer science and engineering  iit kharagpur lecture # 07 switches-1  reference time  00  45  good day so today and in the next lecture we will be talking about switches switches are the  refer slide time  01  01  01  03  most important part of a computer networks and we will look into some aspects of the different types of switches in this lecture we will look at the kind of switches that are used in telecom networks there is a special version of these  which we will cover in a later lecture and then in the next lecture we will be talking about packet switches  which are closer to the heart of data networks first thing is why do we need switches ?  slide refer time  01  38 ? 02  15  the problem is that each user can potentially call any other user  as we have seen in telephone networks and we can not have direct lines we can not have an order n2 kind of lines so every user is connected to essentially a switch in the switching office switches establish temporary circuits ; that means they establish a temporary connection between the caller and the callee at the switching station switching systems come in two parts  one is the switch and the other is the switch controller  refer slide time 02  16 ? 03  41  as you remember from our discussion about telecom networks  people want to talk to other subscribers  who are in maybe a different location  under a different switching station the switching stations have to connect among themselves for making this connection through the signaling that we talked about  there is a control plane over here control planes are some kind of computers  which are capable of sending some kind of signals or instructions to the individual switches in the control plane  we set up the path and there is a corresponding signal from the controller to the corresponding switch for setting up a particular circuit or a particular connection  so that an end-to-end connection from one user to the other is set up this control plane is sort of an overlay network over the actual switch  and once the connection is set up naturally the call and all the signals  etc  flow in this plane  refer slide time 03  42 ? 04  10  there is a network device called a router and there is routing  which is very close to switching the only thing is that in routing  we decide about long-range paths if you remember from our discussion about the seven-layer osi protocols  you remember that there was a network layer and the router is a device in the network layer whose job it is to find out that in order to reach the ultimate destination station  what is the local link that i have to take here ? for a switch it is slightly simpler ; it is strictly a local decision but for the router there is a global implication ? what is the local link on the output side that i must take for a signal coming from input line to a particular destination  so that i will finally go through all these connections through various other routers to reach my destination  whereas for a switch the job is a little simpler in the sense that when the signal is coming from one incoming link and is going to go out to a particular outgoing link  which is known at the switch  how to set up the connection ? actually  a router is a switch with some added functionality  refer slide time 05  34 ? 06  22  many connections will need paths through more than one switch  so that is when we required routing static routing uses the same approach all the time ; that means same destination is routed through the same path all the time a dynamic routing may allow changes in routing depending on traffic ; that means some part of the network may be congested  so it might want to avoid that path and go to the same destination through some other path as we have seen at least in telephone networks  because of the way we distribute the telephone numbers to subscribers  it is easy to route you can look at those incoming digits and just decide on the route switching is the local connectivity between input and output lines now we will discuss some basic concepts and terminology  refer slide time  06  31 07  21  one is the transfer medium ? transfer medium in a switch  could be buses  electronic buses  through which you can send a stream of cells queues are memory locations that temporarily store cells switches often require some queues ; the queues may be on the input side or the queues may be on the output side ; queues may be in various places so we will look at all these different cases but these are temporary memory locations  where we temporarily store some cells till we know what to do with it or forward it to its destination a switching element is the building block for the switch a switch may be either on or off and if it is on that connection is there or if it is off the connection is not there sometimes the switch is like this ? at a particular point a switch may connect either to one point or to another point a switch is just a simple element and in a big switch  we have a lot of these switching elements these switching elements form the so-called  refer slide time  07  58 08  09  switching fabric ; that means the shape of the switch  like  how the switches are organized so that all the incoming calls can be handled there is a term called blocking and non-blocking  refer slide time  08  18  08  35  blocking means a network is unable to connect stations because all paths are in use a blocking network allows this this is used in voice systems and the main reason is that we have short-duration calls the point is that there are so many subscribers  may be thousands of subscribers ; if we want to provide the switching capability to the maximum possible extent  that means  if everybody is busy talking to somebody or the other  that means  if every subscriber is using this  then if we try to provision our equipment based on this assumption that everybody may be talking to everybody at the same time  then the switch will become very big and very expensive so what the telephone people have done is that they have made an extensive study of how many people are likely to talk during a particular time of the day  especially bell labs in usa they were the pioneers and a giant telephone company  which was the largest at one point of time  and later was broken up etc during the early part of may be 1940s and 1950s  they made a very extensive study about people ? s calling habits they found out that during the busy time or the peak hour when all the officers are open  how many people out of a subscriber base are likely to call that is one kind of statistic they collected ; and the other kind of statistic they collected is that if one person starts talking what is the distribution of the call duration ; for how long is this particular subscriber likely to hold on to that line they found the statistical distribution ; and based on that they decided that if i provision this much in terms of our switching elements and switching capacity  then almost all the time everybody will be able to get the service  but exceptions may occur this is based on some statistical study at some particular point of time it may so happen that the number of subscribers who wanted to speak is just larger than the overall switching capacity that you have in that case some of the calls will be blocked i am just talking in terms of switching capacity this kind of blocking may occur elsewhere in the network also we provision based on some statistical averages but at exceptional times  for short durations of time  we may have to block some of the calls because we do not have the capacity to handle so many calls at the same time so that is a situation where it is blocking and what people try to do is that they try to calculate the blocking probability  which may be 1 %  2 % or 5 % ? 5 % is quite high  as nowadays people do not even like that that is the blocking probability that we wish to achieve ? we are provisioning this much for these many subscribers  refer slide time  12  08 ? 12  38  non-blocking permits all stations to connect in pairs at once this may be used for some data connection where blocking is not allowed or blocking is not acceptable under any circumstances if you want to make it fully non-blocking  that solution would be more expensive than if you allow a limited amount of blocking of course a high degree of blocking will not be acceptable to the users at all  refer slide time  12  39 ? 13  21  there are various kinds of switches i am trying to present here a taxonomy of different types of switches ? not that all actual switches neatly fit into the boxes some of them take some portions of this and there is some kind of a hybrid or mixture but this is one way in which the different types of switches can be classified we have space division switching and time division switching like in multiplexing we have a time division multiplexing and frequency division multiplexing  here we have space division switching and time division switching time division switching is very close to time division multiplexing as we will see now space division switches  refer slide time  13  37 14  22  maybe single stage or multistage in single stage we have a switching matrix ; then we have a knockout network  shuffle exchange networks in multistage  it may be a single path or multipath like delta networks or benes networks  sorting networks  etc in time division switches we have shared memory and shared medium shared memory could be a central memory or shared medium could be a bus or a ring etc ; so these are different types of switches we will not have the time to look at all these in detail so we will just look at some of the very common types of switches that are used  refer slide time  14  23 ? 15  25  let us first talk about space division switching it was developed mainly for analog environment why do we call it is space division ? because the different calls go through separate physical paths that is why they are called space division switches  unlike time division  where different calls may be going through the same physical path at different time slots ; we will come to that when we discuss time division switching but in space division switching  different calls go through separate physical paths the simplest of space division switches is the cross bar switch the number of cross points grows as the square of number of stations ; loss of cross point prevents connection ; if a particular cross point becomes bad it is an inefficient use of cross points ; all stations are connected but only a few cross points are actually in use ; and this is fully non-blocking let us first have a quick look at a cross bar switch a cross bar switch is very simple  refer slide time 15  32 16  36  what do we have in a switch ? in a switch you have n input lines coming on from one side and n output lines ? you have to connect some of the line let us say i want to connect this particular line to let us say this particular output line  i.e  the fourth input line to be connected to the fifth output line i want this particular switch to be on and the other switch off if this particular switch is on  there is a connection between this line and this line so i have a direct physical path between the fourth input line and the fifth output line and each of these crosses that you see is a single switching element and as you can see  since there are n lines i.e  if there are n lines on the input side and n lines on the output side  we have n2 switching elements  which actually is quite a lot  refer slide time  16  37 16  38  so if you go back  refer slide time  16  38  17  49  the number of cross points grows as the square of the number of stations if a particular switch  which is at the crossing point between the fourth input line and the fifth output line  if that particular switching element  somehow has gone bad  then four and five can not talk to each other ever that is again another drawback of this kind of switches of course it is an inefficient use of cross point ? at every cross point we have a switch and all stations are connected but only a few cross points are actually in use at most n/2 cross points can actually be in use  whereas we are using n2 cross points  which is a really a poor utilization of the switches one good thing about this kind of switch is that it is totally non-blocking ; that means  all pairs of subscribers can talk to each other at the same time  refer slide time  17  50 ? 18  52  the cross bar switch is the simplest form of n input lines and n output lines that feed to n2electronic switches if all lines are full duplex  that means all lines allow communication in both the directions  then we require only half the number of switches we possibly do not require the diagonal switches  the switches which are in the diagonal i do not want to talk to myself ; the other thing is that only either the top half or the bottom half of the switches ? top half means top half of the principal diagonal or the bottom half of the principal diagonal ? only those switches are required  in general n2/ 2 switches would be required if you have full duplex lines the other problem about the cross bar switches is that apart from the number of switches  the number of i/o pins is also a problem if you want to a make let us say 1000/1000 line switches for 1000 subscribers  you may have 1000 incoming lines  1000 outgoing lines  but how do you put all these 2000 pins on the chip ? it also becomes a problem ? people have gone to more sophisticated design for switches they are classified in various ways  through input queuing  output queuing  refer slide time  19  32 ? 19  34  or central queuing we will look at these one by one later on  refer slide time  19  35 20  05  let us look at another kind of a space division switches known as knockout switches  which were introduced in 1987 by at&t bell labs essentially we require using output queuing over here we will look at output queuing and the issues in detail later on if the switch is trying to pump in more number of bits or more number of bits to a particular output line than that an output line can handle  you have to either drop them or you have to store them somewhere  maybe in a queue  and that queuing is associated with the output ports that is what we mean by output queuing so n inlets  refer slide time  20  26 ? 20  44  and n outlets operate at the same speed transfer medium consists of n broadcast buses  one for each inlet n bus interface units  one for each outlet  takes input from all the broadcast buses each delivers an output to its own outlet let us take a look at the figure  refer slide time  20  47 21  52  so we have the n input lines on one side a call may come from anywhere  let us say subscriber 1 is trying to call to subscriber 2 so what subscriber 1 will do is that it will broadcast the signal over this bus there are n buses over here and all these n bus interface units are connected to all the buses  each of the bus interface units ? 1  2  3 up to n ? will receive that signal from n but this bus interface unit 2 knows that this is supposed be meant for me so he will allow this signal to transfer to the output line  whereas others will simply ignore it this is again another fairly simple scheme we have  of course  reduced the number of switching elements that are required  refer slide time  21  53  22  01  it is not using a bus  and you will not get a very fast switching  but this works fairly well if you want to go beyond this  that means  you do not want so many lines  etc  as i said and even if you have 1000 subscribers you want to service from the same switch  even in knockout switch you have 1000 buses inside  which is not technically feasible so we go to the other kind of switches which i showed earlier ; namely  multistage switches and multistage switches have one of the most commonly used switching architecture even today  so far as space division is concerned in multistage switches we may actually provision less number of switching elements than are strictly required for the highest use  as we want to reduce the cost of the switch all the input lines can go to all the output lines and it is broken up into several stages as we will see  refer slide time  23  19 ? 24  04  the advantage of a multistage switch is that it has reduced number of cross points  more than one path through the network ; this increases reliability as you remember  in our simple cross bar switch  if one particular switch is bad that particular pair of users can not talk to each other ; that is not really desirable since there are more than one path through the network  even if one particular switching element becomes bad they are still able to communicate the control becomes more complex and it may be blocking so  as i said  in most of the cases it will not block  but in some cases  it may be blocking  refer slide time  24  05 ? 24  36  they have a large number of inlets and outlets which are  sort of  grouped into small groups so that these problems with pins and input lines are not there often they have identical switching building blocks  forming a fabric so there are many switching building blocks consisting of some number of switches and such modules are used all over the switch as you can guess  in a multistage switch  we will have different stages the input will come from one side and will go to one stage  then may be another stage  and a third stage  and then may be out so there are multiple stages and each stage is broken up into small modules these modules may or may not be identical  so it is sort of cheaper to manufacture and it also handles all the pins  etc  in this fashion so it often has  refer slide time  25  11 25  15  identical switching building blocks forming a fabric  and a fabric has multiple stages  refer slide time  25  16 ? 26  16  this is just one example of a small multistage interconnection network so as you see  this is one stage  this is another stage and this is the third stage there are three stages over here each stage is broken up into small blocks ; so this is an 8 ? 8 sort of switch if you remember to have 8 ? 8 switches in our cross bar switch  we require 64  or even if we take half of it  maybe 30 or above 30 switches here each is a 2 ? 2 switch ; so actually you can handle it with only one switch the number of switches has come down drastically but there are problems  as we will see  that it may be blocking kind of system  refer slide time  26  17-28  01  so how do you know that something  which is coming over from an input line  would reach the particular output line ? suppose the output lines are numbered and since there are eight output lines  we can code them using these three bits  from 000 to 111 in a binary fashion this particular line  which really is the input line number 011  wants to have a call to the output line number 101 if you know to which output line you want to go to  1  0  and 1 really become control signals for these switches on the way so 1 means go to the lower output line ; 0 means go to the upper output line and you can see that those that are starting with 0 come at the top  those that are starting with 1 come over here and that is the same binary number order that we are maintaining the switch is simply a rule that if it looks at bit  if it is 0 it connects to the upper line and if it is 1 it is connected to the lower line so 1 will connect to the lower line  0 it will connect it to the upper line 1 over in this stage will be connected to the lower line and we will reach 101 this is almost self routing through the switching fabric and because of this  routing is easy  refer slide time  28  02 ? 28  34  delta network is one kind of a multistage interconnection networks it is constructed of identical k ? k switching elements it has regular interconnection patterns suitable for a large-scale chip integration it is self routing as we have shown  requiring log_k n number of digits and a log-k n number of stages each  with n/k switching elements so  refer slide time  28  34  29  53  this is the picture that we had seen earlier ; this is the diagram of a bigger delta network  may be with 16 input lines and 16 output lines as you can see  this is a four-stage switch  because in order to code for 16 lines  it will require four bits from 0000 up to 1111 each bit decides whether that particular switch connects you to the upper output line or the lower output line and from any of these input lines there is a path to any of the other output line this is the 16 ? 16 banyan network as you can see  by doing it in this multistage fashion in a regular cross bar switch  while we require some thing like 125 switching elements here  you require only  say  32 switching elements so the number of switching elements is much less  refer slide time  29  54 ? 30  11  but there may be a problem of contention in a delta network cells can be simultaneously switched through the network however cells may have to contend for the same switching element let us go back to the earlier diagram  refer slide time  30  13 ? 30  39  you see this  say  0000 wants to talk to 0001  so he will simply go like this and similarly another line over here  may want to go straight down to somewhere over here so many calls can go through together but this is not always the case there may be a contention for the same switching element as we will see in this diagram  refer slide time  30  42-31  58  let us say 0 1 1 0  so 0  1  and then 1,0 ; 0 will come here  then 1 will go straight ; 0 1 1 0 ; and then 0 1 0 0 so 0  upper 1  1  and you see that we have potentially got a contention for the same switching element from two different points in the network ; it is sort of converging to the same switching element before it can proceed so there is going to be a contention over there if there is a contention  obviously both of them can not be handled at the same time ; either one of them has to wait you have to make it wait by putting it in some buffer  etc  or one of them will have to be blocked or dropped although we save on the number of switching elements  sometimes we get a contention some ways to reduce contention is  refer slide time  32  26 ? 32  37  to provide buffers in every basic switching element  increase the internal link speed relative to the external speed  and use a backward feedback these are different sort of techniques to reduce contention one is of course providing buffers as we have already discussed ; you could increase the internal link speed relative to the external speed that means if the internal link is much faster than the external speed at which you are pumping in  then it may be able to handle both of them so far as the input streams  refer slide time  33  04 ? 33  31  or the output streams are concerned  they will not notice the faster switching that is going on within the switch so that they will think that there is no contention you can use backward feedback ; that means  at some later point in the main if you find that there is a contention then give one of them feedback so that it sort of re-circulates  refer slide time  33  32 ? 34  07  the other ways are to use multiple networks in parallel ; provide multiple links internally between switching elements ; and shuffle cells first so that they do not collide later this is also another kind of switch that is quite common ; it is known as the batcher banyan switch we have seen the banyan switch part ; in batcher part there is some shuffling of the input cells so that in the banyan part they do not collide by contending for the same switching element  refer slide time  34  08 ? 34-57  in the space division switch  the big switch is broken into multistage smaller chunks i will show a three-stage switch suppose i want an n/n switch ; suppose it were a cross bar  then it would be an n/n switch this is replaced by n/n number of n ? k switches in the first stage  followed by k  n/n  ?  n/n  switches in the second stage  followed by n/n number of k ? n switches in the third stage so let us take a first look at a simple example  refer slide time  34  58-35  57  so this is a three-stage switch ; in the first stage  we have 10 of them so n is 10 ; and k is 2 so we have 5 ? 2 switches we have 1 2 3 4 5 at the input stage  so n/n  that is  two of them or 5 ? 2 switches and then two 2 ? 2 switches followed by 2 ? 5 switches let us say 5 wants to speak to 2  so 5 comes here ; gets switched in this fashion to 2 ; and 6 wants to talk to 1 so 6 goes to this switching fabric in this fashion in the third stage  refer slide time  35  58 ? 37  59  if you take the general case of n = 1000  n = 50  k = 10  this reduces the number of switches to 24,000 from about 500,000 because 1000 ? 1000/2 is 500,000 ; that is  the number of switching elements you would require for a simple cross bar kind of switch  whereas by breaking it up into three stages in this fashion taking this particular value of n = 50 and k = 10  you reduce the number of switches to 24,000 however  the switch can handle only n * k/n so if n = 1000 and k = 10 and n = 50  so n * k/n would be 200 so only 200 simultaneous calls  so only 400 users can use it at the same time as i mentioned  it may be fairly alright because you have a phone but you are not talking on that phone all the time ; most of the time actually it is just lying idle if the telephone company makes a good study and finds out that 400 is the maximum number that is sufficient for a very low blocking probability even during busy hour  then that is fine  refer slide time  37  34 -38  24  the general scheme of this is that you have n lines fitting into each of these n/n modules at the first stage so you have a total of n lines fitting into one module so you have n ? k kind of switches so that this switch can be directed to any of the switches on this side so there are k of them here there are n/n switch modules in this first stage  k modules in the second stage  and again n/n modules in the last stage  third stage so you have  n/n + k + n/n  modules  refer slide time  38  25 ? 39  28  in the multistage interconnect network  you may either have a connection based kind of system  that means  once a connection is made it is permanent till the call is held  as we have in a usual telephone network  or it may be a cell-by-cell  that means  although the user sort of goes on having the conversation  his stream of bits is divided into small cells and each cell is individually routed through the main many connections will need paths through more than one switch ? cell-based means routing tag versus network-based  which is routing tables so if you have tags it is faster ; if it is table it is slightly slower and as i said  the static routing uses the same approach all the time ; dynamic routing allows for change in routing depending on the traffic so what is a tag ?  refer slide time  39  32 ? 39  35  you remember that in a delta network we were putting 001 etc ; we were encoding the input or the output  specifically the output lines  and then using that address so that the cell can route itself through the network that is an example of a tag  which means that within a switch each of the lines has got some kind of code in it ; you might call it tag this tag will be used for routing now if it is self-routing  like the one shown in delta network  which is very simple  it will be very fast if it is some other kind of tag we are using where such a simple scheme does not hold  then maybe we have to look up to some table to find out where i want to go with tags  cells can be  refer slide time  40  27 ? 40  58  augmented to include extra header information when they enter a switch that means you look at which is the output line it wants to go to and then add the code for that output line on to this cell  which sort of becomes the tag for example  with the siemens atm chip set  each 53-byte octet or byte cell is augmented to a 64-byte cell as it enters the switch so these extra bytes are for putting in this tags  etc this extra information speeds up the routing process  refer slide time  40  59 ? 42  09  in a connection-based system ? we discussed this earlier  but once again ? the path is determined once for the duration of the connection that means  once the connection is made  for the entire duration of the connection the path remains the same all cells of the connection follow the same path now it may be a connection-based system with cells ; that means  once the connection is set up  a particular path is designated that this is the path all the cells  which are originating for this particular call  will take so  all cells of the connection follow the same path this guarantees proper sequencing of cells ; of course  they will now go in an order the connection  of course  may be refused  that means when you are trying to set up a connection you find that in an intermediate stage there is not enough resource there is too much contention for that  so the connection may be refused paths can be determined by a combination of random selection to distribute the load if you remember  in a multistage switch specially  there are various paths from the input to the output ; there are various possible paths  so that if one path is not alright because of some defect or one path is not very good because at that particular point of time that path is loaded  you may route your path through some other path of the switch  refer slide time 42  32 ? 42  49  you might do a random selection amongst the paths to distribute the load  do a careful selection to arrive at the correct destination ? if this and this selection can be done either centrally or in a step-by-step fashion as is done in a delta network  refer slide time  42  50 ? 43  49  we have different types of switching ? we have connections plus tags  you have connectionless  which are tags of course we will look at connectionless switches in more detail when we discuss packet switches so the same discussion that we have now  part of the discussion that we are having here  could also be useful in the next lecture we have connectionless plus tables  that means  if tags are not possible you have to do some table lookup because this table lookup will always be slightly costly in terms of time the kind of speed that you can achieve with a table lookup becomes limited because of that ; but any way if this is again a possibility that you can have connections-oriented system by using tables  you can have connectionless systems using tables ; this is also used in routers specially  refer slide time 43  50 ? 44  40  we will look into buffers in more detail when we discuss packet switches buffers may be complete sharing  which is the best utilization of memory and best for bursts of equal loads complete sharing means everybody can share all  so there is a central memory kind of thing  which is shared it may be a complete partitioning ; naturally complete partitioning would be faster and best for unbalanced load partial sharing means some of it may be centralized  some of it may be distributed  etc there may be various strategies regarding buffers  refer slide time 44  41 ? 44  43  next we come to time division switches ? time division switches follow almost the same principle as time division multiplexing  in which the same line was being used for communication by different channels ; what we did was that we kept a specific time slot for one channel and these time slots go in a round robin fashion so after a particular frame is over  that means  all the input lines have had their time slots then one particular channel will get back its second time slot  and so on so it will go on in a round robin fashion we use the same principle in time division switches ; in time division switches the bits or bit streams may follow the same path  that means  different calls are following the same path but they are using different time slots so a fixed  refer slide time  45  55 ? 46  17  the number of bits from each line is read into a ram in order ? this constitutes a single frame that means a fixed number of bits from each frame  each line a mapping table reads from the ram in a different order for switching from line j to line k  the j th location is read in the k th step  refer slide time 46  18 ? 47  27  this is shown here suppose these are the input lines 0 1 2 3 4 5 6 7 the output is read in a somewhat different fashion 4 7 6 3 0 5 2 1 that means actually whatever the 0  its line 0  puts in this slot would be read by line 4  because line 4 is reading in that time slot so line 0 is  in effect  connected to line 4 similarly  line 1 is connected to line 7  line 3 is not connected to anybody it ? s idle at the moment  so 3 3 ; similarly a 5 5 ; so it is idle similarly  just as we have 0 4 we 4 0 ; so this is a bidirectional communication  duplex communication going on so in the first slot or  let ? s say  the 0 th slot  the line number 4 reads it and in the 4 th time slot  line number 0 reads it so line 0 is switched to line 4  1 to 7  etc lines 3 and 5 are idle  refer slide time 47  28 ? 48  29  basic components of a tdm switch ? we will not have the time to go into the details of this it has a dedicated internal buffer memory  distinct from the ram memory used for program code and data and this buffer will sort of contain the bits which are to be written into and read often on a completely separate physical module  that means  printed writing card usually it has at least two dma bidirectional serial ports if you have studied operating system  that is direct memory access  which is used for fast communication without the intervention of cpu  that is dma of course we want this as fast as possible ; so dma bidirectional serial ports  input and output  are simultaneous on each port with dedicated hardware for each operation so our memories are very special ; that means  they have multiple port memories and serial i/o on each port this is a very simplified block diagram  refer slide time 48  32 ? 49  25  usually in your line  the bit stream will come serially but on the bus internally we want to put them together  maybe 1 byte at a time so we have a serial to parallel converter for getting 8 bits and converting it to a byte  which will be fed in parallel so database goes into the buffer ram memory ? there is a connection memory which is a mapping table that we have talked about so when you are setting up a connection  you will make entries into the connection memory we will just have a look at the connection memory  that is  what we have already seen and then it gets consecutive address generated here and then from the buffer memory once again it goes to the output side and then there is a parallel to serial converter for feeding into the individual lines so this is the data bus and this is the address bus  refer slide time  49  26 ? 49  47  connection memory contains a list or table for mapping input time slots to output time slots when a call is set up  you make an increase in this connection memory the pointer data values are set from the cpu on a per call basis the data output of this memory is used as an address to access the buffer ram ; decimal representation is shown  refer slide time 49  48 ? 50  02  this is another example so in address 0  we have pointer or content is 14 ; that means line number 0 may be connected into line number 14 in this example  refer slide time  50  03 ? 52  06  now just one more thing ? that assuming 1 byte is read from each line  each frame is to be processed in 125 micro seconds you remember how this 125 micro second comes about ? remember we talked about the voice channel  and each voice channel requires a capacity of 64 kbps as we mentioned so 64 kbps means that what is the gap between every bit in 1 second ? there are 64,000 of them so it would be 64 kbps if we handle 1 byte at a time  it will be 8 kbps and 1/8 kbps would be 125 micro seconds so this is the basic time for frame and in the entire time division hierarchy  as we will see in time division multiplexing  this 125 micro second is a very sacred figure ; this is what everybody sort of sticks to so that a voice call can smoothly fit into this of course if you want to have a higher speed channel then what you might do is in the same 125 micro seconds ? slot  you may pack in a large number of bits that is alright but we keep the frame size to 125 micro second if the memory cycle time is t micro second and there are n lines we have 2nt  because each of them has two operations  one read and one write so 2nt would be 125 so a 1000 line switch will require a cycle time of about 60 nanoseconds that is the kind of memory speed  and as we will see  as the number of lines goes up or as the speed of switches goes up  this memory speed becomes a constraint as with space to division switches  it is possible to device multistage switches  refer slide time  52  07 ? 53  15  now just one last point about capacity allocation ; i mentioned that the service providers actually want to provision less than the maximum possible but what would be the blocking probability if you provision it in a certain manner  let us say  in the c stage switch ? so i will just give you the formula if the average call arrival rate is  say  ? calls per second  which is an exponential distribution as people have seen for a voice network ? for data network it is different ; we will come to that in the next lecture ? the average holding time is m seconds per call  which is poisson distribution the call load in erlangs is a = ? m this is called the load and given a load a  we try to allocate a channel capacity n such that the call blocking probability b is at an acceptable level  typically around 1 % or less this is the typical figure that we try to achieve the difference is that within the busy hour  we get not more than 1 % call blocking probability and the formula for calculating this is this  refer slide time  53  16 ? 53  39  b is equal to a * * n / n ! *  ?  a * * i/i !   ? so you can use this formula or may be write a small program using this formula to calculate the call blocking probability giving values of a  n  i  etc  refer slide time  53  40 ? 54  19  so you can verify this this is one last this thing ? verify using erlang-b and stirlings approximation for handling the factorial  that for large n  say 100  even with 70 % average channel utilization  that is a/n  we get very small blocking probability but of course  if the channel utilization or a/n becomes 80 % and then 90 %  what will happen is that you will find that your channel probability is going up and then you can do the same thing for a small n and try to see what happens thank you  refer slide time  54  22  54  25  good day so in this lecture we will discuss about packet switches that means packet switches are switches which as specifically designed for handling packets we have seen the telecom switches like space division time division switches etc ok we have also discuss something about multistage switches which are used quit often in packet switches also but in this lecture we will specifically discuss about a packet switches  refer slide time  54  59  55  01  which is at the heart of all most all your computer networks ok so  refer slide time 55  11  55  26  first just to give you some motivation that why do we require switches the performance of a lan can be considerably enhanced by moving over to switched lans moving over from what if you remember that some of the earliest kinds of lans that we have just seen a brief glance of some of them used shared memory like a hub or a bus etc now in a if you are using a shared medium what is going to happen is that only two nodes connected to this lan can communicate with each other at a particular point of time where as if you have a switch multiple pairs of users or multiple pairs of nodes can communicate with each other at the same time so naturally you get a very good boost in performance of the over all lan so that is one reason why we require switches of course we require switches in other place also  refer slide time  56  18  56  23  multiple distinct source destination pairs are able to communicate at the same time thorough a switch so that is why we require a switch in  refer slide time ? 56  24 56  34  packet networks a packet switch needs to look at the header of each packet to find the destination address of the packet so you do not have to do a full scale sort of lookup of a very big table a refer slide time 56  43-57  52  so you have a you lookup only a very small table of v c i and v p i in the v c table replace but of course virtual connection just as their setup they may be taken down so replace old v c i v p i with new ones forward cell to outgoing interface transmit cell onto link so this is the this is how an a t m switch works so if you so you see that the basic concept of the cell remains the same that means we have we have some we have to find out the output port from the address and the here the address once it is setup after that the output the address is simply a small table of v c i v p i which makes this lookup process much faster so this together with the fact that the cells are of same size so you can develop your hardware in such a way so that this a t m switches will work very fast otherwise the rest of the switch and the switching principle remains the same as we have discussed already  refer slide time 57  53-58  08  next comes comes ethernet switch which is perhaps the common most common type of switch that you see almost every where as a matter of fact this number of ethernet switches which are being used and which hare being put to use the almost regularly is so high that the cost of this switches have also come down you know because if if you produce something in very large number you can amountize the cost of is development etc over a large number of switches so this cost of the switch comes down so ethernet switches have become very cheap these days ok switch which are used to cost may be a lack or so may be ten fifteen years back cause only a few thousand rupees today so this is the most common type of switch which we see every where computer networks prof sujoy ghosh department of computer science and engineering i.i.t  kharagpur lecture name # 8 packet switches  refer slide time  00  40  good day in this lecture  we will discuss about packet switches ; packet switches are switches  which are specifically designed for handling packets we have seen the telecom switches like space division  time division switches  etc we have also discussed something about multistage switches  which are used in packet switches in this lecture  we will specifically discuss about packet switches  which are at the heart of almost all your computer networks  refer slide time  01  22 ? 01  37  first  to give you some motivation  why do we require switches ? the performance of a lan can be considerably enhanced by moving over to switched lans if you remember  some of the earliest kinds of lans that we have just seen  a brief glance of some of them  used shared memory like hub or a bus if you are using a shared medium  what is going to happen is that only 2 nodes connected to this lan can communicate with each other at a particular point of time  whereas if you have a switch  multiple pairs of users or multiple pairs of nodes can communicate with each other at the same time naturally  you get a very good boost in performance of the overall lan ; that is one reason we require switches we require switches in other place also  refer slide time  02  28  02  48  multiple distinct source destination pairs are able to communicate at the same time through a switch that is why we require a switch in packet networks a packet switch needs to look at the header of each packet to find the destination address of the packet if you remember  when we discussed about connection-oriented and connectionless systems  telephone networks are predominantly connection-oriented  although connectionless technology is also getting there data networks are predominantly connectionless although some connection-oriented network technologies are also used in some parts of the network today when we are talking about packet switches  we are specifically talking about connectionless systems in a connectionless system  since there is no fixed connection between the source and destination which is held during a session etc  such concepts are not there so each packet is on its own and that packet is perishable and contains data from the source node  which is meant for the destination node it will contain lots of others things like headers  etc  which we talked about earlier but now we are specifically interested in the packets ? that means  the data stream has been broken up into packets so each packet must contain the destination address of where the packet will finally reach because since there is no space connection  each packet must carry  refer slide time  04  12 ? 04  38  the destination address and this destination address is sometimes also called the mac address ; mac is for media access control there are various types of mac address we will come to that later on depending on the address  the packet is forwarded to another port what happens in a packet switch is that through one port  some data has come in ; this data will contain a mac address  this mac address is the address of the node  the address of the destination where it is supposed to reach  the destination node this destination node ? the switch has to know that this destination is connected to this particular outgoing link there is a question of mapping from the mac address to a particular output line and if that output line has a tag as we had seen in the earlier lecture on some of the switches that they use tags if they have a tag  depending on this mac address  this tag could be sort of maybe looked up from table or something and added to the packet so that packet can make its way to the switch and reach the final  correct output line  and from then on to the destination station  refer slide time  05  42 ? 06  57  depending on the address  the packet is forwarded to another port since more than one packet may arrive at different ports destined for the same output port  they may have to be internally queued this was also discussed in the last lecture  that if we have more than one packet which is sort of destined for the same output port  obviously we can not take both of them together one of them has to wait in some memory or in some buffer or maybe it will be queued because there maybe other packets coming up for the same port so they will be all queued and this queue could be serviced by the output line 1/1  that means 1/1 will be popped out of the queue you may queue it right at the input  if you see that the output port is busy  you may queue it at output port or somewhere in-between not dropping packets and being fair to all input lines are desirable criteria for packet switch design that means we do not like to drop packets ; we want to buffer them as far as possible of course if a switch is of small capacity  which is swamped by a huge number of incoming streams  etc  maybe for the same output port or something the queue  the switch may be forced to drop some packets but usually we would not like to do that we would not like to drop any packet and at the same time we do not want to starve any particular input line in general  we like to serve all of them in a fair fashion these are the criteria we use for evaluating a design for a particular packet switch  refer slide time  07  37 ? 07  56  the first-generation packet switch went through several generations  we are in the 4th generation or something anyway  the 1st generation packet switch is here  it simply uses a cpu  stores packets received online cards in its main memory these packets are routed to output queues  the packets in the same queue are scheduled by software for access to the output line card let us look at this  the simple kind of a situation  refer slide time  07  56 ? 09  27  we have a cpu with some memory there are particular input and output queues ; these are the line cards what are the line cards ? this is a 6 port switch as you see ; there are 6 lines  and there are maybe so many ports these ports  some of the functionalities are collected together and they are implemented in a small dotter card kind of thing  which is called a line card a line card will handle just a few of the lines  and there will be several line cards on the same switch if you go back these packets are routed through the cpu  which does the lookup ? it looks at the mac address  the particular output port to which it must go cpu will have all that information the cpu looks up and then it directs that packet to the particular output port there maybe a queue and this queue is scheduled by software for access to the output line card this was the first-generation packet switch  which is fine ? excepting that because of this cpu and memory storage  looking up  tables  etc  it takes time these switches were  refer slide time  09  27 ? 10  56  comparatively slow next we came to the second-generation switches here some of the routing functions are involved do you remember what the routing function is ? the routing function in general means that we look at the destination address and decide which output line this packet must go to and this routing function  if you are doing centrally  naturally it will be slower you can distribute it somehow  like distributing some of the routing functions to the line cards themselves line cards which can switch locally if the destination is on the same line card ? there is another point you can do that ? and if a particular line cards sees that the output destination will go through the same line card through a particular line  then the line card need not send it to the cpu at all this can switch locally so that was one improvement over the first-generation switch secondly  there is contention for the shared bus ; that is of course a problem  a contention for the shared bus  and packet switch can not be routed and the same is handed over to a central processor this can not be the local line card  which does not have enough intelligence and knowledge to know how to route it in that case that is sent to the central processor  refer slide time  10  56 ? 11  32  in third-generation switches  the shared bus is replaced by a switch fabric  which is an interconnection of buses and switching elements the shared bus is replaced if you remember  we can use a bus for broadcast  etc  like we did in knockout switch that may become a problem because of the contention for this shared bus so we replace that by the switch fabric  which is the interconnection of buses and switching elements  refer slide time  11  32 -11  52  when a packet arrives in this third-generation switch  which we will discuss in detail  when a packet arrives at an input port it is tagged with the output port id by a control processor the switch elements automatically routes it to the correct output port  as we have seen  this routing takes place in a min the buffers in the switches can be associated  refer slide time  11  52 ? 12  21  with the input or the output or with individual switching elements the switch fabric may be cross bar  broadcast  banyan or other configuration we have seen some of these configurations ; remember the cross bar switches ? that means just a simple connection of switches ; then we have some broadcast like the knockout switch  maybe a banyan like a multistage switch or other kinds of configuration  refer slide time  12  23 ? 12  54  there are three types of switching fabrics  one is that we are using through the memory  other is one which you switch through a shared bus or you have a fabric of switching elements like cross bar ? it is the simplest kind of fabric of course you can have more complex fabric over here as we have seen  like multistage interconnect network these are the three different types of switching fabrics that we have  refer slide time  12  54 ? 13  48  switching via memory  this was the first-generation routers as we have discussed packets are copied by a system  a single cpu now  speed is limited by memory bandwidth at two bus crossings per datagram  what is happening is that from the input port  some packet is coming through the system ; the bus sent to the memory where the cpu is looking into it and then decides where it must go  then sends it back to the data bus in that output port  which catches it and throws it out this is the sort of part which gives a bottleneck to this entire scheme because this bus part tends to be slow  refer slide time  13  48 ? 14  04  in modern routers  as i mentioned input port processor performs lookup  copy into memory  etc an example is ? this is short of commercial system ? like cisco catalyst 8,500  which would take this kind of approach  refer slide time  14  04-14  40  switching via bus  datagram from input port memory to output port memory is via a shared bus bus contention  switching speed is limited by bus bandwidth you have very fast buses like 1 gbps for cisco 1900  which is low and cisco switch  which has now been discontinued it has sufficient speed for access and enterprise routers  not regional or backbone but this bus structure does not really do well for higher level switches and one example of bus structure is a knockout switch we have already discussed  just to recapitulate  we have n bus interface units  one for each outlet and each takes input from all the broadcast buses ; each delivers output to its own outlet this is  if you remember the diagram of the knockout switch  you have these buses on which the data is broadcast from the input side in the output side  particularly bus interface unit for which it is destined  it catches the particular packet ; others ignore that packet and so it is queued up over here ? like q1  q2  q3  q4  etc  and it is pumped out as per this queue  on a first come first serve basis ; this basis could be something else also if you want to have some other pair  also in particular packets  etc  it ? s possible but in the simplest case  this is a first come first serve kind of queue  refer slide time  15  47-16  16  switching via an interconnection network are just as in the other kind of switches we have seen it overcame bus bandwidth limitations  that is the basic implication as we want to go faster and faster  we have to migrate from buses to an interconnection network we have already seen banyan networks other interconnection was initially developed to connect processors and multiprocessors  etc it became useful in this class of packet switches  refer slide time  16  17 ? 16  29  advanced design may involve fragmenting datagram into fixed length cells  switch cells through the fabric ? this was the idea for example  this is done in  let us say atm switches in atm switches what they do is that whatever the packets may come in the form of packets  it may come in the form of streams originally ; it is finally broken into fixed length cells the good thing about a fixed length cell is that you can  if you know length in advance  then you can design hardware so that it can be handled in faster a possible way although the atm cell has 53 bytes inside the switch  it is something like 64 bytes  these 64-byte cells are fixed length cells and they are pumped as fast as possible it is for designing very fast interconnection network  in which we fragment them into fixed length cells cisco 12,000 switches gbps through the interconnection network  when you go to this gigabit kind of switches  you require an interconnection network or maybe something more as we will see  refer slide time  17  38  17  47  as was discussed earlier  we have three kinds of approaches to handling  contention and buffering  etc one is on the input side  another is on the output side ; the other one is somewhere in-between we will discuss these one by one ; first let us come to the input side but before we go forward  i will digress a little bit  i will just explain a little bit about what is involved in the input side  the input part of the switch if you remember in our discussion about the several osi models  in the bottom-most layer  we had the physical layer above that was the data link layer  above that we had the network work layer  above that we had transport and other layers  which do not occupy us at the moment we will look at these later but we are having the physical layer  the data link layer and then network layer or the routing layer  these three are sort of very closely linked to switches operation first is the physical layer  that means  physically the link is coming in some fashion that means there will be certain kind of connecters  certain number of lines are coming per input line when we are saying one input line  but the one input line may consist of a number of wires when you are connecting for example  if you are connecting through a cat -5 cable  there are a number of wires which will connect to that particular port ; that is  a single port similarly  in other cases  you have a physical layer  you have an optical connection coming in  and you must have an optical detector over there  etc this also means physical characteristics of the media have to be handled by the input port if you look at this picture again  we have just the input part shown over here  this side is the switch fabric  that means  getting inside the switch so here it is sort of the line card itself first there is a line termination  which takes it specification  etc  from the particular physical layer that is being used we have something like a data link layer functionality an example of a data link layer kind of protocol is the ethernet we will  of course  look at details of ethernet later on what does the data link layer contain ? the data link layer contains the address called the mac address  which we have talked about in the last lecture ? the mac address  the media access control address ? of the next machine to which it is destined please remember that these addresses are addresses of the machine  because the source node knows the destination  let us say it may not know it also directly anyway let us forget about the large network  let us now focus on a particular switch and some nodes connected to this switch this node a knows that i want to communicate with the node b of course node a  b  etc  do not have any meaning at this level so at this level  some particular address is given called the hardware address  which actually is the address of the networking card if it is a computer that you have as a node  then the networking card of the computer  the network interface card  the nic card  it will have some address built into it in the hardware similarly  the destination will also have another hardware address this hardware address is put in this data link layer part and that means the data link layer puts this hardware destination hardware address into the packet  refer slide time  21  53  22  22  this address has to be read and then somehow you have to make a mapping from this address this particular address is connected to this particular line for that you need some lookup  forwarding  and queuing ? if you are doing input queuing  you will do the input queuing also what kind of lookup ? this lookup will tell you that for this particular mac address that is the output line card nowadays  what the switches do is that they keep on sort of getting this information in a dynamic fashion when a switch is connected to a number of computers  the switch will listen to the network traffic and find out all the hardware addresses  which are connected to these different lines it will sort of slowly gather this information and store it inside ; it will know that whenever some particular node is sending  it will give it the source address  also called the source mac address it will now get the source or mac address and this particular mac address must be connected to this line this switch keeps on gathering kind of information  and storing inside ; and part of it maybe stored locally in the line card some part of it maybe stored centrally and there are thousands ? nowadays  a switch can remember thousands of such mac addresses  which are directly connected to the switch there is another level of problem  which is finding about the addresses of remote machines  machines that are not connected to this switch at all machines  which are connected through others switches  routes  etc  in a different country  maybe so that is a different problem ; that is a routing problem  but in the data link problem we are concerned with all the mac addresses of all the nodes which are connected to this particular network which is local so that is stored in this switch ; you will now look up the table  refer slide time  24  07 ? 24  21  and decide that that is the final destination output line  which is the forwarding line and then you do the queuing then you send it to the switching fabric for its final destination  refer slide time  24  22  26  04  we will now talk about decentralized switching  given datagram destination  there is lookup of output port using routing table in input port memory  the goal is complete input port processing at ? line speed ; ? so this is what i want to do we do not want to hold up this particular packet ; you get the maximum throughput at the maximum speed we do not want to hold up any packet in any buffer ? ideally that is what we would like to do so we want to look it up locally at the input port itself  if that is possible but please remember that even if you can do all this lookup business at the line speed at which the packet comes  even then you maybe forced to store the packet for some time because either the output port where this particular packet is headed is already occupied because it is sending some other packet through it at the moment to some intermediate switching element  there maybe a contention for intermediate switching elements  etc for all this contention  etc  we maybe forced to put this packet on hold even if we do the lookup at line speed so we have to queue this in the datagram and the other possibility is that if the datagram arrives faster  then forwarding it into switching fabric and forwarding maybe constrained by all this contention  etc then you have to put it in a queue so what you can do is that you can put it in the input  refer slide time  26  05 27  00  side ; you can buffer it at input called input buffering packets are buffered at the input they are released when they gain access to both the fabric and the output trunk that means both the internal switching elements as well as the output port must be free and then this packet maybe released from the buffer  which is held at the input all elements except the arbiter  which is combinational  needs to run only as fast as the lines so this is a good point about input buffering that elements do not need to be faster than the rate at which the lines operate in some other cases  we will see that at faster speed  this is a big problem  this input buffering  which is known as the head of line blocking let us look at head of line blocking  refer slide time  27  03 ? 28  33  look at this head of the line blocking ? you see what is happening is  here you see there are three input ports  and this is the switch fabric there are three input ports ; the destination is shown by the color  that means the following  red means it is destined for this particular port ; blue one is destined for this particular port ; green one is destined for this particular port see what is happening  the first packet  red  comes here and goes to the output port ; this one is also red  which means it is destined for the same output port although there is no contention in the switch fabric ; it has to wait that is accepted the trouble is  this green one  which was sort of destined for something in the middle  and which could have gone through this fabric at the same time as this red packet  is flowing at the top this has to wait because the queue is blocked by this particular red packet this is called head of line blocking at the head of the queue  there is somebody who is blocked and all the people who are behind  all the packets which are behind  have to wait  this is called head of line output port contention time t  when only one red packet can be transferred so the green packet experiences head of line blocking this is the head of line blocking  which is a problem with input buffering other reason you might require input port queuing is that the fabric is slower than input ports combined input ports combined means it is a special case when all the lines are trying to pump data at the same time what you require is a sum total of all the speed that you get over there  which is not always possible  because then surely there will be contention inside for the switching element so you will be forced to queue some of it at the input head of line blocking we have already discussed that queue datagram in front of a queue prevents others in queue from moving forward so there is queuing delay and loss due to input buffer overflow this is the other thing  which might happen ; what might happen is that this queue is given for each input port at each input port since this buffer is not shared  this one is only for that particular input port naturally the size of the queue is limited ; if it so happens that data is coming in at a fast rate and the fabric is very congested  it is not getting a chance to go through  this queue at the input port may overflow if they overflow  which means that some packets have been lost  it is a very undesirable situation ; but this may happen this is the head of line blocking so the other option is to buffer  refer slide time  30  33 -30  58  them at the output ; that means  you have a queuing buffer management  this part  then the output part is being fed from the switching fabric ; queuing buffer management ; data link processing  that means  protocol decapsulation for the next jump  etc  and finally the line termination once again you have to go to the physical layer over here this is the output port queuing  refer slide time  31  00 ? 31  13  what are the implications of output port ? queuing buffering required when datagrams arrive from fabric faster then the transmission rate  the fabric is pushing a datagram into a particular output line at a faster rate than the output line can pump it out naturally packets are getting accumulated near the output port  so packets are getting queued over there so you develop a queue  refer slide time  3  30 -32  11  there is a scheduling discipline  which we might choose among the queued datagrams for transmission ? which is the one that gets the higher priority  if you are putting some higher priority etc  and even if you are trying to give the same priority to everyone  it might so have happened that we might have kept one particular packet quite long in other places ; we may have sort of fed it back ; i did something with it as it was already late we might like to give higher priority than other packet  etc so there maybe a scheduling which is going on in this queued buffers are maintained for each output line  refer slide time  32  11 ? 32  25  this is a great advantage  because it does not suffer from head of line blocking naturally  because it is been buffering as soon as possible  but there  refer slide time  32  26 ? 3  42  are problems later stages of switch fabric and buffers have to be n times faster in the worst case to avoid dropping of packets within this space this rule makes the switches more expensive another thing is that suppose  in the worst case  all the n inputs  say n ? 1 input lines  are trying to feed data into the same output port what is going to happen is that these packets  which are coming at the line speed through n ? 1 lines  they sort of start converging to the nth port how can they converge ? obviously  if everything is operating at the same speed  then there is going to be contention in these switching elements or one way to avoid this contention is to make switching elements faster that means suppose two of them have to go to the same switching element but suppose that the switching element operates at double the speed ? i am just giving a simple example ? at double the speed but at the same rate at which it is coming  it can push it forward so as you go more towards output port  the speed requirement becomes higher and higher finally  near the output  at the very point of the output port  it has to be n times faster approximately  which is not done like n times faster that is not possible but the point is this is a difficulty which we have with output buffering ; although we do not have head of line blocking  they tend to be more expensive if you have a buffer fabric i mean there is always a sort of trade-off between how expensive a particular switch is and what its performance is naturally if you want to go for higher and higher performance where it is very important  then you need to sort of get switches that are more expensive  refer slide time  34  47 ? 35  31  we have the buffer at the input and buffer at the output the buffer maybe distributed in-between all over the fabric  the buffer is associated with each switching element  which is used when the next stage is not available it needs a lot of memory and quality of connection is difficult to control the point is that if  throughout switching fabric  if you have distributed our buffer  it is very difficult to have any kind of policy about priorities  etc the switches will handle it any way they can  so we can not have a policy which holds over all the buffer because we do not have processing capability over there ; it is just a buffer and a switch  refer slide time  35  32 ? 35  44  this is an example of a switching fabric element you look at this switch in the center we have the switch and then with two input lines coming in  you have a buffer over here if the next switching element is busy  then that particular thing can be put into the buffer  from the buffer it will come back to the switch and then get switched when the next element is available  refer slide time  36  10-37  04  buffers need to be only as fast as an element ? s fan-in ratio  and during overload  the resulting queue is distributed there is one good thing about distributing the buffer ? which is that instead of putting all the buffer either on input side or the output side as the output side gets more and more congested in one particular area  what will happen is that the previous switching element will also get congested they will buffer something and then the buffer will be pushed back what is happening is that there is a distribution of this buffer all over the fabric these later stages need not be all the way up to n times faster than the initial stages  which is not always possible so that is one good thing about buffer fabric  refer slide time  37  04 ? 37  35  we will look at some examples of packet switches  we will talk about three switches that is  ethernet switches  atm switches and ip routers ? these are all packet switches all of them hold very important positions in the world of networking ; we will just look at these one by one  refer slide time  37  35  37  51  let us take up an atm switch first if you remember  in the atm system  we have fixed sized cells ? in the atm world  there called cells  then in the ethernet world  etc  they are called cells packets  datagrams  etc anyway they are called cells ; these are of fixed size  like 53 bytes etc each cell will contain a so-called destination address and the destination address is in two parts  one is called virtual path identifier and the other is virtual connection identifier ? vci and vpi in the virtual connection table what happens is that atm is a set of virtual connections ; what is a virtual connection ? a virtual connection is somewhere in-between a physical connection on one side and completely connectionless  let ? s say ethernet packets  on other side in a completely connectionless ethernet packet  that packet contains the full destination and at each node in-between  this destination is interpreted  looked up into some table  etc  some algorithm is done  and then you decide what is the next step to go to in a connection-orientated system  physical connection through the switches is set up from the source to the destination in a virtual connection  virtual connection is also set up so there is initial set-up time just as there is for connection-oriented  purely physical connection-oriented systems similarly for virtual connection also  we need a set-up phase and then you can start communicating in the set-up phase  all the nodes in-between know that we are going to have a session  where the destination is going to be ; what would be its next address  and so on ? it is computed  let ? s say  as we do in ethernet  etc but once it is computed  it is coded in a very small vci/vpi the port one has to go to for this particular session is identified by the vci and vpi so this computation is done  recomputed at each of the intermediate nodes  and then the virtual connection is set up ; that is all there is no physical connection so as soon as there is some cell  which is for this virtual connection  an intermediate node will immediately know that this is the next step and that is where it will push it so you do not have to do a full-scale look-up  you have  refer slide time  40  29-41  40  a very big table so we look up a very small table of vci and vpi in the vc table but  of course  just as the virtual connections are set up  they maybe taken down so we replace the old vci/vpi with new ones ; forward cell to outgoing interface transmit cell onto link this is how an atm switch works you will see that the basic concept of the cell remains the same ; that means  we have to find out the output port from the address once the output  the addresses are set up  it is simply a small table of vci/vpi  which make this look-up process much faster with this  together with the fact that the cells are of same size  you can develop your hardware in such a way  so the atm switch will work very fast otherwise  the rest of the switch and switching principle remains the same as we have discussed already  refer slide time  41  40 41  55  next comes an ethernet switch  which is perhaps the most common type of switch that you see almost everywhere as a matter of fact  the number of ethernet switches which are being used almost regularly  is so high that the cost of switches has also come down it is because if you produce something in large numbers  you can amount the cost of its development  etc  over a large number of switches  so the cost of switches comes down ethernet switches have become very cheap these days  switches which used to cost maybe 1 lakh or so 10  15 years back  cost only few thousands of rupees today   this is the most common type of switches  which we see everywhere if it is an ethernet packet  then it has to handle the ethernet addresses which are in the packet the ethernet address is actually a 6-byte address  so we will have a 48-bit address usually we do not get to see it as users  because this is 6 byte ; it is very difficult to remember such a long address  and these addresses come in a very random fashion it is very difficult to remember ethernet addresses  but human beings need not remember ethernet addresses ethernet addresses are learnt by the system ; when a system is put in a network where the system maybe a computer or a node or the system maybe a switch or a router  they learn about the ethernet addresses  local ethernet addresses  which are there we will get into the details of ethernet  etc  later on but anyway this lookup is necessary the first step in ethernet switch is look up frame destination address in forwarding table ; if known  forward to correct port ; if unknown broadcast to all ports so this is what an ethernet switch does suppose a packet comes with a particular destination address  and if the destination address is known  the node having this particular address is connected to this particular port then the output port  for this packet ? s output port  is forwarded to the correct port if unknown  you broadcast it to all ports why is this ? if you remember as i mentioned earlier  these switches automatically learn from whatever is going on ; they automatically learn the mac addresses of the local machines but suppose it is put in a network  in the beginning it does not know anything what does it do ? what it does is that  as soon as it comes from some port  it broadcasts it to all the other ports it will listen and find out which is the one that really was successful and there are various protocols for finding these things out ; it will slowly learn it may so happen that this switch may get a packet for which the destination address is not known to the switch in that case  it broadcasts to all the ports then we have  learn source address of incoming frame ? one thing of course is learned from this frame  although the destination address is unknown  it knows the source address ; the source address is the particular incoming link it came in through this particular address must be the node having a particular address  must be connected to this port so that later on if this particular node comes as a destination  it knows where to send it to forward frame to outgoing interface ? that is the other thing  transmit frame onto a link these are the various functions of an ethernet switch  refer slide time  46  07-46  17  we have something called an ip router ; router as you know works at the network layer ; it is not in the data link layer that means a router has a different set of address called ip address ; so ip address is a global kind of addressing scheme there is some scheme for this ip address although not as good as the telephone numbering scheme  but anyway  there is some central control the job of the ip router is to find out this global address that i have got maybe this particular node is in some other country ; it has to understand that for going to that  reaching that final destination  i have to take this link locally then it will send it to the next level  that is  the data link level  for hopping that particular local layer once again  we have the same problem that we have got an address  some kind of destination address  which happens to be an ip address we have to do that  look up  we have to decide this is the port it must go to and then send it to the port so the same switch is used with some added processing capability for doing the process router ? usually it comes with all kind of other functionalities and also it needs some processor of its own and it needs some memory naturally for running programs  etc there is some kind of an operating system which is there in a router  so a router is more complex but the hardware part  the major part of an hardware  is still the switch and the input and output line ports usually a router can handle different types of ports ; for example  usually an ethernet switch will handle only ethernet port so the physical characteristics or the physical layer properties of the ports are constant for all the ports  but a router can cut different types of cards  which can handle different types of ports  maybe serial port  high-speed serial port  and all kinds of things  refer slide time  48  27 ? 49  13  but the basic thing remains the same look-up  the packet destination address in forwarding table ? if known  forward to correct port ; if unknown  well  the router can not broadcast it because if all routers start broadcasting then there will be broadcast all over the world through all the routers  which is not really acceptable at all you can broadcast something only locally by an ethernet switch ; so if the destination is unknown  and it has no way of finding where to send it  it simply drops the packet when it sends  it decrements the time to leave  update header  checksum ? so these are some of the side-effects which it has to go through ? let me not go into the details of this ? and finally forward the packet to outgoing interface  transmit packet on the link as usual  refer slide time  49  14 ? 49  26  this is a router ? once again we have a switching fabric  we have input port and we have output port  and we have a routing processor  refer slide time  49  27-50  55  let me quickly look at some of the issues in developing fast packet switches first thing you must know  understand  is that the demand for communication speed is growing much faster than that for computational speed you know that in computers there is this moore ? s law  which tells that every one-and-half years maybe  the speed doubles ; the memory capacity maybe doubled ; etc but if you look at the way growth has taken place in the communication field  especially with this speed of communication which is required  this is much faster than the similar developments in the computational area there are two reasons for this  one is  of course  people are trying to communicate more people previously were just satisfied with voice ; now they want to send data  they want to upload or download large files  they want to send movies  etc the individual demand for bandwidth is growing  that is one thing ; and the other thing is that more and more people are getting connected to the network as more and more people get connected to the network  the number of possible connections goes up as n2 ; if there are n people  as n goes up  it goes up in the squares so all this is going through the central backbone  etc at the backbone level  the speed requirement is very high  so we require very fast packet switches and we will look at  refer slide time  50  57 ? 51  08  just some issues over here the main bottleneck in an ultra fast switch is the speed of memory used in buffers this is the main bottleneck  refer slide time  51  09 ? 52  17  for example  if you have a 5-nanosecond sram  that is  static ram ? it is the faster kind of ram rather than dram and you have 64-byte wide bus ? you have 5 ns per memory operation  that is your memory speed  two memory operations per packet you have to write it there and you have to read it  so that makes it 10 ns and you have 64 bytes  which means 64 ? 8  that is  512 bits ? so you are handling 512 bits in 10 ns  which comes to 51.2 gb/s this looks like a very high figure but now  we get switches which have speeds of maybe 100 or even 200 gb/s they are very high speed  so the buffer memory is the maximum this is not as simple as that ; ultimately it comes to about 40 gb/s or so we use the fastest possible ram but even that is not enough so we can take some possibility   refer slide time  52  18-52  33  one is the ping pong buffering  which means the packet comes over here there are two buffer memories  one is that either you send it or you put it in a buffer like this  refer slide time  52  34 ? 52  59  for example  when it comes  maybe one of them is being sent while the other is being buffered then this one will be sent and the next one that comes  will be buffered so you are trying to double the speed at which it is operating you require two buffer memories for it that is one approach  refer slide time  53  00 ? 53  01   refer slide time  53  02 ? 53  27  the other approach is to use multiple parallel buffers ; instead of two  you have many of them and you put them in buffer in parallel  so you can go about it maybe in a round robin fashion  put in an multiple buffer and the other bottleneck is that  especially in a router  if that your processor  if that is centralized  then that becomes the bottleneck for speed  refer slide time  53  27-53  35  we have the fork  the so-called fork join router  where maybe you have put a number of routers in parallel these lines are coming at a particular rate ; they are distributed over all the routers so the routers individually do the look up  etc  at whatever speed they operate on then they keep on pumping this side as well as this side ? these are combinational so they can operate very fast ? the look up  etc  is paralyzed these do not have any buffers in them  this part has the buffer so this way  by going in for parallel operation  we try to make as fast switches and routers as possible this speed is going on increasing as they have to increase in order to cater to the growing demand of packet switches  speed of packet switches  and capacity of packet switches  all over the world thank you preview of next lecture lecture no # 09 sonet/sdh this lecture  we will discuss about sonet the word sonet stands for synchronous optical net work sonnet in the usa  canada and japan,synchronous digital hierarchy elsewhere for example in india  we will be calling sdh  this is a time division multiplexing system that transmits a constant stream of information  refer the slide time  55  14 ? 56  57  please look at this figure so we have some multiplexers as the figure shows  we have a multiplexer in this side another which is an output fits to another multiplexer  this multiplexer is going in this direction and then after some time  the signal becomes weak we want a repeater  that means what is a repeater ? a repeater is something which boosts the signal strength  so there is a repeater then it travels some more distance and then there is a repeater again and then it travels some more distance and the other side we have the corresponding demultiplexer and then it fits into the other demultiplexer from repeater to repeater  we call it as section so all from repeater to multiplexer this is also a section multiplexer to repeater  repeater to repeater  these are called sections and then from multiplexer to multiplexer we call it a line at the repeater nothing happens except the signal is cleaned up  signal maybe boosted or there maybe other cleaning operation synchronizing operation etc that maybe done at the repeater but as such the signals which are traveling here are the same set of signals are traveling here at a multiplexer some of the signals may go off in another direction  some signals may go in some other direction etc at the multiplexer there maybe convergence or divergence depending on which way the signals is flowing so that may happen at a multiplexer so from multiplexer to multiplexer  we call it a line and then from the end user part point to end user point  we called it a path  refer slide time  56  57 ? 57  09  the spe does not necessarily start in column 4 which mean that the spe that does not necessarily stay within 1 frame  these are 2 very important points in on it  the point is that all through you have 87 columns but actually the data may start getting transmitted as some arbitrary point inside that 87 columns what is the idea ? why do want to leave something and they only start from the middle ? the point is that if there are some kind of mismatches because of miss matches of rate etc  if everything in the world were absolutely synchronous  all activities an all equipments etc then would have started from the beginning but that is not the case this is where we absorbed this kind of variation and this gives a great flexibility to solve it which was not there earlier other interesting thing is that spe does not necessarily stay within 1 frame which means  that the spe start in 1 frame and then 1 in another  we will just look at a diagram of this let us have a diagram of this  you see the spe  this light green color that really starts from somewhere after leavening some of the root  starts hear in the path overheat is somewhere hear and there are 2 frame is here so the spe is really spent in both the frames computer networks prof.sujoy ghosh department of computer science and engineering iit  kharagpur lecture # 9  refer start time  00  47  good day in this lecture we will discuss about  refer slide time  00  54  01  16  sonet the word sonet stands for synchronous optical network  sonet in the usa  canada  and japan  synchronous digital hierarchy elsewhere for example in india we will be calling sdh so this is a time division multiplexing system that transmits a constant stream of information  refer slide time  01  17  02  10  sdh is actually a successor of pdh few years back we used to have a pdh gear in our telecom infrastructure in the wide area network part that is plesiochronous multiplexing  nearly synchronous   this business of being a nearly synchronous introduces us a lot of problems and complications so  when from this nearly synchronous we went to synchronous  that was a major achievement as well as improvement of services as we will see later on in the pdh multiplexing in which two or more signals are transmitted and nominally in the same digital way and the significant instance occur at nominally the same time this was pdh  refer slide time  02  10  2  34  when sonet was introduced  it had a number of achievements to its credit firstly  it is a standard multiplexing using multiples of 51.84 mbps  that is an sts-1 rate and sts-n ? we will look at this rates this was used as building blocks this is something that is to be understood that why it is that particular rate value is so important the point is when you are multiplexing the original source may come from various sources  and these signals will travel  will get together  will separate out and then mixed with others  etc that is possible only when we have in international multiplexing standard and this international multiplexing standard was first achieved in sonet what happened was previously of course the rate which people used were must less and they had all kinds of differences as technology grew and different sort of countries on different things came together  they came together at a certain rate of transmission and this is a basic building block of sonnet there is a standard multiplexing using multiples of this particular day that in itself was a big achievement  refer slide time  03  50  04  23  secondly  it also first stated the optical signal standard for interconnecting multiple vendor equipment the point was previously of course at lower rates they were all electrical signal standards  sonet has both has electrical signal standard as well as optical signal standard and in this optical signal standard it was possible to bring together multiple vendors to agree on to some particular format  refer slide time  04  23  05  23  and the third achievement in sonet was extensive oam & p capabilities so what are oam & p ? o is for operation ; a is for administration ; and m is for maintenance ; p is for protection maintaining the system  administrating the system  operation of the system etc  are much more flexible in sonet when compared to others what kind of flexibility  etc  that we will see regarding protection also  as a matter of fact it is so strong in sonet  that we will specifically discuss this aspect in a separate lecture when we talk about protection these are very strong points in sonet and that ? s not all  refer slide time  05  23  06  50  the fourth one was multiplexing formats for existing digital signals it ? s not that such a development can take place in vacuum ? that means they had some history and the trouble was that different countries have different kinds of histories it is not feasible for a technology to come and say throw away whatever you have been doing and put this there will never be forklift upgrade ; it is never possible because of cost  practical considerations  and all kinds of things so an evolving technology  in order to be successful  has to bring together previous technologies so that they can merge into this new technology and that was another sonet achievement these existing digital signals ? these ds1  ds2  etc  are different multiplexing standards at the low end by the way there is also ds0 and ds0 rate is our venerable 64 kbps line rate do you remember once again that for voice channels  we require a 64 kbps because of pcm  etc we have already discussed so that is a ds0 rate and these several ds0 get together to form ds1 and so on  and that way  there is a hierarchy of rates  refer slide time  06  50  08  25  then the fifth achievement of sonet was that it supports itu hierarchy  e1  etc so this itu hierarchy was more popular in europe  india  etc and they had rates like e1  e2  e3  etc e1 was something like 2 mbps  and then e2 was 1mbps  and e3 was 34 mbps  whereas the development in usa was on a different track they had a tone rate t1  t2  t3  etc their rates were as above  ds1  ds2  etc what happened was that when sonet got introduced  these two sort of came together and although they are not perfectly identical ? these sonet and sdh ? for most of the part  they are identical ; they interoperate with only very slight modification at the boundaries  which is not very important that is a great thing and that means that the same standard is being adopted worldwide  so that any signal can be transported in any way if there is an infrastructure  we can transport in anyway to another part of world ; there is no problem so bringing together of these  that means bridging the atlantic ocean of these two standards  that was another good achievement of sonet  refer slide time  08  25  08  49  the next is that it accommodates other applications the other applications which were not a part of this kind of hierarchy  like bisdn  that is broadband isdn  also can be accommodated in sonet and that way you see sonet was quite flexible ; and how this flexibility is achieved we will see that later on  refer slide time  08  49  09  32  finally it allows quick recovery from failure  talking about protection  etc so if there is a failure like a line failure or if there is a terminal equipment failure you can deploy a sonet in a particular fashion and sonet can recover from this failure and this retransmission  etc  can take place in a short period of time that is very important when you want to give the so-called career great service  where arbitrary down time is absolutely not acceptable as i said  we will discuss this separately in another lecture  refer slide time  09  32  11  02  some of the broad features of sonet and sdh  it was first standardized by anci/ecsa  sdh by itu ? t so sonet was by this anci/ecsa and sdh by this itu ? t sonet is time division multiplexing  pure we know what time division multiplexing is  and we will see later on how frames  etc are made up it is a pure time division multiplexing system sonet encompasses optical and electrical specifications  so there are optical specifications as well as electrical specifications you know that usually at the user end  quite often things start at the electrical level and the rates are low but as you go more towards the backbone of the network  the rates that are needed at the backbone start becoming higher and higher and finally at the real backbone it has to be very high-speed network  and such high-speed networks are only possible through optical communication and optical networking once again  we will see about optical networking in the next couple of lectures our specification  the sonet specification  spans both the electrical side as well as the optical side  and that is a very good feature of sonet  refer slide time  11  02  11  42  sonet uses octet multiplexing  octet means the same thing as a byte that means 8 bits  so sonet uses octet multiplexing they are multiplexed byte by byte sonet uses extremely precise timing  something like in 30 years  maybe ; sonet has very precise timing and that is why things are synchronous and if things become synchronous  then we derive a lot of advantages out of that and sonet provides support for operation  maintenance  and administration  oam  as we have already mentioned  refer slide time  11  42  14  24  sonet is actually superior to t3 and t4  etc with improvements over the t carriers ; these t3  t4 are still in use but they feed into sonet nowadays but earlier  they were used to feed into this pdh and these t3  t4 have particular rates which existed  and their specification left something to be desired because of this lack of synchronicity  handling the signals from different sources is not easy what could happen is that when things are not synchronous  but just almost synchronous  then to handle this ? almost ? part  you have to do something ; you have to incur some overhead ; and you have to incur some complexity that was the difficulty with pdh ; in sdh or sonet  this is eliminated  and we get better transport performance then  we have the ability to identify sub streams this was another advantage of sonet over pdh  which is that a particular user uses may be using a very small kind of bandwidth ? small in relative sense ? and then  as more and more users  as i said as all these data streams or communications streams come towards the backbone of the network  the pipes tend to get fatter that means  we need faster and faster communication so between say two points in the backbone  there may be a very fast communication going on and then after going to some other hops  this will again diverge sonet has this ability that different streams can get together  travel for some time  and then again diverge so the ability to identify sub streams is very important  and that is also allowed in sonet  which was more difficult in the rdr system and of course international connectivity  as i said that it breached atlantic and that was great it enhanced control and administrative function  that was also very good from the point of view of service providers  refer slide time  14  24  16  00  we have talked about this seven-layer osi protocol ; where does a sonet sdh really fit in ? sonet sdh goes to the bottom of this if you remember  starting from the application layer  we go right up to the physical layer there are several layers in osi model  and there are other models anyway  usually the bottom-most layer is always the physical layer so sonet really fits into the physical layer in some sense so what would happen is that the layer just above the physical is the data link layer  may be  or layer two so after all this encapsulation  etc is over through all these six other layers including the data link layer  sonet takes it over for transporting it from one point to another so sdh is placed at the bottom of the protocol stack in the physical layer along with the fiber any ip traffic even if it is the ip traffic of a packet oriented traffic ? and remember that sonet is a tdm system ? it can sort of travel within a sort of tdm transport as they quite often do so any ip traffic that is destined to be transmitted across a fiber-based sdh network will be framed by a layer two protocol before being ready to take its orders from the sdh equipment  refer slide time  16  00  17  59  these are some of the multiplexing standards ? i have not given all of them i just indicate some of them if you remember as i mentioned ds0 is a 64 kbps channel and 24 of them constitute a t1 line so t1 rate is approximately about 1.5 mbps ; 4 t1 gives t2 and 6 t2 gives t3 and so on similarly 30 ds0 ? this is a european system ? gives e1 line so e1  if you remember  is about say 2 mbps  4 e1 gives e2 ; e3 is a 34 mbps line and then i suddenly jump right up to this thing called oc3 ; this o is for optical so this way  this 155 mbps is 3 of the basic sts 1 rates that i mentioned earlier ; i will come to this later on so these are some of the standards there is a whole hierarchy of standards ; for example  this name sdh is also synchronous digital hierarchy  this is a hierarchy for the sonet  the basic rate is sts 1 that is synchronous transport signal level 1  and the speed is 51.84 mbps this is designed to carry what was ds3 rdr or a combination of ds1 ds1 c  and ds2 etc as i said a combination of different streams can flow through a sonet pipe or sonet infrastructure so that is good and that means ds3 is a fat pipe or ds3 is almost the same as sts-1 so it is a fat pipe through which multiple pipes  say may be ds2 or ds1  etc may travel  refer slide time  18  03  18  25  and this net goes up to sts-n  whereas synchronous transport signal level is n ; so this has a speed of n ? 51.84 mbps designed to carry multiple sts -1 i mentioned that these are byte multiplexed sts-1 means 1 byte from one source and another byte from another source and so on  refer slide time  18  25  19  49  fundamental sdh frame is stm -1 ; sdh if you remember is the other standard  which came from europe and they sort of came together and that is what we are talking about sdh frame is stm -1 synchronous transport module and the sonet version is oc -3  that is  optical container  each providing 155 mbps so when we come to this rate this 155 mbps oc 13  different rates etc and different systems  are culminated here  at this 155 mbps  almost 155 stm 4 provides four times the stm -1 capacity  stm 16 provides a further fourfold increase  which means stm4 may be about 620 mbps  and then  if you go to stm16  which is four times that of about 2.5 giga bit/s  then you have stm 64  which is about 10giga bit/s so all these rates are there ; that means  from this point onwards  these two streams have converged and we are going to higher and higher rates in a sort of universal fashion  which makes things easy across the world  refer slide time  19  50  20  17  it is worth noting that the inter networking between sdh and sonet systems is possible at matched bit rates ; for example stm4 and oc12 ; so they interoperate a slight modification to the overhead is required as they are structured little differently so there will always be a little something ; but anyway that is not very serious so they do interoperate  refer slide time  20  17  20  41  we have seen the sonet electrical hierarchy ; now we look at the sonet optical signal hierarchy  oc-1 is the optical career  level 1 ; it carries sts-1 ; oc 3 carries sts-3 or stm -1 at 155 mbps ; oc-n optical career level n  refer slide time  20  41  22  16  oc  n as i mentioned is an optical carrier  which uses n ? 51.84 mbps  so oc  48 is about 2.4 gbps ; overhead percentage is about 3.45 %  oc signal is sent after scrambling to avoid a long string of 0s and 1s to enable clock recovery this is a small technical point ; that means in order to keep the whole thing synchronized  the sdh units use the transitions which happen when there is a 1 so the point is that if there is no 1 for a very long period in the data stream  then the clock on one side may drift relative to the clock on the other side ; that is always possible so we try to avoid long streams of 0s in this sonet or sdh  and we do that by scrambling the data from various streams  etc  or descrambling them the idea is that even if one of them is sending a long stream of 0s  there will be quite a few 1s from the other streams and then the clock will be maintained an sts -n is synchronous transport signal electronic equivalent of optical carriers  refer slide time  22  16  23  29  oc 3  oc12  oc 24 and oc 48 rates are common in telecom circuits ? if you remember oc 48 is 16 times of oc 3 ; that is  16 times 155 mbps  which is about 10 gbps upto 10 gbps is very common these days actually right now  with dwdm systems  oc 192 rate is already in operation  and oc 768  which is 40 gbps  is being talked about so that was another disadvantage earlier that this digital hierarchy of standard rates did not exist beyond a very small rate ? i mean small in today ? s comparison but now we have an extended and open system where  as technology improves  we can always go for higher and higher rates ; so from oc 3  which is 155 mbps  we can go to maybe oc 192  which is 10 gbps or oc 768  which is 40 gbps that we are talking about now  refer slide time  23  29  24  11  how do you use these high-speed links ? these high-speed links of course have to be on fiber ? we can look at details of fiber later on  but please note that in practical application  an sdh line system will have a multiplexer that takes its inputs from a variety of sources in different layer 2 data formats so here we are talking about these different signals coming in the electronic domain  and they are coming from a variety of sources  may be coming with different layer 2 data formats these are aggregated up to form frames at a line rate of system  for example up to stm 64 for a 10 gbps bit rate system  refer slide time  24  11  25  08  now these frames at 10 gbps can not be pumped anywhere it is very difficult to pump it on a copper so these frames are transmitted out onto optical fiber links there is a possibility of multiple sdh multiplexers to each give out one wavelength of a wdm system as we will see later on  this wdm stands for wave length division multiplexing  which is some form of frequency division multiplexing i mentioned about it when i talked about frequency division multiplexing in fiber optics  we talk about wavelength multiplexing so it is possible that one multiplexer is feeding into one wavelength  another multiplexer is feeding into another wavelength  and all these different wavelengths are traveling together in the fiber  refer slide time  25  08  25  44  at the end of the system  there will be an sdh demultiplexer on the other end  just as we have a multiplexer on one side naturally  you have to have a demultiplexer on the other side that now accesses the individual data streams from the stm 64 frames as required so stm 64 is carrying lots of frames in a very short time ; they are sort of separated out and then fed into slower streams down the line so there may also be an sdh add drop multiplexer with the ability to remove and insert lower bit rate streams from the signal  refer slide time  25  44  26  33  alternatively a digital cross connect may be present with the ability to switch individual vc4s well  this is virtual container four  which is another concept  we will talk about later so between different fiber links there is a digital cross connect ; if you have the digital cross connect in the optical level  the advantage is that you need not go into the electronic domain at all so the advantage of not going into electronic domain is that you are handling a huge  very fat  pipe ; that means  a large number of channels  and you can just switch them from one fiber to another fiber simply in the optical domain without doing any kind of processing ; and that is always an advantage  refer slide time  26  33  27  50  we will talk about some sonet terms now ; for example  envelope this envelope is the payload basically  after all encapsulation  etc  you remember that finally near the bottom we have this layer 2 and this layer 2 protocol will encapsulate it and then hand it over to sonet at the lower level  maybe at the physical level so whatever this layer 2 hands over to sonet is the payload ; the rest of it are kind of system overheads ? payload plus some end system overhead also goes into this payload so these together form what is known as the envelope ; this is a sonet term other bits and bytes which are used for management  that means oam and p portion  goes as the overhead of sonet then there is the concept of concatenation ; that means  unchannelized envelope can carry super rate data payload  for example  atm  etc so  the method of concatenation is different from that of t carrier hierarchy ; we need not bother about it at the moment  refer slide time  27  50  28  23  then there are some nonstandard functional names in sonet  like tm is for terminal multiplexer  also known as line terminating equipment or lte these are ends of point-to-point links adm is for add drop multiplexer ; we have mentioned this dcc is for digital cross connect wideband and broadband ; mn is for matched nodes and d + r means drop and repeat  etc anyway  these are just some terms  refer slide time  28  23  28  40  now let us come to some important concepts in sonet namely  section  line  and path what is a section ? i will just show you figure first and then come back to this  refer slide time  28  40  30  24  please look at this figure  we have some multiplexers so as the figure shows  we have a multiplexer in this side  another is an output that fits to another multiplexer this multiplexer is going in this direction and after some time  the signal becomes weak so we want a repeater ; what is a repeater ? a repeater is something which boosts the signal strength so there is a repeater  then it travels some more distance then there is a repeater again and then it travels some more distance and then on other side we have the corresponding demultiplexer and then it fits into the other de-multiplexer from repeater to repeater  we call it a section so from repeater to multiplexer  this is also a section so multiplexer to repeater  repeater to repeater  these are called sections and then  from multiplexer to multiplexer  we call it a line at the repeater  nothing happens excepting the signal is cleaned up the signal may be boosted or there may be other cleaning operation  synchronizing operation  etc  that may be done at the repeater ; but as such  the signals which are traveling here  the same set of signals are traveling here at the multiplexer  of course  some of the signals may go off in another direction ; some signals may go in some other direction  etc so at the multiplexer  there may be a convergence or divergence  depending on which way the signal is flowing that may happen at the multiplexer  so from multiplexer to multiplexer  we call it a line ; and then from the end user point to end user point  we call it a path  refer slide time  30  30  30  57  look at this once ; the portion from a multiplexer to a repeater is known as a section or it could be a repeater to a repeater also ; the portion from a multiplexer to another multiplexer is a line the portion from source to destination multiplexer is a path ; below path line and section is the photonic sub layer ; that means photonic sub layer is whatever is happening in the optical domain  and we are not discussing that at the moment  refer slide time  30  57  31  14  sections are bounded by repeaters or multiplexers that terminate the line ; lines may carry several tributary signals and are bounded by multiplexers  a path goes end to end between terminating multiplexers  refer slide time  31  15  33  49  each sth frame lasts 125 microseconds as i mentioned  this 125 microseconds time period  time epoch  is sort of sacred in this whole domain because 125 microseconds is what is required for a ds0 channel remember this is a time division multiplexing  which means that if you have a 125 microsecond kind of slot  then some of the ds0 bytes can take these bytes actually if you have to take it as 8 kbps and if it is 8 kbps  inverse of that is 125 microsecond so if you have a 125 microsecond slot  if 1 byte travels in this frame  then that is enough for 1 ds0 channel in sonet we have very very sophisticated and very fast equipment ; that means this is a time division multiplexing system ; within this 125 microseconds  not only 1 byte can go but lot of other bytes can go that means a lot of channels can travel together in this 125 microseconds frame this is the idea so each sth frame lasts 125 microseconds ; how many bytes are going in there depends on whether it is sts -1 or sts -2 or sts ? n  etc so 125 microsecond as i mentioned is 8000 frames/s sts -1 frame has 6480 bits or 810 bytes that means in one  125 microsecond slot or frame  we are putting in 810 bytes theoretically  of course  that means it can carry 810 ds0 or voice signals ; actually it is not 810  it is lesser than that because a number of these bytes are used for different types of overheads we will talk about this we have these 810 bytes  the octets are understood in terms of a table of 9 rows and 90 columns ; so let us look at this figure  refer slide time  33  49  36  16  we have a sonet frame or an sdh frame  which has 9 rows  you can see the 9 rows on this side and then 90 columns  total 90 columns out of these 90 columns  3 columns have been shown in yellow these are sort of used for overhead and these 87 columns are used for payload or for envelope if you remember  the envelope contains the payload as well as little bit of overhead  which we will come to later on this is how after every 90 bytes  we come back to again another 3 bytes of this overhead this is how it is to be understood  the first 3 columns contain transport overhead and toh has 9 rows by 3 columns  that means 27 bytes  which is subdivided into section overhead soh  section overhead   9 bytes  3 rows of 3 columns ; loh  that is  line overhead  which is 18 bytes  that is  6 rows of 3 columns so we have section overhead and we have a line overhead ? remember we have these three concepts like section  line  and path we have not talked about path overhead there is some path overhead and it goes into the envelope ; so there is some path and as far as these things as line and section are concerned  these are the overhead bytes just to clarify why do we require the over bytes ? the point is that the multiplexers or the repeaters have to have some communication between them in the control plain so as to give you this oam capability for that some information needs to be sent or exchanged between the two points ; anywhere there is a section  the section overhead would consider those things which are central to the section about the signal strength and other kind of things ; line overhead maybe would contain something else and similarly path overhead would contain something else but these are required for these oam capabilities that we have in sonet  refer slide time  36  16  36  49  let us look at these overheads separately ; first section overhead  which defines and identifies frames and monitors section errors and communication between section terminating equipment so these are its functions  it identifies frames ; monitors section errors ? if there are errors  it monitors section errors ; and communication between section terminating equipment  maybe two repeaters or a repeater and multiplexer  and so on  refer slide time  36  49  37  29  line overhead locates first octet of spe and monitors line errors and communication between terminating equipment we will come back to this locating of the first octet of spe this is a very interesting feature and we will talk about this separately previously we talking about section errors ; so line errors and communication between terminating equipment  etc  is taken care of by the line overhead apart from that  line overhead contains this pointer  really  which points to the first byte of the spe  refer slide time  37  29  38  36  and then there is a path overhead ; and as i said path overhead is really inside the envelope and we will look at all these later path overhead verifies connection path ; you remember path means from end to end ; that means from the end to end multiplexer is a path whether the connection has been established or not  it monitors path errors  receivers ? status  communication between path termination equipment  and so on this is the poh  we talked about the synchronous payload envelope or spe that i was talking about that is  the other 87 columns hold the spe  synchronous payload envelope   so spe has 9 waves by 87 columns  which are divided into path overhead and payload  which means the path overhead goes along with the envelope that is in the spe  whereas other overheads have separate bytes or separate columns associated with them as shown  refer slide time  38  36  39  52  now this spe does not necessarily start in the column 4  which means that the spe does not necessarily stay within one frame ; these are two very important points in sonet the point is that although you have these 87 columns  actually the data may start getting transmitted at some arbitrary points inside those 87 columns what is the idea ? i mean why do you want to leave something and then only start from the middle ? the point is that if there are some kind of mismatches of late  etc  if everything in the world were absolutely synchronous  all activities and all equipments  etc  then you could have started from the beginning but that is not the case and this is where we absorb this kind of variation and this gives great flexibility to sonet  which was not there earlier and the other interesting thing is that the spe does not necessarily stay within one frame  which means that the spe may start in one frame and then end in another we will just look at a diagram of this ; let us have a diagram of this you see  refer slide time  40  00  40  21  the spe in light green color ; it really starts from somewhere i mean somewhere after leaving some of the rows  it starts here  and the path overhead is somewhere here  and there are two frames here so spe is really spanning both the frames  refer slide time  40  25  40  57  spe is not frame aligned ; it overlaps multiple frames ; avoids buffer management complexity and artificial delays whenever there is something to send  you can just send it in the envelope ; just put that pointer to that yellow edge  so that yellow edge will point to the first byte of the spe it allows direct access to byte synchronous lower level signals  for example  ds1  with just one frame recovery procedure  refer slide time  40  5 7  41  33  these are the advantages of the sonet frames this is one frame coming in may be 125 microseconds ; this is the next frame ; and spe  as i have already shown  can overlap i mean it may start somewhere within the first frame and then continue in the second frame in this fashion and then be over here actually after this  some other envelope may come in over here  refer slide time  41  35  42  34  now of course where is the path overhead ? there are two fields  h1 and h2 in loh ; loh means line overhead  which points to the beginning of the path overhead path overhead beginning floats within the frame ; 9 bytes that is one column may span frame along with the spe ; it is originated and terminated by all path devices ; and this gives you end-to-end support these are the features of path overhead the point is that if you remember the path is end to end  that means it is close to the end users ; just as the end user may start somewhere arbitrarily in-between  a path overhead also goes along with the spe and it starts over there and at loh  we keep a pointer to this path overhead  refer slide time  42  40  44  17  just as some of the equipment that we use in sonet  one of the most important of these is the add drop multiplexer they are important because at certain point in the network  what might happen is that there are some sources which want to send into the network they will sort of go so there is this sonet equipment  which is adm let us say  and sonet stream is flowing let us say like this there may be something that wants to upload and travel along with this thing at the same time  this may be the destination location for some of the other signals which originated elsewhere ; they have to be dropped here so some signals have to be dropped  some signals have to be added so this multiplexer can handle that and that is very important that is why they are called add drop multiplexers this stream is itself of course flowing at a tremendous rate  whatever that rate is so sonet sdh is a synchronous system with the master clock accuracy of 1 in 109  which you will see is highly accurate it shows when you come in some kind of ccm clock somewhere and then there is a protocol for distributing and maintaining this clock over the entire network frames are sent byte by byte and adms can add drop smaller tributaries into the main sonet sdh stream and i have explained how that is done within that frame you can send lot of bytes ; you can take out some of the bytes and add some of the bytes that is how you take out some of the smaller tributaries and add some of the smaller tributaries  refer slide time  44  22  44  58  digital cross connect  which is an optical layer equipment  is also very important it cross connects thousands of streams and software control  so it replaces patch panel ; that is a good thing about the digital cross connect and a software control is coming where the control is coming from the control plane of the switches you can connect the streams from may be one fiber to another ; it handles performance monitoring  pdh sonet streams  and also provides adm functions ; that means add drop multiplexing functions  refer slide time  44  58  45  47  finally we have this concept of grooming in sonet grooming means  we group the traffic in some format so you want to keep this group in one particular way ; it could be that there is a one group of streams for whom you want to give higher priority or you want to give higher quality of service so you have to group them together similarly there may be multiple groups ; so it enables grouping traffic with similar destination  qos  etc  which is a part of grooming it enables multiplexing or extracting streams also ? that is also part of grooming narrow wider broadband and optical cross connects may be used for grooming  refer slide time  45  47  46  40  if you look at this figure  you have this narrow band  this sonet layer and optical layer in the narrow band  we have this ds0 grooming and then in the ds1 grooming  there is a white band and then the broadband ds3 grooming ? so the rates are going up  starting from the 64 kbps  it is going up when you are going up for the sts 48  you are in optical domain ; that means sts 48 is stm 16  so that is a high rate the point is that  at that rate  most probably  you are well in the optical domain then  finally  you can go to all optical domain ; that means wavelength  waveband  and fiber grooming ? there are different levels of grooming  depending on what you want to do  refer slide time  46  42  48  00  lastly we will just talk a little bit about virtual tributaries or containers we have already talked a little bit about it this is the opposite of stm ; actually in some sense this is called sub multiplexing ; that is  different streams coming together to form one very fat or very fast stream this is the other thing ? how do we  sort of  differentiate these sub streams within this  which has to do with sub multiplexing ? sts -1 is divided into 7 virtual tributary groups  sdh uses the term virtual containers or vcs we talked about vcs  we just mentioned what are called vts or virtual tributaries in sonet lingo so we have 7 virtual tributaries  12 columns each  which can be subdivided further you see that there are 12 columns each  with 7 virtual tributary groups ? we have got 84 columns and these 84 columns are out of the 87 you have in sts -1  refer slide time  48  01  50  00  vt groups are byte interleaved to create a basic sonet spe so this vt groups are byte interleaved they may be again extracted from each other vt 1.5 is the most popular  quickly accessed  t1 line within the sts-1 frame so the idea is that you have a t1 line  which is approximately 1.5 mbps line  which is coming out of your small business  and you have a 1.5 mbps line so that is your bandwidth requirement  you want to connect it to a distant location somewhere and you do not want your thing to get mixed up with others at the same time  as a small business you can not have infrastructure of connecting to another location which is wide apart so you will go with this public infrastructure or public switched tele psdn network or whoever is maintaining this communication equipment usually telecom people maintain it in most of the places anyway  they have a sort of fiber going from one place to another  which contains very high-speed links what you want is your t1 line should join them  sort of get transported over the distance and then go and feed into another t1 line at the destination that is what you want you want your t1 line to sort of have a separate sort of existence ? just like in a compartment  we have different passengers passengers have their own individual entity but together they are packed into one compartment and then they travel similarly your t1 line is going to ride onto to this very fast stream and travel to the destination so vt 1.5 gives your t1 line  refer slide time  50  00  51  16  how do you find out about the difference ? how do you separate them in the sp ? the point is  you require one more level of pointer used to access it you can access a t1 with just a 2-pointer operation  first from the loh ? you remember  you go to the sp  just like that similarly  you go to the different tributaries or different containers using just one more level of pointer this flexibility was not there earlier ; so it was very complex to do the same function in ds3 for example  accessing ds0 within ds3 requires full demultiplexing  stacked multiplexing  etc so you require full demultiplexing ; that is not required in sonet the point is that the other streams may go ; you know where in that frame your bytes really are traveling for the stream or for the container or for the tributary that you are interested ; you just extract it  others keep on traveling as they are so you do not demultiplex the whole thing and that gives a great advantage of add drop multiplexing  refer slide time  51  16  52  02  this is just a figure showing that you can have various types of lines  all feeding into the same infrastructure you may have what we have put over here  ds1  which is 1.544 mbps  e1  2.048 mbps  dsic ds2  ds3  atm .48.384  e4  which is 139.264 mbps  atm is about 150 mbps  etc they are sort of traveling ; they are getting in different containers from vt 1.5  different tributaries  that is 1 5236 etc  form a vt group and ride on a higher strength or higher speed stream  refer slide time  52  02  53  55  just as i said  these are sort of identified through a pointer ; so we have this transport overhead we use some bytes for that out of those 87 columns we have so we use some columns of that and then we put a pointer  which gives to the sts payload pointer then there is a vt pointer  virtual tributary pointer  and this much is the vt spe within the overall sts-1 spe  which is the payload even now sonet is the most widely used technology in wide area networking that is existing today of course  as you know  as technology grows  may be we will go out of sonet people are already talking about going out of sonet because one disadvantage of sonet is that its equipment tends to be expensive well  expensive compared to what we think today what is cheap today and what we think is cheap today may sound very expensive tomorrow ; that is how the technology grows so people are talking about direct transport over the optical layer  etc may be we will touch those aspects later on but all that is still in a sort of experimental stage and on the field  actually  sdh or sonet equipment is almost everywhere ; all types of telephone companies are connected through that and major service providers use this as a means of transport thank you  refer slide time  53  58  54  11  good day,so today we will be speaking about fiber optic components  refer slide time  54  11  55  22  and fiber optic communication as might of heard this lecture as well as the next couple of lectures  we will concentrate on fiber optic components we have looked at some of the physical layer components of fiber optic systems before so we will sort of quickly review that  some of the stuff we will be talking about today is going to be common and then from that point we will take out take it up into wdm systems  how wavelength division multiplexing is done and how systems are handled in fiber optic domain  this fiber optic domain happens to be very crucial because a lot of traffic in terms of volume may be as much as forty to fifty percent  actually goes through the fiber as days are going by and as more and more demand for bandwidth is coming up fiber optics is becoming more and more important  we will be talking about fiber optic components today  refer slide time  55  22  55  56  in fiber optic component of course the basic fiber is there we have already talked about it  so we will talk little bit more about this then we have light source and receivers on two end because we know that in fiber optic cables light is the carrier of information then we require these different components like amplifiers  couplers  modulator  multiplexer and switches so we will look up at these components one by one and then we will start our discussion on wavelength division multiplexing  refer slide time  55  56  56  42  the next set of components are multiplexers filters gratings  just talk little bit about it ,if you look at this wavelength  these are all ; wavelength selective  devices multiplexers  filters  these are wavelength selective devices in a wavelength filter and what we want is suppose ? 1  ? 2 etc so many are coming  i want only ? 1 out 2 ? 3 ? 4 etc are absorbed or something where as if you are a multiplexer i want the difference this ? coming in different lines  i want all to be mixed together and use the same line  these are wavelength multiplexer  refer slide time  56  42  58  07  so application could be particular wavelength or a particular wave band selection wave band is nothing but some contiguous operating wavelengths which all are side by side  if you remember that in the operating window what ever be that 1550 what ever may be the window you are using there you can have a number of ? all side by side  there is a guard band between each of these operating ? so where the guard band that is given by the i q t has specified  how much guard band etc you have to have but so you can have large number of ? all group together in the same window aband out of that means a bunch of sequence is out of that you can short select instead of selecting only  that is wavelength band selection static wavelength cross connects and oam is optical add drop multiplexers  you have come across this term optical add drop multiplexers in the context of sonet but optical domain we require optical add drop multiplexers  we will come to that equalization of gain so that is another application filtering of noise ideas used in laser operation and dispersion compensation modules etc  these are the different applications  refer slide time  58  08  58  15  one of the standard wavelength selective component is arrayed waveguide gratings ,we have seen this before ? computer networks prof  sujoy ghosh department of computer science and engineering iit  kharagpur lecture # 10  refer start time 00  43  good day so ttoday  we will be speaking about  noise  fiber optic  noise  components  refer slide time  00  53 ? 00  56 min  and fiber optic communication as might of heard tthis lecture as well as the next couple of lectures will concentrate on fiber optic components we have looked at some of the physical  noise  layer components of  noise  fiber optic systems before  so we will quickly review that that so ssome of  noise  the stuff we will be talking about today is going to be common and then  from that point  we will take out take up wdm systems  details of how wavelength division multiplexing is done and how systems are  noise  handled in fiber optic domain tthe fiber optic domain happens to be very crucial because  noise  a lot of  noise  traffic in terms of volume  okmay be as much as forty to fifty percent 40 ? 50 %  actually follows  noise  goes through the fiber as days are going by and as more and more demand for bandwidth  noise  is coming up  fiber optics is becoming more and more important  noisesso we will be talking about fiber optic components today  noise   refer slide time  02  05  02  39 min  sso in fiber optic component  of course  the basic fiber is there ; we have already talked about it  so we will talk little bit more about this then we have light sources and receivers on twotwo ends because we know that in fiber optic  noise  cables  light is the carrier of information then we require these different components like amplifiers  couplers  modulators  multiplexers and switches sso we will look at these components one by one and tthen we will start our discussion on wavelength division multiplexing  noise   refer slide time  02  40 ? 03  34 min  sso optical fiber as was mentioned earlier is very pure and very transparent silica glass is used so aat a moderate dimension  the light is restricted to the fiber because of total internal reflection for ordinary light ; this is a multimode fiber ok mmf mmf is used in lans lans for low speeds or short distances so mmf mmf may be used in lans lans ; that is another kind of fiber bbut the multimode fiber happens to be the cheaper variety and this is used in lan lans  but this is good only for low speed wwhen ii say low speed ii mean comparatively low speed  ok for this say hundred mbps 100 mbps or hundred and fifty five mbps 155 mbps may be a low speed and by short distances may be couple of kilometers at  noise  the maximum  refer slide time  03  34  03  51 min  at a still smaller dimension  that part of the fiber that actually carries the signal ? if you remember our discussion about  the fibers in physical layer  we have shown some diagrams regarding the cross section of a fiber  so at the very core ? is a very thin strand of glass fiber tthis is surrounded by a cladding which is also made of glass ; actually we will not be able to see the actual part of the fiber  which is carrying the signal tthe surrounding is also made of glass and that is again coated or covered etc  by outer protection so if that strand happens to be even smaller  say 8 to 10 nanometer range  tthen it acts like a wave guide and a single mode of operations  refer slide time  04  39  05  10 min  wwe will not go in details of eelectro mmagnetics and wave guide propagation of optics to this fiber  but any ways  the support of the single mode of propagation is called single mode fiber smf is used for higher speed  so all these speeds of 2.5 gb/sec or 10 gb/sec etc  are possible on single mode fiber and it also goes over longer distance ok and nowadays  we have fibers which span across oceans we have fiber from one continent to another  which is really a marvel of engineering and technology  refer slide time  05  31  05  50 min  so these fibers are actually single mode fibers there are a few transmission windows like 1310 and 1550 nm bandwidth etc fifteen fifty nanometer 1550 nm window is preferred for long haul applications because it has less attenuation  wider window  and we can get very easily get good optical amplifiers in this range  refer slide time  05  50  06  30 min  so t,this is the diagram you have seen before  so you will see that at around fifteen fifty nanometer1550 nm range  we have some the  noise  kind of low attenuation  noise  ssimilarly,thirteen ten 1310 nm  noise  nanometeris another window  but this window is quite wide although it may not look very wide in this diagram  in actual practice  this is quite wide so this is the wider window and we get good optical amplifiers we will come back to this point when we discuss optical amplifiers  refer slide time  06  38  07  37 min  why do we require optical amplifiers  because there are losses in fiber,losses in fiber may be due to various reasons  one  of course  the main thing is absorption that is what we showed in the previous diagram ; it loses energy to the atom and absorbs some of the photons so we get lower magnitude or lower strength of the light signal  as we go to longer and longer distances then there is scattering of photons by the medium so there is rayleigh scattering  due to slight changes in the refractive index of glass ; then there is mie scattering due to imperfection of the cylindrical structure  it ? s made to rigorous specification  but it ? s never exact in the engineering world ? it can never be exact so we get all these different types of scattering  absorption  etc  leading to losses in fiber  refer slide time  07  39  07  53 min  apart from these just lowering of signal strength  one problem is that the losses are in nonuniform for different wavelengths ok that means that tthe  noise  loss may be more for one particular frequency and may be less for another particular another frequency the trouble is  when you take a waveform  specially a digital waveform  which is a square waveform and if you analyse it  you will get a lot of spectral component iif you do a fuller transformation on that  you will get the different harmonics or components of that particular wave shape and the and these for that for the perfect square shape to come up  these different harmonics have to be at specific strengths compared to each other ddue to differential losses at different frequencies  what would happen is that their balance would get disturbed what you will actually see is that your pulse shape has changed  refer slide time  08  54 ? 09  23 min  this is known as chromatic dispersion ? chromatic because it depends on the wavelength or frequency  or the color of the light that is why it ? s called chromatic different spectral components of pulse travel at different velocities  noise  tthis is another problem and there is something called group velocity dispersion so wwe get some kind of velocity for all these different components and this leads to some kind of dispersion  noise   refer slide time  09  24 ? 09  46 min  so this is an example of chromatic pulse ? we need not go into the details of this  but this is the input pulse whereas in the output pulse  it has a much more flattened shape because these different components have been attenuated differently as they went along the fiber for compensating these dispersions  nowadays some special types of fibers have come up ; we can not go into details of these ? one is the reduced dispersion fiber by dispersion shifted fibers we mean the natural dispersion is that is sort of acted on nonzero dispersion shifted fibers anyway  the point is that normal smf is there in most of the places  say  more than ninety five percent95 % of the deployed plant dispersion is measured in pico second per nanometer kilometer ; so dispersion is much lower for some of the interesting areas or the window  we get an almost zero dispersion for these fibers so we can get very special fiber these days  which may be utilized for very long haul applications  where dispersion becomes a problem by the way  for short haul applications  when you are travel through a few kilometers  then the dispersion is not much of a problem and we need not bother about dispersion shifted characteristics of the fiber because in ordinary fiber  whatever the dispersion it gives in that small distance  will not matter so much  refer slide time  11  20  11  25 min  we have a bandwidth span product ; that means  how much bandwidth for what kind of distance this is very common in almost all kinds of transmission lines ok  noise  sso a transmission line  which operates at a particular speed quite well for some distance  will not operate that well if you either increase the rate at which you are pumping in the data  increase the frequency  or if you keep the data rate constant and increase the length that would also not work very well sso for any kind of medium  we get the bandwidth distance product  which tends to be more or less sort of constant so aa fiber which is good for at a particular speed for lets 2 kilometers may be just good enough for 1 km when you double the data rate  refer slide time  12  25  13  26 min  for older kind of smf at 1310 nm  we get high speed ? mean these are some typical figures  they are not exact figures ; these are some typical figures to get some ideas sso we can operate at two point five giga 2.5 gbits/sec for six forty kilometers640 kms without amplification  or 10 gb/sec for  let ? s say  100 kms a decent smf can take up to two point five giga bits per second 2.5 gb/sec for four thousand four hundred kilometers 4400 kms,ok which spans from one continent to another or ten giga bits per second 10 gb/sec for five hundred kilometers 500 kms of course  you should multiply these figures for dwdm dwdm we will talk about wdm presently  where it gives you a large number of channels  may be forty 40 channels so you can see that you can realize really tremendous data rate  very very high data rate  using this fiber optic communication and that is the major advantage of fiber tthere are  of course  other advantages like have i mean you are not susceptible to electromagnetic radiations ; that is one good thing because nowadays with so many gadgets all around and so many things moving around  we get all kinds of very noisy electromagnetic ambience ; but  noise  i mean fiber is immune to all that that s that is the good point about fiber  refer slide ime  13  59  4  46 min  next  from fiber  we come to light source that is the led light source is of course of two types  depending on whether we are using multi mode fiber or single mode fiber usually  we would use ordinary light in a multi mode fiber and the source of the ordinary light would be led one good thing about the led led is of course that it is very cheap sso the good thing about multi mode fiber is that it is cheap ; the only thing is that it will not scale up very well with that bandwidth distance product an led led is just a forward biased pn-junction ; what happens is that recombination of injected minority carriers by spontaneous emission produces light and it is a broad spectrum up to gain bandwidth of the medium ; so that is an led  refer slide time  14  47  15  42 min  it is usually of a low power ok power you remember that for power you have to divide it by time although you might get a continuous source of light  it will be comparatively low power like twenty d b m 20 dbm  of low internal modulation so you can modulate it if you internally modulate it you can modulate it at best of with hundreds of mega bits/sec  per second which of course  for some applications  may be more than enough speed but then again  when you are talking about the core of wide area network  then it may not it may be it will is a very low speed so obviously in the core of a wide area network  we will not be using multimode fibers or leds led slicing is led plus a filter iit gives some power loss ; we need not bother about that at the moment  refer slide time  15  43  15  50 min  the other kind of light source  which is very important  is the laser ; ok of course  we use semiconductor lasers here almost always it gives a high i mean much higher power output so in a short duration of time we get quite intense pulses of light that is very good ; it has a high power output ; it has got a sharp spectrum ; that is it is coherent ; that is  it is not at the wide range of spectrum  refer slide time  16  12  16  42 min  so it is sharp spectrum  that is the property of a laser that reduces the chromatic dispersion it can be modulated either internally or externally  so that is also a good point it is good for longer distances and larger bit rates compared to mlm mnf  refer slide time  16  43  17  45 min  mlm we need not bother about mlm we have some special kind of devices  the tunable lasers tunable lasers means a laser  but we can change the color of light over a certain range and as we will see later  the tunable laser may be quite important in some cases we will see what kind of time we require for tuning ; it ? s fairly rapid in the sense that it is in less than milliseconds ? range in the order of milliseconds  we can change the frequency emitted by the lasing system it has a wide and continuous range of over hundred nanometer 100 nm ; has a long lifetime and is stable over lifetime ; and it is easily controllable and manufacturable these are the good points about the tunable lasers  refer slide time  17  46  18  21 min  the methods could be eelectro optical ; changing the refractive index by injecting the current or applying an electromagnetic field sso that is one way ; it could be temperature tuning although it is not much preferred first of all its range is narrow and then it may degrade the lifetime of a laser if you want to do it through temperature ; or mechanical tuning using mems mems this is compact but one problem of this tunable laser is that it is costly ; it is quite costly and that is why this is not very common ; also  it is slightly more complex to manage but in some instances  it gives some advantages we will mention this point later on when we discuss wdm wdm  refer slide time  18  43  19  20 min  then wwe come to receivers ? are of course the light pulse coming will have to be detected by something  whether a pulse has come or whether the pulse has not come  whether it ? s one 1 or a zero 0 sso if an photon comes  it will sort of push up an electron to a conduction band sso that is the standard photo detector  which you must have studied at school so if it is sort of higher than this gap  this energy gap  then we get the electron in the conduction band  which will naturally show up by conducting ; so that is the easiest thing  refer slide time  19  21  21  03 min  i was mentioning that nowadays we have fibers running for thousands of kilometers sso if we have such long haul fibers  what would happen is that naturally  after some distance  what you have to do is that your signal will become weak  so you have to amplify this previously this distance would be something of the order of four five kilometers 4 ? 5kms ok nnowadays twenty five kilometers 5 kms is very common  you can go hundreds  or in special cases  you can go even up to many hundreds of kilometers ; you can go without amplification but whatever it is  after some distance if  because of this loss  absorption  dispersion  etc  you will have to amplify the signal for optical signals traveling long distance through fiber  it needs to be strengthened this may be done through olt olt  which was the older technology in olt  what was done was that  the optical signal was converted back to the electronic domain and then you amplify the signal and then push it back to the optical domain obviously this has quite a number of disadvantages  main disadvantage being cost and the speed ; that means cost is higher and speed is lower that has some advantages also i will mention it later ; this may be done in optical domain the idea was the that  it could be done in optical domain through erbium doped fiber amplifiers there are other kinds of dopers that i will mention ; we will see that  refer slide time  21  04  21  27 min  so this is the scenario ? we have this light propagating and as it propagates with distance  the signal level comes down when it comes down to minimum operating level  at that point  we will have an amplifier that will amplify the signal back ; and then again  after sometime  it will sort of decay and then we again amplify so these are some kind of repeaters  refer slide time  21  28  23  33 min  we come to one point where simple amplification is not always enough ; sometimes we require regeneration these are the so-called 3rs  reamplify  reshape and retime as far as absorption is concerned  if you simply amplify  that means increase the size  the strength of the signal is good enough so the absorption loss or the loss of strength can be handled that way but when you talk about very long distances  due to chromatic dispersion  etc  wave shape will become distorted as we have seen in very long distance  on the other side there will be tremendous amount of errors that may not be acceptable so we have to get a wave into shape now there are some special kinds of fibers ; try to do it in optical domain but more commonly they are deployed today to bring them to electronic domain and then give them the right square shape once again so that is the second r ; and the third r is the timing ; that means how do you keep all the clocks synchronized because  after all  some tdm signals  etc  are traveling ; so you will have to have a very strict control over the time so these reamplify  reshape  and retime  are the 3 r kind of regeneration sometimes we only do with two r 2 rs or simply one r 1 r  which is simply reamplify  which can be done simply with an edfa  that is  the erbium doped fiber amplifiers ; and at certain distances  we simply reamplify this  refer slide time  23  34  24  32 min  if you want to do some reshaping  suppose this is the input shape  which has come this goes through the oe transformation  the optical domain  and we come to the electronic domain we amplify this ; shape this properly ; and then again push it back from the electronic domain to the optical domain so we again get a nicely shaped pulse and the output  which has been strengthened as well as reshaped the problem of this is that  naturally  we can do the reshaping as well as amplification at the same time but one problem that we face in this case is that the cost is high ; and the other problem is that optics inherently can operate at a very high speed but we can get fairly high-speed electronics also but it becomes more and more difficult in the electronic domain as the speed becomes higher and higher and when that happens we would like to do it in optical domain if we could and there are a number of schemes today for handling this in the optical domain for example  we can have some very specially shaped optical waves  whose shape will not change over a distance they are called solitons ; they are sort of done in a way that different spectral components are mixed in such a manner that after dispersion  they cancel out each other similarly there are fibers which give the dispersion in the opposite direction to the standard fiber so that it can be brought back to shape so these are all the atoms to handle this reshaping in the optical domain  but the most widely deployed system as of today is to take it to the electronic domain and do it there  refer slide time  25  51  26  57 min  regenerators are specific bit rate  so that is another problem with the electronic domain it is an opaque unit ; that means it has specific bit rate and modulation format that is used ; whereas optical amplifiers  in optical domain what ever is coming is being amplified so it is transparent to the bit rate  the modulation format  the protocol  etc ; it is transparent to all that whatever is coming  is simply amplifying so that is the good thing about optical amplifiers the system with optical amplifiers can be more easily upgraded to higher bit rate  without replacing the amplifiers if you are going to use the same infrastructure for higher bit rate as service providers often want to do  in that case  if you are taking it to the electronic domain  you have to replace optical amplifiers have large gain bandwidth ; they are also key enablers of dense wavelength division multiplexing  refer slide time  26  58  27  31 min  one of the standard kinds of fiber amplifiers  which is very widely deployed  is the erbium doped fiber amplification ? we have talked about this earlier erbium has a large number of excited states and from some of the excited states  it gives out this 1550 nm light  exactly the wavelength used in the third window a few meters of optical fiber doped with a few parts per million of erbium is pumped with 1480 or 980 nm laser to give amplification  refer slide time  27  32  27  46 min  so edfas amplify all lambdas in the 1550 window simultaneously so key performance parameters include saturation output power  noise figure  gain flatness  pass band  etc  refer slide time  27  47  28  23 min  we have input signal coming through regular fiber and this is the part which is erbium doped and you pump some laser so these are combined using some kind of couplers ; i will be talking about couplers later on because of the pumping laser  the erbium ions become excited and when the incoming signal hits these  they fall back to the ground state may be emitting more photons  so the signal is amplified  refer slide time  28  24  29  11 min  there is another kind of amplifier called raman amplifier  which uses longer lengths of fiber this has other advantages  basically using raman scattering  so we are not going to the details of this once again it has pumping through some kind of pump and signal this pump may be in the same direction as the signal is going or it may be counter pumped in the other direction ; the whole point is that  this pump keeps the atoms excited and  due to raman scattering  so more and more photons come out  so we get an amplified signal finally  refer slide time  29  12  29  45 min  we have other kinds of dopants also  erbium doped for 1550 nm range  praseodymium doped fluoride fiber  pdffa  for 1310 nm  thorium doped for 1350 ? 1450 nm  thulium doped ? well  this is somewhat more academic  because thulium is considered as a rare material ; it is not easily available and even if it is available  it is quite costly anyway this is in the 1450 ? 1530 nm range   refer slide time  29  46  30  03 min  tellerium erbium doped fibers in 1532 ? 1608 nm range raman amplifiers address an extended spectrum using standard single mode fiber that is the good thing about raman amplifier  refer slide time  30  03  30  09 min  so edfas are popular in c-band  raman are proposed for s-band  and gain shifted edfa for l-band etc  refer slide time  30  10  30  32 min  we can have a look at this ? depending on the wavelengths  different kinds of doped and different kinds of fiber amplifiers become is more relevant  like edfa for this range from 1550 etc  tdfa  pdfa  raman amplification for this entire range  etc now we talk about some more components  the first component we talk about is  refer slide time  30  45  31  07 min  some sort of passive device called a coupler optical coupler combines and splits signal wavelengths independent or selective ; that means  the coupler can be wavelength independent as well as wavelength selective ; fabricated using waveguides in integrated optics light couples from one waveguide to a closely placed waveguide because the propagation mode overlaps the two waveguides  refer slide time  31  08  31  40 min  so this is the picture  we have an input waveguide coming in and another input may come ; and there are 2 outputs so what might happen is that it may be used as a coupler ; that means  2 signals joining together  like we wanted to do when we tried to put in a pump in the edfa amplifier or it may be used for splitting the signal coming from one and it is getting split into two directions so this can be used in various ways  refer slide time  31  41  32  3 min  so if ? is the coupling ratio  power output 1 is ? times power of input 1 whereas power output 2 is 1 ? ? times power of input 1 so you see that together the input power is split into two parts if you want to have ? = ?  these are so-called 3-db couplers we put half the power in input 1 and half the power in output 2 if you want to broadcast the same signal to two different destinations  you can use a 3db coupler as i said  light couples from one waveguide to a closely placed waveguide   refer slide time  32  31  32  38 min  iidentical waveguides complete coupling and back periodically sso this is the couple mode theory  refer slide time  32  39  33  06 min  of course we have to follow the conservation of energy constraint so you can not get more ? since this is a more passive device  we can not get more out of it then when you put in actually you get less  so it is possible that electric fields at two outputs have the same magnitude so they are exactly the same  but will be 90 ? out of phase and lossless combining is not possible  so nothing is really 100 % efficient  refer slide time  33  07  33  50 min  passive star is a sort of generalization of this it ? s a broadcast device to more than one recipient it divides the received signal to all output ports at original wavelength ; of course  if you divide the same signal into so many different signals  the received strength of the signal will be proportionally less you have to handle it by either amplification or some other thing  or maybe  weak signal is good enough for your application etc so n ? n passive stars can route n simultaneous connections through  refer slide time  33  51  34  12 min  this is an example of an eight-port splitter whatever signal is coming  it is getting divided into two and again divided into two so we get eight signals over here ; we can actually use some 3-db couplers to form this eight port splitter from y-couplers  refer slide time  34  13  34  35 min  this is another example of an 8 ? 8 star coupler there are 8 lines ; any of these might communicate something which will be broadcast to all the other seven ports so such things are used for broadcasting  refer slide time  34  36  35  26 min  we now come to optical modulation ; that means how we modulate it of course the simple modulation scheme ? since we are talking only about digital systems ? is on/off keying  that means either on or off or 1 or 0 there are two types of modulation techniques  namely  direct modulation versus external modulation in modulation  the extinction ratio of output power for bit = 1 to output power for bit = 0 is very important we want this to be as high as possible some lasers can not be directly modulated ; that is one problem another problem with direct modulation is that you are modulating at the source  modulating at the same place  from where that light is being generated whatever diode or whatever you are using for generating it  we want to modulate through that only so that is the direct modulation  whereas in indirect modulation  what we will do is that there is a continuous source of light and just as the light comes out  we will modulate it we will put it on or off by making it go through something so that is the external modulation  refer slide time  36  00  36  22 min  so the solution is ? naturally since direct modulation has the problem about the chirp  etc ? external modulation for higher speeds  longer distance dispersion  limited regimes  etc we prefer external modulation the light source is continuously operated external modulation turns light signal on or off ; so this is the optical modulation  refer slide time  36  23  36  49 min  they can be integrated in the same package as laser ; the laser source is there and the modulator is external  but they can be packaged electro absorption or ea modulator is one important kind of modulator ; it applies an electric field  shrinks the band gap and photons are absorbed  refer slide time  36  50  37  03 min  so this is the picture  this is the continuous source of this light  which is being modulated  that is  being put on or off depending on whether you want to transmit 1 or 0  refer slide time  37  04  37  52 min  the next set of components are multiplexers  filters  and gratings we will talk a little bit about it if you look at this  these are all wavelength selective devices  multiplexers  filters  and gratings in a wavelength filter suppose ? 1  ? 2  etc so many ? s are coming  but i want only ? 1 out ? 2  ? 3  ? 4  etc  are absorbed ; whereas if you are a multiplexer  i want the different ? s coming in different lines i want all to be mixed together and use the same line that is a wavelength multiplexer  refer slide time  37  53  39  20 min  so the application could be particular wavelength or a particular wave band selection wave bands are nothing but some contiguous  operating wavelengths  which all are side by side in the operating window  whatever be the window you are using ? 1550 or whatever ? you can have a number of ? s  all side by side there is a guard band between each of these operating ? s ? the iqt has specified how much guard band etc  you will have to have you can have large number of ? s  all grouped together in the same window now you can select a band out of that  a bunch of frequencies out of that  instead of selecting only one ; that is wavelength band selection static wavelength cross connects and oadms oadms  optical add drop multiplexers   you have come across this term  optical add drop multiplexers in the context of sonet  but in the optical domain we require optical add drop multiplexers ; we will come to that equalization of gain  that is another application ; filtering of noise ; ideas used in laser operation and dispersion compensation modules etc these are the different applications  refer slide time  39  21  40  20 min  one of the standard wavelength selective components is arrayed waveguide gratings these are curved selection of silica acting as waveguides each waveguide is slightly different in length the incoming signal is split to be slightly different in length is like a running track bend ? in a running track you know that the outer track  in any athletic event  in an 800 m race or something  the outer track is longer than the inner track that is why athletes are given proper handicap  because we want to make all the distances same here deliberately  we want the distances to be different if they are different  they are going to sort of arrive out of phase at the output the incoming signal is split ; every wavelength then travels down each waveguide  refer slide time  40  21  40  34 min  time delayed signals recombine to give each wavelength its own waveguide ; can be reversed to act as a multiplexer rather than a demultiplexer ; usable in optical integrated circuits ; easily combined with other functions  refer slide time  40  35  41  11 min  this is the picture we had seen earlier  if your light is going in this direction  what you are doing is that you are demultiplexing one bunch of frequencies are coming ; we want all these different colors to get separated out so that is the demultiplexing action going on if different wavelengths or different colors of light are coming in the other direction  it ? s just the direct opposite thing  and we will get a multiplexer  so it is an awb acting either as a multiplexer or demultiplexer  depending on how you operate  refer slide time  41  12  43  07 min  s we come to optical switches ; we have seen electrical switches now we will talk little bit about optical switches what is optical switching ? you remember electrical switching ? in electrical switching  there are some one input lines coming in line i and i want to get that signal out through line j so we want to operate the switch through the switch or something  want to connect the ith line and jth line the basic idea was that the signal coming down from ith line has to go out of the jth output line that was the simple switching element it is the same thing here also ; some wavelength is coming through some fiber  that is  one input port we want to get it out of another fiber for the time being  we do not have any wavelength conversion kind of thing  thus the same wavelength has to push it to another fiber so that is my switching at the optical plane redirecting light from one optical fiber to another without electrical conversion so we are always harping on that without electrical conversion  we can operate it at a much higher way and higher speed secondly it may be cheaper also  to operate at high speeds ; it will be cheaper and then if you upgrade eventually  this is going to be transparent this does not depend on the underlying protocol  etc  that is being used at the higher layer these are the other advantages of doing at the optical plane now  the most advanced optical switching technology is mems  that is  tiny movable mirrors  refer slide time  43  08  43  13 min  so this is the crossbar switch 4 ? 4 switch  refer slide time  43  14  44  09 min  we have seen this picture also that is a mems optical cross connect you see that these are all tiny mirrors ; what i can do is that  to follow the red line which is coming  we are using these two mirrors to push it to line number 3 over here ? from line number 1 to line number 3 this way  by just adjusting the angles of the mirrors which we can do through the mems technology  we can have a simple and elegant kind of switch the light goes and bumps off a couple of mirrors and goes out the other fiber whatever signals it is carrying  what protocol it is carrying is immaterial ; similarly  the data rate also is immaterial this is a mems optical cross connect now all this technology sort of enables what is known as the wdm technology  which is a wavelength division multiplexing as i was mentioning when we were discussing multiplexing  wavelength division multiplexing is nothing but frequency division multiplexing ; that means  you want different channels to come at different frequencies it ? s just the opposite of optical domain in wavelength division multiplexing  different wavelengths and different ? s are getting together and light with different wavelengths can very well mix together and go to the other end for example  sunlight has all the frequencies that are mixed up to appear as white light to us ; if you send this through a prism  all the frequencies split up so we will get some kind of a demultiplexing action so you want to use this property for wavelength division multiplexing for achieving very high data rates there are two kinds of wavelength division multiplexing  or wdm  that people talk about mostly in the backbone  people use dwdm dwdm means dense wavelength division multiplexing by dense we mean that we put a lot of channels  lot of ? s side by side  so we get a lot of channels of course  dwdm would not usually be deployed in a lan because dwdm is costly but then  at the backbone  where you are talking about very high speed that cost is effective ; whereas another kind of wavelength division multiplexing is coming into lans  which is called cwdm or coarse wavelength division multiplexing there the wavelengths are not so closely packed ; they are sort of more sparsely placed  which is a good thing because then  the stability of these laser sources  detectors etc  are less of an issue so cdwm tends to be cheaper than dwdm and cwdm is coming into use these days we will start our discussion on wavelength division multiplexing in this lecture and then we will continue in the next lecture with the details of wavelength division multiplexing  refer slide time  46  53  47  07 min  wdm increases the capacity of optical fibers ; different wavelength lasers  each transmit at same time down the same fiber ; multiplexing is combining wavelengths ; demultiplexing is splitting of wavelengths  refer slide time  47  08  48  03 min  usually the number of wavelengths is in the power of 2  4  8  16  64  128  etc  things like 32  64 etc  are big 16  32  64 are deployed ; now people are talking about hundreds of wavelengths  may be even thousands wavelengths are separated by multiples of 0.8 nm guard band  i mentioned this is equivalent to 100 ghz there is 100 ghz separation between two ? s ; that is the minimum separation  which is mandated by the itu standard coarse wdm has widely separated wavelengths so that the components can be little less sophisticated and much more cheaper  refer slide time  48  04  48  25 min  this is a wdm system ; different lasers of different lights coming together to the multiplexer  flowing down the same fiber at the same time  being demultiplexed on the other end the multiplexer  demultiplexer could be an awg or some other  refer slide time  48  26  48  59 min  in point-to-point wdm system  one point is connected to another point through multiple wavelengths wdm is the most cost-effective technology in point-to-point technology  where the distance is about greater than 50 kms in shorter distances  multi fiber is cheaper because in dwdm naturally your end equipment tends to become quite costly if you have some extra strands of fiber  then that may be a cheaper option  refer slide time  49  00  49  48 min  wavelength add drop multiplexer is one thing we require  when we want to add on to a stream of wdm that is going through a fiber  or we want to add on some extra wavelengths on the wave or we want to take just one wavelength out and let the others pass through so that is a wavelength add drop multiplexer needed for routing and wavelength assignment it performs the same functions as the electronic counterpart at the level of wavelengths we had come across its electronic counterparts like adm in sonet ; the same thing happens in the optical domain one problem is that granularity is high  because of inherent capacity of wavelengths ; so even if you take out one single wavelength out of a whole bunch of wavelengths  that one single wavelength can carry a large amount of traffic  let us say  2.5 gbps ? that is a high amount of traffic if there are small amounts of traffic which you want to add or drop  then this is not a very effective technology  refer slide time  50  12  50  36 min  wadm has multiplexers and a set of 2 ? 2 switches  one for each wavelength they are managed electronically ; that means  these switches  etc are programmed electronically to control which incoming length flows through and which is dropped  refer slide time  50  37  51  01 min  so fiber and wavelength cross connects are important components of this wdm  needed in real networks point-to-point connection does not need a passive star  or a passive router or active switch  but in wdm  we may require all these for an entire communication network we have discussed this  refer slide time  51  02  51  51 min  passive router  it can route separately each wavelength  no wavelength conversion ; it allows wavelength reuse  same wavelength can carry multiple connections through the router for example  the same wavelength coming from fiber 1 going through fiber 3 and the same wavelength coming in from fiber 2 and going out through fiber 4 is perfectly possible if enough wavelengths are there  n ? n router  can route n2 simultaneous connections ; some routing issues are there we will discuss the routing issues in the next lecture  refer slide time  51  52  52  17 min  finally  we may have some active switch  which has all the features that a passive router has the difference is that active routing matrix  which has some functionality  has to be powered this is of course an issue when you are talking about a very long haul  refer slide time  52  18  52  20 min  with this we conclude our initial portion of our discussion and in the next lecture we are going to discuss the details of wdm ; that is  how different wavelengths are routed through the network how we can get an entire network output thank you preview of next lecture computer networks prof sujoy ghosh dept of computer science& engineering iit kharagpur lecture 11 routing and wavelength assignment in wdm all optical networks  refer slide time  52  49 min  good day  so iin this lecture  we are going to continue our discussion on wavelength deviation and multiplexing specifically we are going to talk about routing and wavelength assignment  refer slide time  53  09-54  14 min  rrouting and wavelength assignment to what ? well routing and wavelength assignment means that we have some stream of packets or whatever data or whatever communication is going on from one source to one destination now tthese sources and destination  first of all one thing is of course of point to point connection is if there is point to point connection is directly sends to the fiber that is  noise  simple but in general  they will not be directly connected general tthey will go through a network   noise  they go through some intermediate notes to reach the destination sso this for this stream  we have to route this that is one problem and the other thing is that may be they are all the stream right some particular wavelength for the time being llet us assume that it is continued on the same wavelength sso we have to assign one wave length  so we have this problem of routing and wavelength assignment  refer slide time  54  15 54  23 min  in wdm all optical networks ok of course we can do  noise  routing etc  very easily in the electronic domain   noise  that is known  noise  routing in the electronic domain how it is done etc  are we are not discussed is as easier we were discussed it  later on iin the this these series of lectures but routing  i mean we are talking about a simple kinds of routing problem here sso we will talk about routing and wave length assignment  refer slide time  54  43-56  53 min  sso this is an example of light path establishment  suppose you have these a b c d e abcde these are connected so iin the first part  the left half of the figure what we have is the physical connection from aa to bb  there is a connection and bb to dd there is a connection and so on iin this one  noise  ii show some  noise  that means some  noise  rw routing and wavelength assignment has already been done and some of the wavelengths and some of the links have been used sso here only two 2 wavelengths are used  let us say aa to bb  noise  they are not connected say a to c a to c the a to c a to c light path has been established via bb so and aa to bb  there will be a switch which will switch the  noise  and suppose this dashed line is the lambda one lambda 1 sso the lambed lambda1 a one coming through this fiber from a to b a to b that is switched to lambda one lamda 1  noise  using the same wavelength to the outgoing fiber from b to c b to c so wwe have light a paths established between b to c b to c similarly c to d c to d  there is a light path b to d b to d  there is a light path d to e d to e there is a light path e to f e to f there is a light path d to f d to f  there is a light path and so on  using the same lambda one lamda 1 then ii want to connect e to c e to c now ii can not go from e to c e to c after say lambda one lamda 1 has been  noise  assign ii can not go  but from ee by lambda one lamda 1 to anywhere because all the outgoing fibers the lambda ones lamda 1s have been used up this side  for a this side for bb and this side for f f  noise  sorry sso inorder to connect from e to c e to c  ii use the another wavelength which say lambda two lamda 2 which connects me higher dd so and the dd cross connect will connect this particular lambda lamda from this fiber to this fiber so wwe will get a direct  noise  light path from e to c e to c ssimilarly we will get a light path from b to f b to f using lambda two lamda 2a to b a to b using lambda two lamda 2 and this way   noise  they are all connected  refer slide time  56  55-57  40 min  aa burst has a long and variable length payload  if it is long low amortized overhead no fragmentation aa control packet is sent out of band that means using some other lambda lambda lamda control and reserves bandwidth that is lambda lamda data reserves a particular bandwidth along a particular path and configures the switches sso it is like a setting up temporary light path from the source to the destination ok aa burst is sent after an offset time  it arrives at a switch after it has been configured sso no buffering is needed  so our original problem is of not having optical buffer sso buffers in the optical domain that is avoided in this fashion  refer slide time  57  42-58  20 min  sso what will happen is that  this will now moving towards the other end to the next node and  noise  here this will again  noise  do some  noise  do the go through the o to e o two e and then do the  noise  switch  noise  configuration and then again e to o e to o and go to the next half and this delay etc  is calculated in such a fashion that when the burst arrives  what happens is that we when the burst arrives at the intermediate node  the switch fabric is already configured sso you do not have to store it  you simply simply passes through in the optical domain sso that is  refer slide time  58  21-58  44 min  nice so offset of course is now t minus delta t ?  because it spent delta ? amount of time over here sso without any delay  the burst goes through the optical switch fabric  so depending on how many intervening notes are there  you have to have this original tt  so that finally when the tt is exhausted offset is exhausted but you have also reached your  noise  destination 